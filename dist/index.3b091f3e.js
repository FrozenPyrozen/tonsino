function t(t,e,r,i){Object.defineProperty(t,e,{get:r,set:i,enumerable:!0,configurable:!0})}function e(t){Object.defineProperty(t,"__esModule",{value:!0,configurable:!0})}function r(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},a=n.parcelRequired7c6;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in s){var e=s[t];delete s[t];var r={id:t,exports:{}};return o[t]=r,e.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){s[t]=e},n.parcelRequired7c6=a),a.register("ihoyg",(function(e,r){var i,n;t(e.exports,"Buffer",(function(){return i}),(function(t){return i=t})),t(e.exports,"INSPECT_MAX_BYTES",(function(){return n}),(function(t){return n=t}));var o=a("hqZtu"),s=a("5WQj6");const h="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;i=c,n=50;const u=2147483647;function l(t){if(t>u)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return p(t)}return f(t,e,r)}function f(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let i=l(r);const n=i.write(t,e);n!==r&&(i=i.slice(0,n));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Q(t,Uint8Array)){const e=new Uint8Array(t);return g(e.buffer,e.byteOffset,e.byteLength)}return m(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return g(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return g(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return c.from(i,e,r);const n=function(t){if(c.isBuffer(t)){const e=0|w(t.length),r=l(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?l(0):m(t);if("Buffer"===t.type&&Array.isArray(t.data))return m(t.data)}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function p(t){return d(t),l(t<0?0:0|w(t))}function m(t){const e=t.length<0?0:0|w(t.length),r=l(e);for(let i=0;i<e;i+=1)r[i]=255&t[i];return r}function g(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,c.prototype),i}function w(t){if(t>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(n)return i?-1:V(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return _(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}function C(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:E(t,e,r,i,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):E(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function E(t,e,r,i,n){let o,s=1,a=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,h/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){let i=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===h)return i*s}else-1!==i&&(o-=o-i),i=-1}else for(r+h>a&&(r=a-h),o=r;o>=0;o--){let r=!0;for(let i=0;i<h;i++)if(u(t,o+i)!==u(e,i)){r=!1;break}if(r)return o}return-1}function A(t,e,r,i){r=Number(r)||0;const n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;const o=e.length;let s;for(i>o/2&&(i=o/2),s=0;s<i;++s){const i=parseInt(e.substr(2*s,2),16);if(J(i))return s;t[r+s]=i}return s}function B(t,e,r,i){return X(V(e,t.length-r),t,r,i)}function F(t,e,r,i){return X(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function M(t,e,r,i){return X(Y(e),t,r,i)}function D(t,e,r,i){return X(function(t,e){let r,i,n;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function _(t,e,r){return 0===e&&r===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);const i=[];let n=e;for(;n<r;){const e=t[n];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(n+s<=r){let r,i,a,h;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[n+1],128==(192&r)&&(h=(31&e)<<6|63&r,h>127&&(o=h));break;case 3:r=t[n+1],i=t[n+2],128==(192&r)&&128==(192&i)&&(h=(15&e)<<12|(63&r)<<6|63&i,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:r=t[n+1],i=t[n+2],a=t[n+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(h=(15&e)<<18|(63&r)<<12|(63&i)<<6|63&a,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),n+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=I));return r}(i)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return d(t),t<=0?l(t):void 0!==e?"string"==typeof r?l(t).fill(e,r):l(t).fill(e):l(t)}(t,e,r)},c.allocUnsafe=function(t){return p(t)},c.allocUnsafeSlow=function(t){return p(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const i=c.allocUnsafe(e);let n=0;for(r=0;r<t.length;++r){let e=t[r];if(Q(e,Uint8Array))n+e.length>i.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(i,n)):Uint8Array.prototype.set.call(i,e,n);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,n)}n+=e.length}return i},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const e=n;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},h&&(c.prototype[h]=c.prototype.inspect),c.prototype.compare=function(t,e,r,i,n){if(Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),h=this.slice(i,n),u=t.slice(e,r);for(let t=0;t<a;++t)if(h[t]!==u[t]){o=h[t],s=u[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return C(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return C(this,t,e,r,!1)},c.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}const n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return A(this,t,e,r);case"utf8":case"utf-8":return B(this,t,e,r);case"ascii":case"latin1":case"binary":return F(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function x(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function T(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function N(t,e,r){const i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=e;i<r;++i)n+=tt[t[i]];return n}function R(t,e,r){const i=t.slice(e,r);let n="";for(let t=0;t<i.length-1;t+=2)n+=String.fromCharCode(i[t]+256*i[t+1]);return n}function U(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,r,i,n,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function O(t,e,r,i,n){G(e,i,n,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function L(t,e,r,i,n){G(e,i,n,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function P(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $(t,e,r,i,n){return e=+e,r>>>=0,n||P(t,0,r,4),s.write(t,e,r,i,23,4),r+4}function j(t,e,r,i,n){return e=+e,r>>>=0,n||P(t,0,r,8),s.write(t,e,r,i,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let i=this[t],n=1,o=0;for(;++o<e&&(n*=256);)i+=this[t+o]*n;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let i=this[t+--e],n=1;for(;e>0&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||U(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||U(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||U(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=et((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),c.prototype.readBigUInt64BE=et((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let i=this[t],n=1,o=0;for(;++o<e&&(n*=256);)i+=this[t+o]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let i=e,n=1,o=this[t+--i];for(;i>0&&(n*=256);)o+=this[t+--i]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||U(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||U(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=et((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=et((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||U(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||U(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||U(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||U(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){k(this,t,e,r,Math.pow(2,8*r)-1,0)}let n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){k(this,t,e,r,Math.pow(2,8*r)-1,0)}let n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=et((function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=et((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}let n=0,o=1,s=0;for(this[e]=255&t;++n<r&&(o*=256);)t<0&&0===s&&0!==this[e+n-1]&&(s=1),this[e+n]=(t/o>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}let n=r-1,o=1,s=0;for(this[e+n]=255&t;--n>=0&&(o*=256);)t<0&&0===s&&0!==this[e+n+1]&&(s=1),this[e+n]=(t/o>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=et((function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=et((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return $(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return $(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,i){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);const n=i-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),n},c.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let n;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{const o=c.isBuffer(t)?t:c.from(t,i),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=o[n%s]}return this};const q={};function K(t,e,r){q[t]=class extends r{get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}}}function H(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function G(t,e,r,i,n,o){if(t>r||t<e){const i="bigint"==typeof e?"n":"";let n;throw n=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(o+1)}${i}`:`>= -(2${i} ** ${8*(o+1)-1}${i}) and < 2 ** ${8*(o+1)-1}${i}`:`>= ${e}${i} and <= ${r}${i}`,new q.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,r){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||z(e,t.length-(r+1))}(i,n,o)}function W(t,e){if("number"!=typeof t)throw new q.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,r){if(Math.floor(t)!==t)throw W(t,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),K("ERR_OUT_OF_RANGE",(function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=H(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=H(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i}),RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function V(t,e){let r;e=e||1/0;const i=t.length;let n=null;const o=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){return o.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const tt=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function et(t){return"undefined"==typeof BigInt?rt:t}function rt(){throw new Error("BigInt not supported")}})),a.register("hqZtu",(function(e,r){var i,n;t(e.exports,"toByteArray",(function(){return i}),(function(t){return i=t})),t(e.exports,"fromByteArray",(function(){return n}),(function(t){return n=t})),i=function(t){var e,r,i=c(t),n=i[0],o=i[1],h=new a(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),u=0,l=o>0?n-4:n;for(r=0;r<l;r+=4)e=s[t.charCodeAt(r)]<<18|s[t.charCodeAt(r+1)]<<12|s[t.charCodeAt(r+2)]<<6|s[t.charCodeAt(r+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;2===o&&(e=s[t.charCodeAt(r)]<<2|s[t.charCodeAt(r+1)]>>4,h[u++]=255&e);1===o&&(e=s[t.charCodeAt(r)]<<10|s[t.charCodeAt(r+1)]<<4|s[t.charCodeAt(r+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e);return h},n=function(t){for(var e,r=t.length,i=r%3,n=[],s=16383,a=0,h=r-i;a<h;a+=s)n.push(d(t,a,a+s>h?h:a+s));1===i?(e=t[r-1],n.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],n.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return n.join("")};for(var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=h.length;u<l;++u)o[u]=h[u],s[h.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}function d(t,e,r){for(var i,n=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),n.push(f(i));return n.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),a.register("5WQj6",(function(e,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var i,n;t(e.exports,"read",(function(){return i}),(function(t){return i=t})),t(e.exports,"write",(function(){return n}),(function(t){return n=t})),i=function(t,e,r,i,n){var o,s,a=8*n-i-1,h=(1<<a)-1,u=h>>1,l=-7,c=r?n-1:0,f=r?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+c],c+=f,l-=8);if(0===o)o=1-u;else{if(o===h)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=u}return(d?-1:1)*s*Math.pow(2,o-i)},n=function(t,e,r,i,n,o){var s,a,h,u=8*o-n-1,l=(1<<u)-1,c=l>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+c>=1?f/h:f*Math.pow(2,1-c))*h>=2&&(s++,h/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*h-1)*Math.pow(2,n),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,n),s=0));n>=8;t[r+d]=255&a,d+=p,a/=256,n-=8);for(s=s<<n|a,u+=n;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*m}})),a.register("7vYz3",(function(t,e){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o=a("5Io6y").Buffer}catch(t){}function s(t,e,i){for(var n=0,o=Math.min(t.length,i),s=0,a=e;a<o;a++){var h,u=t.charCodeAt(a)-48;n<<=4,n|=h=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,s|=h}return r(!(240&s),"Invalid character in "+t),n}function h(t,e,i,n){for(var o=0,s=0,a=Math.min(t.length,i),h=e;h<a;h++){var u=t.charCodeAt(h)-48;o*=n,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<n,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this._strip(),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},n.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=s(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);r+6!==e&&(n=s(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this._strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype._move=function(t){u(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l:n.prototype.inspect=l;var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?c[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(t);i=(p=p.idivn(l)).isZero()?m+i:c[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},o&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(n=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}n.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,n),s},n.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|i;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},n.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|i;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],w=8191&g,y=g>>>13,v=0|s[3],b=8191&v,C=v>>>13,E=0|s[4],A=8191&E,B=E>>>13,F=0|s[5],M=8191&F,D=F>>>13,_=0|s[6],S=8191&_,I=_>>>13,x=0|s[7],T=8191&x,N=x>>>13,R=0|s[8],U=8191&R,k=R>>>13,O=0|s[9],L=8191&O,P=O>>>13,$=0|a[0],j=8191&$,q=$>>>13,K=0|a[1],H=8191&K,G=K>>>13,W=0|a[2],z=8191&W,Z=W>>>13,V=0|a[3],Y=8191&V,X=V>>>13,Q=0|a[4],J=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,q))+Math.imul(f,j)|0))<<13)|0;u=((o=Math.imul(f,q))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,q))+Math.imul(m,j)|0,o=Math.imul(m,q);var wt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(n=(n=n+Math.imul(c,G)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(w,j),n=(n=Math.imul(w,q))+Math.imul(y,j)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,G)|0;var yt=(u+(i=i+Math.imul(c,z)|0)|0)+((8191&(n=(n=n+Math.imul(c,Z)|0)+Math.imul(f,z)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,q))+Math.imul(C,j)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,z)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,Z)|0;var vt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(f,Y)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,j),n=(n=Math.imul(A,q))+Math.imul(B,j)|0,o=Math.imul(B,q),i=i+Math.imul(b,H)|0,n=(n=n+Math.imul(b,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,z)|0,n=(n=n+Math.imul(w,Z)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,Z)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var bt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,q))+Math.imul(D,j)|0,o=Math.imul(D,q),i=i+Math.imul(A,H)|0,n=(n=n+Math.imul(A,G)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,G)|0,i=i+Math.imul(b,z)|0,n=(n=n+Math.imul(b,Z)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,Z)|0,i=i+Math.imul(w,Y)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var Ct=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,it)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,q))+Math.imul(I,j)|0,o=Math.imul(I,q),i=i+Math.imul(M,H)|0,n=(n=n+Math.imul(M,G)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,G)|0,i=i+Math.imul(A,z)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,Z)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,tt)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,it)|0;var Et=(u+(i=i+Math.imul(c,ot)|0)|0)+((8191&(n=(n=n+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,q))+Math.imul(N,j)|0,o=Math.imul(N,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,G)|0,i=i+Math.imul(M,z)|0,n=(n=n+Math.imul(M,Z)|0)+Math.imul(D,z)|0,o=o+Math.imul(D,Z)|0,i=i+Math.imul(A,Y)|0,n=(n=n+Math.imul(A,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,tt)|0,i=i+Math.imul(w,rt)|0,n=(n=n+Math.imul(w,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(p,ot)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var At=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,q))+Math.imul(k,j)|0,o=Math.imul(k,q),i=i+Math.imul(T,H)|0,n=(n=n+Math.imul(T,G)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,G)|0,i=i+Math.imul(S,z)|0,n=(n=n+Math.imul(S,Z)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(A,J)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,it)|0,i=i+Math.imul(w,ot)|0,n=(n=n+Math.imul(w,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Bt=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(L,j),n=(n=Math.imul(L,q))+Math.imul(P,j)|0,o=Math.imul(P,q),i=i+Math.imul(U,H)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(T,z)|0,n=(n=n+Math.imul(T,Z)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,Z)|0,i=i+Math.imul(S,Y)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,X)|0,i=i+Math.imul(M,J)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(D,J)|0,o=o+Math.imul(D,tt)|0,i=i+Math.imul(A,rt)|0,n=(n=n+Math.imul(A,it)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,i=i+Math.imul(w,ht)|0,n=(n=n+Math.imul(w,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Ft=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(n>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,i=Math.imul(L,H),n=(n=Math.imul(L,G))+Math.imul(P,H)|0,o=Math.imul(P,G),i=i+Math.imul(U,z)|0,n=(n=n+Math.imul(U,Z)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,Z)|0,i=i+Math.imul(T,Y)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,it)|0,i=i+Math.imul(A,ot)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ut)|0,i=i+Math.imul(w,ct)|0,n=(n=n+Math.imul(w,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var Mt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(L,z),n=(n=Math.imul(L,Z))+Math.imul(P,z)|0,o=Math.imul(P,Z),i=i+Math.imul(U,Y)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(M,ot)|0,n=(n=n+Math.imul(M,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,i=i+Math.imul(A,ht)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Dt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(n=(n=n+Math.imul(w,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(L,Y),n=(n=Math.imul(L,X))+Math.imul(P,Y)|0,o=Math.imul(P,X),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,i=i+Math.imul(A,ct)|0,n=(n=n+Math.imul(A,ft)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,ft)|0;var _t=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(L,J),n=(n=Math.imul(L,tt))+Math.imul(P,J)|0,o=Math.imul(P,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var St=(u+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,mt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,mt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(L,rt),n=(n=Math.imul(L,it))+Math.imul(P,rt)|0,o=Math.imul(P,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(S,ct)|0,n=(n=n+Math.imul(S,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var It=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,mt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(L,ot),n=(n=Math.imul(L,st))+Math.imul(P,ot)|0,o=Math.imul(P,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(T,ct)|0,n=(n=n+Math.imul(T,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var xt=(u+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(L,ht),n=(n=Math.imul(L,ut))+Math.imul(P,ht)|0,o=Math.imul(P,ut),i=i+Math.imul(U,ct)|0,n=(n=n+Math.imul(U,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Tt=(u+(i=i+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(L,ct),n=(n=Math.imul(L,ft))+Math.imul(P,ct)|0,o=Math.imul(P,ft);var Nt=(u+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(u+(i=Math.imul(L,pt))|0)+((8191&(n=(n=Math.imul(L,mt))+Math.imul(P,pt)|0))<<13)|0;return u=((o=Math.imul(P,mt))+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h[0]=gt,h[1]=wt,h[2]=yt,h[3]=vt,h[4]=bt,h[5]=Ct,h[6]=Et,h[7]=At,h[8]=Bt,h[9]=Ft,h[10]=Mt,h[11]=Dt,h[12]=_t,h[13]=St,h[14]=It,h[15]=xt,h[16]=Tt,h[17]=Nt,h[18]=Rt,0!==u&&(h[19]=u,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),n+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r._strip()}function w(t,e,r){return g(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(m=p),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):w(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},y.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},y.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=r[l+d],m=i[l+d],g=r[l+d+s],w=i[l+d+s],y=c*g-f*w;w=c*w+f*g,g=y,r[l+d]=p+g,i[l+d]=m+w,r[l+d+s]=p-g,i[l+d+s]=m-w,d!==a&&(y=h*c-u*f,f=h*f+u*c,c=y)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},y.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},y.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),f=r.words;f.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,c,i,n);for(var d=0;d<i;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,i),this.transform(a,h,f,o,i,n),this.conjugate(f,o,i),this.normalize13b(f,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),w(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var o=(0|this.words[n])*t,s=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=s>>>26,this.words[n]=67108863&s}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|i.words[o.length+c])+(0|i.words[o.length+c-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(o,f,c);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=f)}return a&&a._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=67108864%t,n=0,o=this.length-1;o>=0;o--)n=(i*n+(0|this.words[o]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*i;this.words[n]=o/t|0,i=o%t}return this._strip(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(i.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new F(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function F(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){F.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(C,b),C.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},C.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,b),i(A,b),i(B,b),B.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new C;else if("p224"===t)e=new E;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new B}return v[t]=e,e},F.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},F.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},F.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},F.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},F.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},F.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},F.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},F.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},F.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},F.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},F.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},F.prototype.isqr=function(t){return this.imul(t,t.clone())},F.prototype.sqr=function(t){return this.mul(t,t)},F.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var w=this.pow(c,new n(1).iushln(p-g-1));f=f.redMul(w),c=w.redSqr(),d=d.redMul(c),p=g}return f},F.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},F.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},F.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},F.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new M(t)},i(M,F),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),a.register("5Io6y",(function(t,e){})),a.register("iwkA7",(function(t,e){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o=a("ihoyg").Buffer}catch(t){}function s(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=s(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);r+6!==e&&(n=s(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(n=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=c[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);i=(p=p.idivn(d)).isZero()?m+i:u[f-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],w=8191&g,y=g>>>13,v=0|s[3],b=8191&v,C=v>>>13,E=0|s[4],A=8191&E,B=E>>>13,F=0|s[5],M=8191&F,D=F>>>13,_=0|s[6],S=8191&_,I=_>>>13,x=0|s[7],T=8191&x,N=x>>>13,R=0|s[8],U=8191&R,k=R>>>13,O=0|s[9],L=8191&O,P=O>>>13,$=0|a[0],j=8191&$,q=$>>>13,K=0|a[1],H=8191&K,G=K>>>13,W=0|a[2],z=8191&W,Z=W>>>13,V=0|a[3],Y=8191&V,X=V>>>13,Q=0|a[4],J=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,q))+Math.imul(f,j)|0))<<13)|0;u=((o=Math.imul(f,q))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,q))+Math.imul(m,j)|0,o=Math.imul(m,q);var wt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(n=(n=n+Math.imul(c,G)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(w,j),n=(n=Math.imul(w,q))+Math.imul(y,j)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,G)|0;var yt=(u+(i=i+Math.imul(c,z)|0)|0)+((8191&(n=(n=n+Math.imul(c,Z)|0)+Math.imul(f,z)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,q))+Math.imul(C,j)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,z)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,Z)|0;var vt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(f,Y)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,j),n=(n=Math.imul(A,q))+Math.imul(B,j)|0,o=Math.imul(B,q),i=i+Math.imul(b,H)|0,n=(n=n+Math.imul(b,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,z)|0,n=(n=n+Math.imul(w,Z)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,Z)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var bt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,q))+Math.imul(D,j)|0,o=Math.imul(D,q),i=i+Math.imul(A,H)|0,n=(n=n+Math.imul(A,G)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,G)|0,i=i+Math.imul(b,z)|0,n=(n=n+Math.imul(b,Z)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,Z)|0,i=i+Math.imul(w,Y)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var Ct=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,it)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,q))+Math.imul(I,j)|0,o=Math.imul(I,q),i=i+Math.imul(M,H)|0,n=(n=n+Math.imul(M,G)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,G)|0,i=i+Math.imul(A,z)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,Z)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,tt)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,it)|0;var Et=(u+(i=i+Math.imul(c,ot)|0)|0)+((8191&(n=(n=n+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,q))+Math.imul(N,j)|0,o=Math.imul(N,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,G)|0,i=i+Math.imul(M,z)|0,n=(n=n+Math.imul(M,Z)|0)+Math.imul(D,z)|0,o=o+Math.imul(D,Z)|0,i=i+Math.imul(A,Y)|0,n=(n=n+Math.imul(A,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,tt)|0,i=i+Math.imul(w,rt)|0,n=(n=n+Math.imul(w,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(p,ot)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var At=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,q))+Math.imul(k,j)|0,o=Math.imul(k,q),i=i+Math.imul(T,H)|0,n=(n=n+Math.imul(T,G)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,G)|0,i=i+Math.imul(S,z)|0,n=(n=n+Math.imul(S,Z)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(A,J)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,it)|0,i=i+Math.imul(w,ot)|0,n=(n=n+Math.imul(w,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Bt=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(L,j),n=(n=Math.imul(L,q))+Math.imul(P,j)|0,o=Math.imul(P,q),i=i+Math.imul(U,H)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(T,z)|0,n=(n=n+Math.imul(T,Z)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,Z)|0,i=i+Math.imul(S,Y)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,X)|0,i=i+Math.imul(M,J)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(D,J)|0,o=o+Math.imul(D,tt)|0,i=i+Math.imul(A,rt)|0,n=(n=n+Math.imul(A,it)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,i=i+Math.imul(w,ht)|0,n=(n=n+Math.imul(w,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Ft=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(n>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,i=Math.imul(L,H),n=(n=Math.imul(L,G))+Math.imul(P,H)|0,o=Math.imul(P,G),i=i+Math.imul(U,z)|0,n=(n=n+Math.imul(U,Z)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,Z)|0,i=i+Math.imul(T,Y)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,it)|0,i=i+Math.imul(A,ot)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ut)|0,i=i+Math.imul(w,ct)|0,n=(n=n+Math.imul(w,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var Mt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(L,z),n=(n=Math.imul(L,Z))+Math.imul(P,z)|0,o=Math.imul(P,Z),i=i+Math.imul(U,Y)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(M,ot)|0,n=(n=n+Math.imul(M,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,i=i+Math.imul(A,ht)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Dt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(n=(n=n+Math.imul(w,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(L,Y),n=(n=Math.imul(L,X))+Math.imul(P,Y)|0,o=Math.imul(P,X),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,i=i+Math.imul(A,ct)|0,n=(n=n+Math.imul(A,ft)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,ft)|0;var _t=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(L,J),n=(n=Math.imul(L,tt))+Math.imul(P,J)|0,o=Math.imul(P,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var St=(u+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,mt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,mt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(L,rt),n=(n=Math.imul(L,it))+Math.imul(P,rt)|0,o=Math.imul(P,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(S,ct)|0,n=(n=n+Math.imul(S,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var It=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,mt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(L,ot),n=(n=Math.imul(L,st))+Math.imul(P,ot)|0,o=Math.imul(P,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(T,ct)|0,n=(n=n+Math.imul(T,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var xt=(u+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(L,ht),n=(n=Math.imul(L,ut))+Math.imul(P,ht)|0,o=Math.imul(P,ut),i=i+Math.imul(U,ct)|0,n=(n=n+Math.imul(U,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Tt=(u+(i=i+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(L,ct),n=(n=Math.imul(L,ft))+Math.imul(P,ct)|0,o=Math.imul(P,ft);var Nt=(u+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(u+(i=Math.imul(L,pt))|0)+((8191&(n=(n=Math.imul(L,mt))+Math.imul(P,pt)|0))<<13)|0;return u=((o=Math.imul(P,mt))+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h[0]=gt,h[1]=wt,h[2]=yt,h[3]=vt,h[4]=bt,h[5]=Ct,h[6]=Et,h[7]=At,h[8]=Bt,h[9]=Ft,h[10]=Mt,h[11]=Dt,h[12]=_t,h[13]=St,h[14]=It,h[15]=xt,h[16]=Tt,h[17]=Nt,h[18]=Rt,0!==u&&(h[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),n.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),n+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},m.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=r[l+d],m=i[l+d],g=r[l+d+s],w=i[l+d+s],y=c*g-f*w;w=c*w+f*g,g=y,r[l+d]=p+g,i[l+d]=m+w,r[l+d+s]=p-g,i[l+d+s]=m-w,d!==a&&(y=h*c-u*f,f=h*f+u*c,c=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},m.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),f=r.words;f.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,c,i,n);for(var d=0;d<i;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,i),this.transform(a,h,f,o,i,n),this.conjugate(f,o,i),this.normalize13b(f,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),p(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|i.words[o.length+c])+(0|i.words[o.length+c-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(o,f,c);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=67108864%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(i.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(y,w),y.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,w),i(b,w),i(C,w),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new v;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var w=this.pow(c,new n(1).iushln(p-g-1));f=f.redMul(w),c=w.redSqr(),d=d.redMul(c),p=g}return f},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new A(t)},i(A,E),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),a.register("dQ123",(function(t,e){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o=a("ihoyg").Buffer}catch(t){}function s(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=s(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);r+6!==e&&(n=s(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var c=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(n=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&s}r.words[u]=0|c,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=c[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);i=(p=p.idivn(d)).isZero()?m+i:u[f-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],c=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],w=8191&g,y=g>>>13,v=0|s[3],b=8191&v,C=v>>>13,E=0|s[4],A=8191&E,B=E>>>13,F=0|s[5],M=8191&F,D=F>>>13,_=0|s[6],S=8191&_,I=_>>>13,x=0|s[7],T=8191&x,N=x>>>13,R=0|s[8],U=8191&R,k=R>>>13,O=0|s[9],L=8191&O,P=O>>>13,$=0|a[0],j=8191&$,q=$>>>13,K=0|a[1],H=8191&K,G=K>>>13,W=0|a[2],z=8191&W,Z=W>>>13,V=0|a[3],Y=8191&V,X=V>>>13,Q=0|a[4],J=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,q))+Math.imul(f,j)|0))<<13)|0;u=((o=Math.imul(f,q))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,q))+Math.imul(m,j)|0,o=Math.imul(m,q);var wt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(n=(n=n+Math.imul(c,G)|0)+Math.imul(f,H)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(w,j),n=(n=Math.imul(w,q))+Math.imul(y,j)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,G)|0;var yt=(u+(i=i+Math.imul(c,z)|0)|0)+((8191&(n=(n=n+Math.imul(c,Z)|0)+Math.imul(f,z)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,q))+Math.imul(C,j)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,z)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,Z)|0;var vt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(f,Y)|0))<<13)|0;u=((o=o+Math.imul(f,X)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,j),n=(n=Math.imul(A,q))+Math.imul(B,j)|0,o=Math.imul(B,q),i=i+Math.imul(b,H)|0,n=(n=n+Math.imul(b,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,z)|0,n=(n=n+Math.imul(w,Z)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,Z)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var bt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,q))+Math.imul(D,j)|0,o=Math.imul(D,q),i=i+Math.imul(A,H)|0,n=(n=n+Math.imul(A,G)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,G)|0,i=i+Math.imul(b,z)|0,n=(n=n+Math.imul(b,Z)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,Z)|0,i=i+Math.imul(w,Y)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var Ct=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,it)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,q))+Math.imul(I,j)|0,o=Math.imul(I,q),i=i+Math.imul(M,H)|0,n=(n=n+Math.imul(M,G)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,G)|0,i=i+Math.imul(A,z)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(B,z)|0,o=o+Math.imul(B,Z)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,tt)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,it)|0;var Et=(u+(i=i+Math.imul(c,ot)|0)|0)+((8191&(n=(n=n+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,q))+Math.imul(N,j)|0,o=Math.imul(N,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,G)|0,i=i+Math.imul(M,z)|0,n=(n=n+Math.imul(M,Z)|0)+Math.imul(D,z)|0,o=o+Math.imul(D,Z)|0,i=i+Math.imul(A,Y)|0,n=(n=n+Math.imul(A,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,tt)|0,i=i+Math.imul(w,rt)|0,n=(n=n+Math.imul(w,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(p,ot)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var At=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,q))+Math.imul(k,j)|0,o=Math.imul(k,q),i=i+Math.imul(T,H)|0,n=(n=n+Math.imul(T,G)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,G)|0,i=i+Math.imul(S,z)|0,n=(n=n+Math.imul(S,Z)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(A,J)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,it)|0,i=i+Math.imul(w,ot)|0,n=(n=n+Math.imul(w,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Bt=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(L,j),n=(n=Math.imul(L,q))+Math.imul(P,j)|0,o=Math.imul(P,q),i=i+Math.imul(U,H)|0,n=(n=n+Math.imul(U,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(T,z)|0,n=(n=n+Math.imul(T,Z)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,Z)|0,i=i+Math.imul(S,Y)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,X)|0,i=i+Math.imul(M,J)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(D,J)|0,o=o+Math.imul(D,tt)|0,i=i+Math.imul(A,rt)|0,n=(n=n+Math.imul(A,it)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,i=i+Math.imul(w,ht)|0,n=(n=n+Math.imul(w,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Ft=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(n>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,i=Math.imul(L,H),n=(n=Math.imul(L,G))+Math.imul(P,H)|0,o=Math.imul(P,G),i=i+Math.imul(U,z)|0,n=(n=n+Math.imul(U,Z)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,Z)|0,i=i+Math.imul(T,Y)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,it)|0,i=i+Math.imul(A,ot)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ut)|0,i=i+Math.imul(w,ct)|0,n=(n=n+Math.imul(w,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var Mt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(L,z),n=(n=Math.imul(L,Z))+Math.imul(P,z)|0,o=Math.imul(P,Z),i=i+Math.imul(U,Y)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(M,ot)|0,n=(n=n+Math.imul(M,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,i=i+Math.imul(A,ht)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,ft)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ft)|0;var Dt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(n=(n=n+Math.imul(w,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(L,Y),n=(n=Math.imul(L,X))+Math.imul(P,Y)|0,o=Math.imul(P,X),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,ut)|0,i=i+Math.imul(A,ct)|0,n=(n=n+Math.imul(A,ft)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,ft)|0;var _t=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,mt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,mt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(L,J),n=(n=Math.imul(L,tt))+Math.imul(P,J)|0,o=Math.imul(P,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var St=(u+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,mt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,mt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(L,rt),n=(n=Math.imul(L,it))+Math.imul(P,rt)|0,o=Math.imul(P,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(S,ct)|0,n=(n=n+Math.imul(S,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var It=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,mt)|0)+Math.imul(D,pt)|0))<<13)|0;u=((o=o+Math.imul(D,mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(L,ot),n=(n=Math.imul(L,st))+Math.imul(P,ot)|0,o=Math.imul(P,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(T,ct)|0,n=(n=n+Math.imul(T,ft)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ft)|0;var xt=(u+(i=i+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,mt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(L,ht),n=(n=Math.imul(L,ut))+Math.imul(P,ht)|0,o=Math.imul(P,ut),i=i+Math.imul(U,ct)|0,n=(n=n+Math.imul(U,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Tt=(u+(i=i+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(L,ct),n=(n=Math.imul(L,ft))+Math.imul(P,ct)|0,o=Math.imul(P,ft);var Nt=(u+(i=i+Math.imul(U,pt)|0)|0)+((8191&(n=(n=n+Math.imul(U,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(u+(i=Math.imul(L,pt))|0)+((8191&(n=(n=Math.imul(L,mt))+Math.imul(P,pt)|0))<<13)|0;return u=((o=Math.imul(P,mt))+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h[0]=gt,h[1]=wt,h[2]=yt,h[3]=vt,h[4]=bt,h[5]=Ct,h[6]=Et,h[7]=At,h[8]=Bt,h[9]=Ft,h[10]=Mt,h[11]=Dt,h[12]=_t,h[13]=St,h[14]=It,h[15]=xt,h[16]=Tt,h[17]=Nt,h[18]=Rt,0!==u&&(h[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),n.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,c=(0|t.words[l])*(0|e.words[u]),f=67108863&c;a=67108863&(f=f+a|0),n+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},m.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var c=h,f=u,d=0;d<s;d++){var p=r[l+d],m=i[l+d],g=r[l+d+s],w=i[l+d+s],y=c*g-f*w;w=c*w+f*g,g=y,r[l+d]=p+g,i[l+d]=m+w,r[l+d+s]=p-g,i[l+d+s]=m-w,d!==a&&(y=h*c-u*f,f=h*f+u*c,c=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},m.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),f=r.words;f.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,c,i,n);for(var d=0;d<i;d++){var p=a[d]*l[d]-h[d]*c[d];h[d]=a[d]*c[d]+h[d]*l[d],a[d]=p}return this.conjugate(a,h,i),this.transform(a,h,f,o,i,n),this.conjugate(f,o,i),this.normalize13b(f,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),p(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var c=0|this.words[u];this.words[u]=l<<26-o|c>>>o,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var f=67108864*(0|i.words[o.length+c])+(0|i.words[o.length+c-1]);for(f=Math.min(f/s|0,67108863),i._ishlnsubmul(o,f,c);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(o,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=f)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=67108864%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var c=0,f=1;0==(i.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(y,w),y.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,w),i(b,w),i(C,w),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new v;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var w=this.pow(c,new n(1).iushln(p-g-1));f=f.redMul(w),c=w.redSqr(),d=d.redMul(c),p=g}return f},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new A(t)},i(A,E),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),a.register("5DdIg",(function(r,i){e(r.exports),t(r.exports,"default",(function(){return n})),a("l0Xcb");var n=window.crypto})),a.register("l0Xcb",(function(r,i){e(r.exports),t(r.exports,"default",(function(){return n}),(function(t){return n=t})),
/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],(function(){return e(t)})):r.exports?r.exports=e(t):e(t)}("undefined"!=typeof self?self:void 0,(function(t){if("function"!=typeof Promise)throw"Promise support required";var e=t.crypto||t.msCrypto;if(e){var r=e.subtle||e.webkitSubtle;if(r){var i=t.Crypto||e.constructor||Object,n=t.SubtleCrypto||r.constructor||Object,o=(t.CryptoKey||t.Key,t.navigator.userAgent.indexOf("Edge/")>-1),s=!!t.msCrypto&&!o,a=!e.subtle&&!!e.webkitSubtle;if(s||a){var h={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},u={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(t){var i=r[t];r[t]=function(n,o,h){var u,l,c,p,b=[].slice.call(arguments);switch(t){case"generateKey":u=m(n),l=o,c=h;break;case"importKey":u=m(h),l=b[3],c=b[4],"jwk"===n&&((o=w(o)).alg||(o.alg=g(u)),o.key_ops||(o.key_ops="oct"!==o.kty?"d"in o?c.filter(F):c.filter(B):c.slice()),b[1]=y(o));break;case"unwrapKey":u=b[4],l=b[5],c=b[6],b[2]=h._key}if("generateKey"===t&&"HMAC"===u.name&&u.hash)return u.length=u.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[u.hash.name],r.importKey("raw",e.getRandomValues(new Uint8Array(u.length+7>>3)),u,l,c);if(a&&"generateKey"===t&&"RSASSA-PKCS1-v1_5"===u.name&&(!u.modulusLength||u.modulusLength>=2048))return(n=m(n)).name="RSAES-PKCS1-v1_5",delete n.hash,r.generateKey(n,!0,["encrypt","decrypt"]).then((function(t){return Promise.all([r.exportKey("jwk",t.publicKey),r.exportKey("jwk",t.privateKey)])})).then((function(t){return t[0].alg=t[1].alg=g(u),t[0].key_ops=c.filter(B),t[1].key_ops=c.filter(F),Promise.all([r.importKey("jwk",t[0],u,!0,t[0].key_ops),r.importKey("jwk",t[1],u,l,t[1].key_ops)])})).then((function(t){return{publicKey:t[0],privateKey:t[1]}}));if((a||s&&"SHA-1"===(u.hash||{}).name)&&"importKey"===t&&"jwk"===n&&"HMAC"===u.name&&"oct"===o.kty)return r.importKey("raw",d(f(o.k)),h,b[3],b[4]);if(a&&"importKey"===t&&("spki"===n||"pkcs8"===n))return r.importKey("jwk",v(o),h,b[3],b[4]);if(s&&"unwrapKey"===t)return r.decrypt(b[3],h,o).then((function(t){return r.importKey(n,t,b[4],b[5],b[6])}));try{p=i.apply(r,b)}catch(t){return Promise.reject(t)}return s&&(p=new Promise((function(t,e){p.onabort=p.onerror=function(t){e(t)},p.oncomplete=function(e){t(e.target.result)}}))),p=p.then((function(t){return"HMAC"===u.name&&(u.length||(u.length=8*t.algorithm.length)),0==u.name.search("RSA")&&(u.modulusLength||(u.modulusLength=(t.publicKey||t).algorithm.modulusLength),u.publicExponent||(u.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t=t.publicKey&&t.privateKey?{publicKey:new A(t.publicKey,u,l,c.filter(B)),privateKey:new A(t.privateKey,u,l,c.filter(F))}:new A(t,u,l,c)}))}})),["exportKey","wrapKey"].forEach((function(t){var e=r[t];r[t]=function(i,n,o){var h,u=[].slice.call(arguments);switch(t){case"exportKey":u[1]=n._key;break;case"wrapKey":u[1]=n._key,u[2]=o._key}if((a||s&&"SHA-1"===(n.algorithm.hash||{}).name)&&"exportKey"===t&&"jwk"===i&&"HMAC"===n.algorithm.name&&(u[0]="raw"),!a||"exportKey"!==t||"spki"!==i&&"pkcs8"!==i||(u[0]="jwk"),s&&"wrapKey"===t)return r.exportKey(i,n).then((function(t){return"jwk"===i&&(t=d(unescape(encodeURIComponent(JSON.stringify(w(t)))))),r.encrypt(u[3],o,t)}));try{h=e.apply(r,u)}catch(t){return Promise.reject(t)}return s&&(h=new Promise((function(t,e){h.onabort=h.onerror=function(t){e(t)},h.oncomplete=function(e){t(e.target.result)}}))),"exportKey"===t&&"jwk"===i&&(h=h.then((function(t){return(a||s&&"SHA-1"===(n.algorithm.hash||{}).name)&&"HMAC"===n.algorithm.name?{kty:"oct",alg:g(n.algorithm),key_ops:n.usages.slice(),ext:!0,k:c(p(t))}:((t=w(t)).alg||(t.alg=g(n.algorithm)),t.key_ops||(t.key_ops="public"===n.type?n.usages.filter(B):"private"===n.type?n.usages.filter(F):n.usages.slice()),t)}))),!a||"exportKey"!==t||"spki"!==i&&"pkcs8"!==i||(h=h.then((function(t){return t=b(w(t))}))),h}})),["encrypt","decrypt","sign","verify"].forEach((function(t){var e=r[t];r[t]=function(i,n,o,a){if(s&&(!o.byteLength||a&&!a.byteLength))throw new Error("Empy input is not allowed");var h,u=[].slice.call(arguments),l=m(i);if(s&&"decrypt"===t&&"AES-GCM"===l.name){var c=i.tagLength>>3;u[2]=(o.buffer||o).slice(0,o.byteLength-c),i.tag=(o.buffer||o).slice(o.byteLength-c)}u[1]=n._key;try{h=e.apply(r,u)}catch(t){return Promise.reject(t)}return s&&(h=new Promise((function(e,r){h.onabort=h.onerror=function(t){r(t)},h.oncomplete=function(r){r=r.target.result;if("encrypt"===t&&r instanceof AesGcmEncryptResult){var i=r.ciphertext,n=r.tag;(r=new Uint8Array(i.byteLength+n.byteLength)).set(new Uint8Array(i),0),r.set(new Uint8Array(n),i.byteLength),r=r.buffer}e(r)}}))),h}})),s){var l=r.digest;r.digest=function(t,e){if(!e.byteLength)throw new Error("Empy input is not allowed");var i;try{i=l.call(r,t,e)}catch(t){return Promise.reject(t)}return i=new Promise((function(t,e){i.onabort=i.onerror=function(t){e(t)},i.oncomplete=function(e){t(e.target.result)}}))},t.crypto=Object.create(e,{getRandomValues:{value:function(t){return e.getRandomValues(t)}},subtle:{value:r}}),t.CryptoKey=A}a&&(e.subtle=r,t.Crypto=i,t.SubtleCrypto=n,t.CryptoKey=A)}}}function c(t){return btoa(t).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(t){return t=(t+="===").slice(0,-t.length%4),atob(t.replace(/-/g,"+").replace(/_/g,"/"))}function d(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function p(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function m(t){var e={name:(t.name||t||"").toUpperCase().replace("V","v")};switch(e.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":t.length&&(e.length=t.length);break;case"HMAC":t.hash&&(e.hash=m(t.hash)),t.length&&(e.length=t.length);break;case"RSAES-PKCS1-v1_5":t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":t.hash&&(e.hash=m(t.hash)),t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return e}function g(t){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[t.name][(t.hash||{}).name||t.length||""]}function w(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(p(t)))));var e={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(e.kty){case"oct":e.k=t.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach((function(r){r in t&&(e[r]=t[r])}));break;default:throw new TypeError("Unsupported key type")}return e}function y(t){var e=w(t);return s&&(e.extractable=e.ext,delete e.ext),d(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}function v(t){var e=C(t),r=!1;e.length>2&&(r=!0,e.shift());var i={ext:!0};if("1.2.840.113549.1.1.1"!==e[0][0])throw new TypeError("Unsupported key type");var n=["n","e","d","p","q","dp","dq","qi"],o=C(e[1]);r&&o.shift();for(var s=0;s<o.length;s++)o[s][0]||(o[s]=o[s].subarray(1)),i[n[s]]=c(p(o[s]));return i.kty="RSA",i}function b(t){var e,r=[["",null]],i=!1;if("RSA"!==t.kty)throw new TypeError("Unsupported key type");for(var n=["n","e","d","p","q","dp","dq","qi"],o=[],s=0;s<n.length&&n[s]in t;s++){var a=o[s]=d(f(t[n[s]]));128&a[0]&&(o[s]=new Uint8Array(a.length+1),o[s].set(a,1))}return o.length>2&&(i=!0,o.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",e=o,r.push(new Uint8Array(E(e)).buffer),i?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(E(r)).buffer}function C(t,e){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e||(e={pos:0,end:t.length}),e.end-e.pos<2||e.end>t.length)throw new RangeError("Malformed DER");var r,i=t[e.pos++],n=t[e.pos++];if(n>=128){if(n&=127,e.end-e.pos<n)throw new RangeError("Malformed DER");for(var o=0;n--;)o<<=8,o|=t[e.pos++];n=o}if(e.end-e.pos<n)throw new RangeError("Malformed DER");switch(i){case 2:r=t.subarray(e.pos,e.pos+=n);break;case 3:if(t[e.pos++])throw new Error("Unsupported bit string");n--;case 4:r=new Uint8Array(t.subarray(e.pos,e.pos+=n)).buffer;break;case 5:r=null;break;case 6:var s=btoa(p(t.subarray(e.pos,e.pos+=n)));if(!(s in h))throw new Error("Unsupported OBJECT ID "+s);r=h[s];break;case 48:r=[];for(var a=e.pos+n;e.pos<a;)r.push(C(t,e));break;default:throw new Error("Unsupported DER tag 0x"+i.toString(16))}return r}function E(t,e){e||(e=[]);var r=0,i=0,n=e.length+2;if(e.push(0,0),t instanceof Uint8Array){r=2,i=t.length;for(var o=0;o<i;o++)e.push(t[o])}else if(t instanceof ArrayBuffer){r=4,i=t.byteLength,t=new Uint8Array(t);for(o=0;o<i;o++)e.push(t[o])}else if(null===t)r=5,i=0;else if("string"==typeof t&&t in u){var s=d(atob(u[t]));r=6,i=s.length;for(o=0;o<i;o++)e.push(s[o])}else if(t instanceof Array){for(o=0;o<t.length;o++)E(t[o],e);r=48,i=e.length-n}else{if(!("object"==typeof t&&3===t.tag&&t.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+t);r=3,i=(t=new Uint8Array(t.value)).byteLength,e.push(0);for(o=0;o<i;o++)e.push(t[o]);i++}if(i>=128){var a=i;i=4;for(e.splice(n,0,a>>24&255,a>>16&255,a>>8&255,255&a);i>1&&!(a>>24);)a<<=8,i--;i<4&&e.splice(n,4-i),i|=128}return e.splice(n-2,2,r,i),e}function A(t,e,r,i){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===e?t.algorithm:e,enumerable:!0},usages:{value:void 0===i?t.usages:i,enumerable:!0}})}function B(t){return"verify"===t||"encrypt"===t||"wrapKey"===t}function F(t){return"sign"===t||"decrypt"===t||"unwrapKey"===t}}));var n={}})),a.register("gOdpI",(function(t,e){var r=a("grQHD").MAX_SAFE_COMPONENT_LENGTH,i=a("irTMh");const n=(e=t.exports={}).re=[],o=e.src=[],s=e.t={};let h=0;const u=(t,e,r)=>{const a=h++;i(t,a,e),s[t]=a,o[a]=e,n[a]=new RegExp(e,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),u("FULL",`^${o[s.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),u("LOOSE",`^${o[s.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),u("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",o[s.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",u("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",u("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})),a.register("grQHD",(function(t,e){const r=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}})),a.register("irTMh",(function(t,e){var r=a("4TNnu");const i=("object"==typeof r&&r.env,()=>{});t.exports=i})),a.register("4TNnu",(function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var h,u=[],l=!1,c=-1;function f(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}})),a.register("cHOkf",(function(t,e){var r=a("irTMh"),i=a("grQHD"),n=i.MAX_LENGTH,o=i.MAX_SAFE_INTEGER,s=a("gOdpI"),h=s.re,u=s.t,l=a("6LZC3"),c=a("4SW5w").compareIdentifiers;class f{format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof f)){if("string"==typeof t&&t===this.version)return 0;t=new f(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof f||(t=new f(t,this.options)),c(this.major,t.major)||c(this.minor,t.minor)||c(this.patch,t.patch)}comparePre(t){if(t instanceof f||(t=new f(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const i=this.prerelease[e],n=t.prerelease[e];if(r("prerelease compare",e,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return c(i,n)}while(++e)}compareBuild(t){t instanceof f||(t=new f(t,this.options));let e=0;do{const i=this.build[e],n=t.build[e];if(r("prerelease compare",e,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return c(i,n)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(0===c(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}constructor(t,e){if(e=l(e),t instanceof f){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>n)throw new TypeError(`version is longer than ${n} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const i=t.trim().match(e.loose?h[u.LOOSE]:h[u.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<o)return e}return t})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}}t.exports=f})),a.register("6LZC3",(function(t,e){const r=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:r.filter((e=>t[e])).reduce(((t,e)=>(t[e]=!0,t)),{}):{}})),a.register("4SW5w",(function(t,e){const r=/^[0-9]+$/,i=(t,e)=>{const i=r.test(t),n=r.test(e);return i&&n&&(t=+t,e=+e),t===e?0:i&&!n?-1:n&&!i?1:t<e?-1:1};t.exports={compareIdentifiers:i,rcompareIdentifiers:(t,e)=>i(e,t)}})),a.register("cTWCh",(function(t,e){var r=a("grQHD").MAX_LENGTH,i=a("gOdpI"),n=i.re,o=i.t,s=a("cHOkf"),h=a("6LZC3");t.exports=(t,e)=>{if(e=h(e),t instanceof s)return t;if("string"!=typeof t)return null;if(t.length>r)return null;if(!(e.loose?n[o.LOOSE]:n[o.FULL]).test(t))return null;try{return new s(t,e)}catch(t){return null}}})),a.register("frJiQ",(function(t,e){var r=a("cTWCh");t.exports=(t,e)=>{const i=r(t,e);return i?i.version:null}})),a.register("c6P8M",(function(t,e){var r=a("cTWCh");t.exports=(t,e)=>{const i=r(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null}})),a.register("itrWX",(function(t,e){var r=a("cHOkf");t.exports=(t,e,i,n)=>{"string"==typeof i&&(n=i,i=void 0);try{return new r(t instanceof r?t.version:t,i).inc(e,n).version}catch(t){return null}}})),a.register("jBuva",(function(t,e){var r=a("cTWCh"),i=a("itC7D");t.exports=(t,e)=>{if(i(t,e))return null;{const i=r(t),n=r(e),o=i.prerelease.length||n.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const t in i)if(("major"===t||"minor"===t||"patch"===t)&&i[t]!==n[t])return s+t;return a}}})),a.register("itC7D",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>0===r(t,e,i)})),a.register("cFM6E",(function(t,e){var r=a("cHOkf");t.exports=(t,e,i)=>new r(t,i).compare(new r(e,i))})),a.register("eZA5e",(function(t,e){var r=a("cHOkf");t.exports=(t,e)=>new r(t,e).major})),a.register("gPGhd",(function(t,e){var r=a("cHOkf");t.exports=(t,e)=>new r(t,e).minor})),a.register("btaYs",(function(t,e){var r=a("cHOkf");t.exports=(t,e)=>new r(t,e).patch})),a.register("1Tf8D",(function(t,e){var r=a("cTWCh");t.exports=(t,e)=>{const i=r(t,e);return i&&i.prerelease.length?i.prerelease:null}})),a.register("49P7k",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>r(e,t,i)})),a.register("hHTvo",(function(t,e){var r=a("cFM6E");t.exports=(t,e)=>r(t,e,!0)})),a.register("bjtHu",(function(t,e){var r=a("cHOkf");t.exports=(t,e,i)=>{const n=new r(t,i),o=new r(e,i);return n.compare(o)||n.compareBuild(o)}})),a.register("hUt70",(function(t,e){var r=a("bjtHu");t.exports=(t,e)=>t.sort(((t,i)=>r(t,i,e)))})),a.register("lIPk4",(function(t,e){var r=a("bjtHu");t.exports=(t,e)=>t.sort(((t,i)=>r(i,t,e)))})),a.register("ldDtu",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>r(t,e,i)>0})),a.register("7mqzg",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>r(t,e,i)<0})),a.register("kf0XZ",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>0!==r(t,e,i)})),a.register("fxxMD",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>r(t,e,i)>=0})),a.register("uNzNG",(function(t,e){var r=a("cFM6E");t.exports=(t,e,i)=>r(t,e,i)<=0})),a.register("5ZjGu",(function(t,e){var r=a("itC7D"),i=a("kf0XZ"),n=a("ldDtu"),o=a("fxxMD"),s=a("7mqzg"),h=a("uNzNG");t.exports=(t,e,a,u)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof a&&(a=a.version),t===a;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof a&&(a=a.version),t!==a;case"":case"=":case"==":return r(t,a,u);case"!=":return i(t,a,u);case">":return n(t,a,u);case">=":return o(t,a,u);case"<":return s(t,a,u);case"<=":return h(t,a,u);default:throw new TypeError(`Invalid operator: ${e}`)}}})),a.register("a3wbz",(function(t,e){var r=a("cHOkf"),i=a("cTWCh"),n=a("gOdpI"),o=n.re,s=n.t;t.exports=(t,e)=>{if(t instanceof r)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let n=null;if((e=e||{}).rtl){let e;for(;(e=o[s.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&e.index+e[0].length===n.index+n[0].length||(n=e),o[s.COERCERTL].lastIndex=e.index+e[1].length+e[2].length;o[s.COERCERTL].lastIndex=-1}else n=t.match(o[s.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)}})),a.register("bevt6",(function(t,e){const r=Symbol("SemVer ANY");class i{static get ANY(){return r}parse(t){const e=this.options.loose?s[h.COMPARATORLOOSE]:s[h.COMPARATOR],i=t.match(e);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new c(i[2],this.options.loose):this.semver=r}toString(){return this.value}test(t){if(l("Comparator.test",t,this.options.loose),this.semver===r||t===r)return!0;if("string"==typeof t)try{t=new c(t,this.options)}catch(t){return!1}return u(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new f(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new f(this.value,e).test(t.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=u(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),h=u(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||n||o&&s||a||h}constructor(t,e){if(e=n(e),t instanceof i){if(t.loose===!!e.loose)return t;t=t.value}l("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}}t.exports=i;var n=a("6LZC3"),o=a("gOdpI"),s=o.re,h=o.t,u=a("5ZjGu"),l=a("irTMh"),c=a("cHOkf"),f=a("4e4kl")})),a.register("4e4kl",(function(t,e){class r{format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,r=i.get(e);if(r)return r;const n=this.options.loose,a=n?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];t=t.replace(a,_(this.options.includePrerelease)),s("hyphen replace",t),t=t.replace(l[c.COMPARATORTRIM],f),s("comparator trim",t);let h=(t=(t=(t=t.replace(l[c.TILDETRIM],d)).replace(l[c.CARETTRIM],p)).split(/\s+/).join(" ")).split(" ").map((t=>y(t,this.options))).join(" ").split(/\s+/).map((t=>D(t,this.options)));n&&(h=h.filter((t=>(s("loose invalid filter",t,this.options),!!t.match(l[c.COMPARATORLOOSE]))))),s("range list",h);const u=new Map,g=h.map((t=>new o(t,this.options)));for(const t of g){if(m(t))return[t];u.set(t.value,t)}u.size>1&&u.has("")&&u.delete("");const w=[...u.values()];return i.set(e,w),w}intersects(t,e){if(!(t instanceof r))throw new TypeError("a Range is required");return this.set.some((r=>w(r,e)&&t.set.some((t=>w(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(S(this.set[e],t,this.options))return!0;return!1}constructor(t,e){if(e=n(e),t instanceof r)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new r(t.raw,e);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!m(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&g(t[0])){this.set=[t];break}}this.format()}}t.exports=r;const i=new(a("caZ9d"))({max:1e3});var n=a("6LZC3"),o=a("bevt6"),s=a("irTMh"),h=a("cHOkf"),u=a("gOdpI"),l=u.re,c=u.t,f=u.comparatorTrimReplace,d=u.tildeTrimReplace,p=u.caretTrimReplace;const m=t=>"<0.0.0-0"===t.value,g=t=>""===t.value,w=(t,e)=>{let r=!0;const i=t.slice();let n=i.pop();for(;r&&i.length;)r=i.every((t=>n.intersects(t,e))),n=i.pop();return r},y=(t,e)=>(s("comp",t,e),t=E(t,e),s("caret",t),t=b(t,e),s("tildes",t),t=B(t,e),s("xrange",t),t=M(t,e),s("stars",t),t),v=t=>!t||"x"===t.toLowerCase()||"*"===t,b=(t,e)=>t.trim().split(/\s+/).map((t=>C(t,e))).join(" "),C=(t,e)=>{const r=e.loose?l[c.TILDELOOSE]:l[c.TILDE];return t.replace(r,((e,r,i,n,o)=>{let a;return s("tilde",t,e,r,i,n,o),v(r)?a="":v(i)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:v(n)?a=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:o?(s("replaceTilde pr",o),a=`>=${r}.${i}.${n}-${o} <${r}.${+i+1}.0-0`):a=`>=${r}.${i}.${n} <${r}.${+i+1}.0-0`,s("tilde return",a),a}))},E=(t,e)=>t.trim().split(/\s+/).map((t=>A(t,e))).join(" "),A=(t,e)=>{s("caret",t,e);const r=e.loose?l[c.CARETLOOSE]:l[c.CARET],i=e.includePrerelease?"-0":"";return t.replace(r,((e,r,n,o,a)=>{let h;return s("caret",t,e,r,n,o,a),v(r)?h="":v(n)?h=`>=${r}.0.0${i} <${+r+1}.0.0-0`:v(o)?h="0"===r?`>=${r}.${n}.0${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${i} <${+r+1}.0.0-0`:a?(s("replaceCaret pr",a),h="0"===r?"0"===n?`>=${r}.${n}.${o}-${a} <${r}.${n}.${+o+1}-0`:`>=${r}.${n}.${o}-${a} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${o}-${a} <${+r+1}.0.0-0`):(s("no pr"),h="0"===r?"0"===n?`>=${r}.${n}.${o}${i} <${r}.${n}.${+o+1}-0`:`>=${r}.${n}.${o}${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${o} <${+r+1}.0.0-0`),s("caret return",h),h}))},B=(t,e)=>(s("replaceXRanges",t,e),t.split(/\s+/).map((t=>F(t,e))).join(" ")),F=(t,e)=>{t=t.trim();const r=e.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return t.replace(r,((r,i,n,o,a,h)=>{s("xRange",t,r,i,n,o,a,h);const u=v(n),l=u||v(o),c=l||v(a),f=c;return"="===i&&f&&(i=""),h=e.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&f?(l&&(o=0),a=0,">"===i?(i=">=",l?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):"<="===i&&(i="<",l?n=+n+1:o=+o+1),"<"===i&&(h="-0"),r=`${i+n}.${o}.${a}${h}`):l?r=`>=${n}.0.0${h} <${+n+1}.0.0-0`:c&&(r=`>=${n}.${o}.0${h} <${n}.${+o+1}.0-0`),s("xRange return",r),r}))},M=(t,e)=>(s("replaceStars",t,e),t.trim().replace(l[c.STAR],"")),D=(t,e)=>(s("replaceGTE0",t,e),t.trim().replace(l[e.includePrerelease?c.GTE0PRE:c.GTE0],"")),_=t=>(e,r,i,n,o,s,a,h,u,l,c,f,d)=>`${r=v(i)?"":v(n)?`>=${i}.0.0${t?"-0":""}`:v(o)?`>=${i}.${n}.0${t?"-0":""}`:s?`>=${r}`:`>=${r}${t?"-0":""}`} ${h=v(u)?"":v(l)?`<${+u+1}.0.0-0`:v(c)?`<${u}.${+l+1}.0-0`:f?`<=${u}.${l}.${c}-${f}`:t?`<${u}.${l}.${+c+1}-0`:`<=${h}`}`.trim(),S=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(s(t[r].semver),t[r].semver!==o.ANY&&t[r].semver.prerelease.length>0){const i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}})),a.register("caZ9d",(function(t,e){var r=a("iKSMl");const i=Symbol("max"),n=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),h=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),c=Symbol("lruList"),f=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1;const m=(t,e,r)=>{const i=t[f].get(e);if(i){const e=i.value;if(g(t,e)){if(y(t,i),!t[s])return}else r&&(t[d]&&(i.value.now=Date.now()),t[c].unshiftNode(i));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[h])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[h]&&r>t[h]},w=t=>{if(t[n]>t[i])for(let e=t[c].tail;t[n]>t[i]&&null!==e;){const r=e.prev;y(t,e),e=r}},y=(t,e)=>{if(e){const r=e.value;t[u]&&t[u](r.key,r.value),t[n]-=r.length,t[f].delete(r.key),t[c].removeNode(e)}};class v{constructor(t,e,r,i,n){this.key=t,this.value=e,this.length=r,this.now=i,this.maxAge=n||0}}const b=(t,e,r,i)=>{let n=r.value;g(t,n)&&(y(t,r),t[s]||(n=void 0)),n&&e.call(i,n.value,n.key,t)};t.exports=class{set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,w(this)}get max(){return this[i]}set allowStale(t){this[s]=!!t}get allowStale(){return this[s]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[h]=t,w(this)}get maxAge(){return this[h]}set lengthCalculator(t){"function"!=typeof t&&(t=p),t!==this[o]&&(this[o]=t,this[n]=0,this[c].forEach((t=>{t.length=this[o](t.value,t.key),this[n]+=t.length}))),w(this)}get lengthCalculator(){return this[o]}get length(){return this[n]}get itemCount(){return this[c].length}rforEach(t,e){e=e||this;for(let r=this[c].tail;null!==r;){const i=r.prev;b(this,t,r,e),r=i}}forEach(t,e){e=e||this;for(let r=this[c].head;null!==r;){const i=r.next;b(this,t,r,e),r=i}}keys(){return this[c].toArray().map((t=>t.key))}values(){return this[c].toArray().map((t=>t.value))}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach((t=>this[u](t.key,t.value))),this[f]=new Map,this[c]=new r,this[n]=0}dump(){return this[c].map((t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[c]}set(t,e,r){if((r=r||this[h])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const s=r?Date.now():0,a=this[o](e,t);if(this[f].has(t)){if(a>this[i])return y(this,this[f].get(t)),!1;const o=this[f].get(t).value;return this[u]&&(this[l]||this[u](t,o.value)),o.now=s,o.maxAge=r,o.value=e,this[n]+=a-o.length,o.length=a,this.get(t),w(this),!0}const d=new v(t,e,a,s,r);return d.length>this[i]?(this[u]&&this[u](t,e),!1):(this[n]+=d.length,this[c].unshift(d),this[f].set(t,this[c].head),w(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!g(this,e)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){const t=this[c].tail;return t?(y(this,t),t.value):null}del(t){y(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],n=i.e||0;if(0===n)this.set(i.k,i.v);else{const t=n-e;t>0&&this.set(i.k,i.v,t)}}}prune(){this[f].forEach(((t,e)=>m(this,e,!1)))}constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||p;if(this[o]="function"!=typeof e?p:e,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[h]=t.maxAge||0,this[u]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}}})),a.register("iKSMl",(function(t,e){function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var i=0,n=arguments.length;i<n;i++)e.push(arguments[i]);return e}function i(t,e,r){var i=e===t.head?new s(r,null,e,t):new s(r,e,e.next,t);return null===i.next&&(t.tail=i),null===i.prev&&(t.head=i),t.length++,i}function n(t,e){t.tail=new s(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function o(t,e){t.head=new s(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,e,r,i){if(!(this instanceof s))return new s(t,e,r,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)n(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,i=0;null!==r;i++)t.call(e,r.value,i,this),r=r.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,i=this.length-1;null!==r;i--)t.call(e,r.value,i,this),r=r.prev},r.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},r.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},r.prototype.map=function(t,e){e=e||this;for(var i=new r,n=this.head;null!==n;)i.push(t.call(e,n.value,this)),n=n.next;return i},r.prototype.mapReverse=function(t,e){e=e||this;for(var i=new r,n=this.tail;null!==n;)i.push(t.call(e,n.value,this)),n=n.prev;return i},r.prototype.reduce=function(t,e){var r,i=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,r=this.head.value}for(var n=0;null!==i;n++)r=t(r,i.value,n),i=i.next;return r},r.prototype.reduceReverse=function(t,e){var r,i=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,r=this.tail.value}for(var n=this.length-1;null!==i;n--)r=t(r,i.value,n),i=i.prev;return r},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},r.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new r;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;for(;null!==o&&n<e;n++,o=o.next)i.push(o.value);return i},r.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new r;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,o=this.tail;null!==o&&n>e;n--)o=o.prev;for(;null!==o&&n>t;n--,o=o.prev)i.push(o.value);return i},r.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;var s=[];for(n=0;o&&n<e;n++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=i(this,o,r[n]);return s},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=e,this.tail=t,this};try{a("aTLS7")(r)}catch(t){}})),a.register("aTLS7",(function(t,e){t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}})),a.register("jKGPR",(function(t,e){var r=a("4e4kl");t.exports=(t,e,i)=>{try{e=new r(e,i)}catch(t){return!1}return e.test(t)}})),a.register("1YO0c",(function(t,e){var r=a("4e4kl");t.exports=(t,e)=>new r(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))})),a.register("kLp6O",(function(t,e){var r=a("cHOkf"),i=a("4e4kl");t.exports=(t,e,n)=>{let o=null,s=null,a=null;try{a=new i(e,n)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(o&&-1!==s.compare(t)||(o=t,s=new r(o,n)))})),o}})),a.register("jB7fi",(function(t,e){var r=a("cHOkf"),i=a("4e4kl");t.exports=(t,e,n)=>{let o=null,s=null,a=null;try{a=new i(e,n)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(o&&1!==s.compare(t)||(o=t,s=new r(o,n)))})),o}})),a.register("3l7Kz",(function(t,e){var r=a("cHOkf"),i=a("4e4kl"),n=a("ldDtu");t.exports=(t,e)=>{t=new i(t,e);let o=new r("0.0.0");if(t.test(o))return o;if(o=new r("0.0.0-0"),t.test(o))return o;o=null;for(let e=0;e<t.set.length;++e){const i=t.set[e];let s=null;i.forEach((t=>{const e=new r(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":s&&!n(e,s)||(s=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!s||o&&!n(o,s)||(o=s)}return o&&t.test(o)?o:null}})),a.register("dLxLt",(function(t,e){var r=a("4e4kl");t.exports=(t,e)=>{try{return new r(t,e).range||"*"}catch(t){return null}}})),a.register("81svG",(function(t,e){var r=a("cHOkf"),i=a("bevt6");const{ANY:n}=i;var o=a("4e4kl"),s=a("jKGPR"),h=a("ldDtu"),u=a("7mqzg"),l=a("uNzNG"),c=a("fxxMD");t.exports=(t,e,a,f)=>{let d,p,m,g,w;switch(t=new r(t,f),e=new o(e,f),a){case">":d=h,p=l,m=u,g=">",w=">=";break;case"<":d=u,p=c,m=h,g="<",w="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(t,e,f))return!1;for(let r=0;r<e.set.length;++r){const o=e.set[r];let s=null,a=null;if(o.forEach((t=>{t.semver===n&&(t=new i(">=0.0.0")),s=s||t,a=a||t,d(t.semver,s.semver,f)?s=t:m(t.semver,a.semver,f)&&(a=t)})),s.operator===g||s.operator===w)return!1;if((!a.operator||a.operator===g)&&p(t,a.semver))return!1;if(a.operator===w&&m(t,a.semver))return!1}return!0}})),a.register("klFoa",(function(t,e){var r=a("81svG");t.exports=(t,e,i)=>r(t,e,">",i)})),a.register("5F6YS",(function(t,e){var r=a("81svG");t.exports=(t,e,i)=>r(t,e,"<",i)})),a.register("5FELf",(function(t,e){var r=a("4e4kl");t.exports=(t,e,i)=>(t=new r(t,i),e=new r(e,i),t.intersects(e))})),a.register("kN9p7",(function(t,e){var r=a("jKGPR"),i=a("cFM6E");t.exports=(t,e,n)=>{const o=[];let s=null,a=null;const h=t.sort(((t,e)=>i(t,e,n)));for(const t of h){r(t,e,n)?(a=t,s||(s=t)):(a&&o.push([s,a]),a=null,s=null)}s&&o.push([s,null]);const u=[];for(const[t,e]of o)t===e?u.push(t):e||t!==h[0]?e?t===h[0]?u.push(`<=${e}`):u.push(`${t} - ${e}`):u.push(`>=${t}`):u.push("*");const l=u.join(" || "),c="string"==typeof e.raw?e.raw:String(e);return l.length<c.length?l:e}})),a.register("14wps",(function(t,e){var r=a("4e4kl"),i=a("bevt6");const{ANY:n}=i;var o=a("jKGPR"),s=a("cFM6E");const h=(t,e,r)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===n){if(1===e.length&&e[0].semver===n)return!0;t=r.includePrerelease?[new i(">=0.0.0-0")]:[new i(">=0.0.0")]}if(1===e.length&&e[0].semver===n){if(r.includePrerelease)return!0;e=[new i(">=0.0.0")]}const a=new Set;let h,c,f,d,p,m,g;for(const e of t)">"===e.operator||">="===e.operator?h=u(h,e,r):"<"===e.operator||"<="===e.operator?c=l(c,e,r):a.add(e.semver);if(a.size>1)return null;if(h&&c){if(f=s(h.semver,c.semver,r),f>0)return null;if(0===f&&(">="!==h.operator||"<="!==c.operator))return null}for(const t of a){if(h&&!o(t,String(h),r))return null;if(c&&!o(t,String(c),r))return null;for(const i of e)if(!o(t,String(i),r))return!1;return!0}let w=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver,y=!(!h||r.includePrerelease||!h.semver.prerelease.length)&&h.semver;w&&1===w.prerelease.length&&"<"===c.operator&&0===w.prerelease[0]&&(w=!1);for(const t of e){if(g=g||">"===t.operator||">="===t.operator,m=m||"<"===t.operator||"<="===t.operator,h)if(y&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===y.major&&t.semver.minor===y.minor&&t.semver.patch===y.patch&&(y=!1),">"===t.operator||">="===t.operator){if(d=u(h,t,r),d===t&&d!==h)return!1}else if(">="===h.operator&&!o(h.semver,String(t),r))return!1;if(c)if(w&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===w.major&&t.semver.minor===w.minor&&t.semver.patch===w.patch&&(w=!1),"<"===t.operator||"<="===t.operator){if(p=l(c,t,r),p===t&&p!==c)return!1}else if("<="===c.operator&&!o(c.semver,String(t),r))return!1;if(!t.operator&&(c||h)&&0!==f)return!1}return!(h&&m&&!c&&0!==f)&&(!(c&&g&&!h&&0!==f)&&(!y&&!w))},u=(t,e,r)=>{if(!t)return e;const i=s(t.semver,e.semver,r);return i>0?t:i<0||">"===e.operator&&">="===t.operator?e:t},l=(t,e,r)=>{if(!t)return e;const i=s(t.semver,e.semver,r);return i<0?t:i>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,i={})=>{if(t===e)return!0;t=new r(t,i),e=new r(e,i);let n=!1;t:for(const r of t.set){for(const t of e.set){const e=h(r,t,i);if(n=n||null!==e,e)continue t}if(n)return!1}return!0}}));var h,u={},l={},f=a("ihoyg").Buffer,d=a("7vYz3"),p={};!function(t){var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var o=e(),s=e([1]),h=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,i){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=i>>24&255,t[e+5]=i>>16&255,t[e+6]=i>>8&255,t[e+7]=255&i}function m(t,e,r,i,n){var o,s=0;for(o=0;o<n;o++)s|=t[e+o]^r[i+o];return(1&s-1>>>8)-1}function g(t,e,r,i){return m(t,e,r,i,16)}function w(t,e,r,i){return m(t,e,r,i,32)}function y(t,e,r,i){!function(t,e,r,i){for(var n,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,w=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,C=o,E=s,A=a,B=h,F=u,M=l,D=c,_=f,S=d,I=p,x=m,T=g,N=w,R=y,U=v,k=b,O=0;O<20;O+=2)C^=(n=(N^=(n=(S^=(n=(F^=(n=C+N|0)<<7|n>>>25)+C|0)<<9|n>>>23)+F|0)<<13|n>>>19)+S|0)<<18|n>>>14,M^=(n=(E^=(n=(R^=(n=(I^=(n=M+E|0)<<7|n>>>25)+M|0)<<9|n>>>23)+I|0)<<13|n>>>19)+R|0)<<18|n>>>14,x^=(n=(D^=(n=(A^=(n=(U^=(n=x+D|0)<<7|n>>>25)+x|0)<<9|n>>>23)+U|0)<<13|n>>>19)+A|0)<<18|n>>>14,k^=(n=(T^=(n=(_^=(n=(B^=(n=k+T|0)<<7|n>>>25)+k|0)<<9|n>>>23)+B|0)<<13|n>>>19)+_|0)<<18|n>>>14,C^=(n=(B^=(n=(A^=(n=(E^=(n=C+B|0)<<7|n>>>25)+C|0)<<9|n>>>23)+E|0)<<13|n>>>19)+A|0)<<18|n>>>14,M^=(n=(F^=(n=(_^=(n=(D^=(n=M+F|0)<<7|n>>>25)+M|0)<<9|n>>>23)+D|0)<<13|n>>>19)+_|0)<<18|n>>>14,x^=(n=(I^=(n=(S^=(n=(T^=(n=x+I|0)<<7|n>>>25)+x|0)<<9|n>>>23)+T|0)<<13|n>>>19)+S|0)<<18|n>>>14,k^=(n=(U^=(n=(R^=(n=(N^=(n=k+U|0)<<7|n>>>25)+k|0)<<9|n>>>23)+N|0)<<13|n>>>19)+R|0)<<18|n>>>14;C=C+o|0,E=E+s|0,A=A+a|0,B=B+h|0,F=F+u|0,M=M+l|0,D=D+c|0,_=_+f|0,S=S+d|0,I=I+p|0,x=x+m|0,T=T+g|0,N=N+w|0,R=R+y|0,U=U+v|0,k=k+b|0,t[0]=C>>>0&255,t[1]=C>>>8&255,t[2]=C>>>16&255,t[3]=C>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=A>>>0&255,t[9]=A>>>8&255,t[10]=A>>>16&255,t[11]=A>>>24&255,t[12]=B>>>0&255,t[13]=B>>>8&255,t[14]=B>>>16&255,t[15]=B>>>24&255,t[16]=F>>>0&255,t[17]=F>>>8&255,t[18]=F>>>16&255,t[19]=F>>>24&255,t[20]=M>>>0&255,t[21]=M>>>8&255,t[22]=M>>>16&255,t[23]=M>>>24&255,t[24]=D>>>0&255,t[25]=D>>>8&255,t[26]=D>>>16&255,t[27]=D>>>24&255,t[28]=_>>>0&255,t[29]=_>>>8&255,t[30]=_>>>16&255,t[31]=_>>>24&255,t[32]=S>>>0&255,t[33]=S>>>8&255,t[34]=S>>>16&255,t[35]=S>>>24&255,t[36]=I>>>0&255,t[37]=I>>>8&255,t[38]=I>>>16&255,t[39]=I>>>24&255,t[40]=x>>>0&255,t[41]=x>>>8&255,t[42]=x>>>16&255,t[43]=x>>>24&255,t[44]=T>>>0&255,t[45]=T>>>8&255,t[46]=T>>>16&255,t[47]=T>>>24&255,t[48]=N>>>0&255,t[49]=N>>>8&255,t[50]=N>>>16&255,t[51]=N>>>24&255,t[52]=R>>>0&255,t[53]=R>>>8&255,t[54]=R>>>16&255,t[55]=R>>>24&255,t[56]=U>>>0&255,t[57]=U>>>8&255,t[58]=U>>>16&255,t[59]=U>>>24&255,t[60]=k>>>0&255,t[61]=k>>>8&255,t[62]=k>>>16&255,t[63]=k>>>24&255}(t,e,r,i)}function v(t,e,r,i){!function(t,e,r,i){for(var n,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,c=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,w=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,C=0;C<20;C+=2)o^=(n=(w^=(n=(d^=(n=(u^=(n=o+w|0)<<7|n>>>25)+o|0)<<9|n>>>23)+u|0)<<13|n>>>19)+d|0)<<18|n>>>14,l^=(n=(s^=(n=(y^=(n=(p^=(n=l+s|0)<<7|n>>>25)+l|0)<<9|n>>>23)+p|0)<<13|n>>>19)+y|0)<<18|n>>>14,m^=(n=(c^=(n=(a^=(n=(v^=(n=m+c|0)<<7|n>>>25)+m|0)<<9|n>>>23)+v|0)<<13|n>>>19)+a|0)<<18|n>>>14,b^=(n=(g^=(n=(f^=(n=(h^=(n=b+g|0)<<7|n>>>25)+b|0)<<9|n>>>23)+h|0)<<13|n>>>19)+f|0)<<18|n>>>14,o^=(n=(h^=(n=(a^=(n=(s^=(n=o+h|0)<<7|n>>>25)+o|0)<<9|n>>>23)+s|0)<<13|n>>>19)+a|0)<<18|n>>>14,l^=(n=(u^=(n=(f^=(n=(c^=(n=l+u|0)<<7|n>>>25)+l|0)<<9|n>>>23)+c|0)<<13|n>>>19)+f|0)<<18|n>>>14,m^=(n=(p^=(n=(d^=(n=(g^=(n=m+p|0)<<7|n>>>25)+m|0)<<9|n>>>23)+g|0)<<13|n>>>19)+d|0)<<18|n>>>14,b^=(n=(v^=(n=(y^=(n=(w^=(n=b+v|0)<<7|n>>>25)+b|0)<<9|n>>>23)+w|0)<<13|n>>>19)+y|0)<<18|n>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=c>>>0&255,t[17]=c>>>8&255,t[18]=c>>>16&255,t[19]=c>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,i)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function C(t,e,r,i,n,o,s){var a,h,u=new Uint8Array(16),l=new Uint8Array(64);for(h=0;h<16;h++)u[h]=0;for(h=0;h<8;h++)u[h]=o[h];for(;n>=64;){for(y(l,u,s,b),h=0;h<64;h++)t[e+h]=r[i+h]^l[h];for(a=1,h=8;h<16;h++)a=a+(255&u[h])|0,u[h]=255&a,a>>>=8;n-=64,e+=64,i+=64}if(n>0)for(y(l,u,s,b),h=0;h<n;h++)t[e+h]=r[i+h]^l[h];return 0}function E(t,e,r,i,n){var o,s,a=new Uint8Array(16),h=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=i[s];for(;r>=64;){for(y(h,a,n,b),s=0;s<64;s++)t[e+s]=h[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(y(h,a,n,b),s=0;s<r;s++)t[e+s]=h[s];return 0}function A(t,e,r,i,n){var o=new Uint8Array(32);v(o,i,n,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=i[a+16];return E(t,e,r,s,o)}function B(t,e,r,i,n,o,s){var a=new Uint8Array(32);v(a,o,s,b);for(var h=new Uint8Array(8),u=0;u<8;u++)h[u]=o[u+16];return C(t,e,r,i,n,h,a)}var F=function(t){var e,r,i,n,o,s,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),i=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|i<<6),n=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(i>>>7|n<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(n>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),h=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function M(t,e,r,i,n,o){var s=new F(o);return s.update(r,i,n),s.finish(t,e),0}function D(t,e,r,i,n,o){var s=new Uint8Array(16);return M(s,0,r,i,n,o),g(t,e,s,0)}function _(t,e,r,i,n){var o;if(r<32)return-1;for(B(t,0,e,0,r,i,n),M(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function S(t,e,r,i,n){var o,s=new Uint8Array(32);if(r<32)return-1;if(A(s,0,32,i,n),0!==D(e,16,e,32,r-32,s))return-1;for(B(t,0,e,0,r,i,n),o=0;o<32;o++)t[o]=0;return 0}function I(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function x(t){var e,r,i=1;for(e=0;e<16;e++)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-65536*i;t[0]+=i-1+37*(i-1)}function T(t,e,r){for(var i,n=~(r-1),o=0;o<16;o++)i=n&(t[o]^e[o]),t[o]^=i,e[o]^=i}function N(t,r){var i,n,o,s=e(),a=e();for(i=0;i<16;i++)a[i]=r[i];for(x(a),x(a),x(a),n=0;n<2;n++){for(s[0]=a[0]-65517,i=1;i<15;i++)s[i]=a[i]-65535-(s[i-1]>>16&1),s[i-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,T(a,s,1-o)}for(i=0;i<16;i++)t[2*i]=255&a[i],t[2*i+1]=a[i]>>8}function R(t,e){var r=new Uint8Array(32),i=new Uint8Array(32);return N(r,t),N(i,e),w(r,0,i,0)}function U(t){var e=new Uint8Array(32);return N(e,t),1&e[0]}function k(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function O(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]+r[i]}function L(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]-r[i]}function P(t,e,r){var i,n,o=0,s=0,a=0,h=0,u=0,l=0,c=0,f=0,d=0,p=0,m=0,g=0,w=0,y=0,v=0,b=0,C=0,E=0,A=0,B=0,F=0,M=0,D=0,_=0,S=0,I=0,x=0,T=0,N=0,R=0,U=0,k=r[0],O=r[1],L=r[2],P=r[3],$=r[4],j=r[5],q=r[6],K=r[7],H=r[8],G=r[9],W=r[10],z=r[11],Z=r[12],V=r[13],Y=r[14],X=r[15];o+=(i=e[0])*k,s+=i*O,a+=i*L,h+=i*P,u+=i*$,l+=i*j,c+=i*q,f+=i*K,d+=i*H,p+=i*G,m+=i*W,g+=i*z,w+=i*Z,y+=i*V,v+=i*Y,b+=i*X,s+=(i=e[1])*k,a+=i*O,h+=i*L,u+=i*P,l+=i*$,c+=i*j,f+=i*q,d+=i*K,p+=i*H,m+=i*G,g+=i*W,w+=i*z,y+=i*Z,v+=i*V,b+=i*Y,C+=i*X,a+=(i=e[2])*k,h+=i*O,u+=i*L,l+=i*P,c+=i*$,f+=i*j,d+=i*q,p+=i*K,m+=i*H,g+=i*G,w+=i*W,y+=i*z,v+=i*Z,b+=i*V,C+=i*Y,E+=i*X,h+=(i=e[3])*k,u+=i*O,l+=i*L,c+=i*P,f+=i*$,d+=i*j,p+=i*q,m+=i*K,g+=i*H,w+=i*G,y+=i*W,v+=i*z,b+=i*Z,C+=i*V,E+=i*Y,A+=i*X,u+=(i=e[4])*k,l+=i*O,c+=i*L,f+=i*P,d+=i*$,p+=i*j,m+=i*q,g+=i*K,w+=i*H,y+=i*G,v+=i*W,b+=i*z,C+=i*Z,E+=i*V,A+=i*Y,B+=i*X,l+=(i=e[5])*k,c+=i*O,f+=i*L,d+=i*P,p+=i*$,m+=i*j,g+=i*q,w+=i*K,y+=i*H,v+=i*G,b+=i*W,C+=i*z,E+=i*Z,A+=i*V,B+=i*Y,F+=i*X,c+=(i=e[6])*k,f+=i*O,d+=i*L,p+=i*P,m+=i*$,g+=i*j,w+=i*q,y+=i*K,v+=i*H,b+=i*G,C+=i*W,E+=i*z,A+=i*Z,B+=i*V,F+=i*Y,M+=i*X,f+=(i=e[7])*k,d+=i*O,p+=i*L,m+=i*P,g+=i*$,w+=i*j,y+=i*q,v+=i*K,b+=i*H,C+=i*G,E+=i*W,A+=i*z,B+=i*Z,F+=i*V,M+=i*Y,D+=i*X,d+=(i=e[8])*k,p+=i*O,m+=i*L,g+=i*P,w+=i*$,y+=i*j,v+=i*q,b+=i*K,C+=i*H,E+=i*G,A+=i*W,B+=i*z,F+=i*Z,M+=i*V,D+=i*Y,_+=i*X,p+=(i=e[9])*k,m+=i*O,g+=i*L,w+=i*P,y+=i*$,v+=i*j,b+=i*q,C+=i*K,E+=i*H,A+=i*G,B+=i*W,F+=i*z,M+=i*Z,D+=i*V,_+=i*Y,S+=i*X,m+=(i=e[10])*k,g+=i*O,w+=i*L,y+=i*P,v+=i*$,b+=i*j,C+=i*q,E+=i*K,A+=i*H,B+=i*G,F+=i*W,M+=i*z,D+=i*Z,_+=i*V,S+=i*Y,I+=i*X,g+=(i=e[11])*k,w+=i*O,y+=i*L,v+=i*P,b+=i*$,C+=i*j,E+=i*q,A+=i*K,B+=i*H,F+=i*G,M+=i*W,D+=i*z,_+=i*Z,S+=i*V,I+=i*Y,x+=i*X,w+=(i=e[12])*k,y+=i*O,v+=i*L,b+=i*P,C+=i*$,E+=i*j,A+=i*q,B+=i*K,F+=i*H,M+=i*G,D+=i*W,_+=i*z,S+=i*Z,I+=i*V,x+=i*Y,T+=i*X,y+=(i=e[13])*k,v+=i*O,b+=i*L,C+=i*P,E+=i*$,A+=i*j,B+=i*q,F+=i*K,M+=i*H,D+=i*G,_+=i*W,S+=i*z,I+=i*Z,x+=i*V,T+=i*Y,N+=i*X,v+=(i=e[14])*k,b+=i*O,C+=i*L,E+=i*P,A+=i*$,B+=i*j,F+=i*q,M+=i*K,D+=i*H,_+=i*G,S+=i*W,I+=i*z,x+=i*Z,T+=i*V,N+=i*Y,R+=i*X,b+=(i=e[15])*k,s+=38*(E+=i*L),a+=38*(A+=i*P),h+=38*(B+=i*$),u+=38*(F+=i*j),l+=38*(M+=i*q),c+=38*(D+=i*K),f+=38*(_+=i*H),d+=38*(S+=i*G),p+=38*(I+=i*W),m+=38*(x+=i*z),g+=38*(T+=i*Z),w+=38*(N+=i*V),y+=38*(R+=i*Y),v+=38*(U+=i*X),o=(i=(o+=38*(C+=i*O))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),s=(i=s+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=a+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),v=(i=v+n+65535)-65536*(n=Math.floor(i/65536)),b=(i=b+n+65535)-65536*(n=Math.floor(i/65536)),o=(i=(o+=n-1+37*(n-1))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),s=(i=s+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=a+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),v=(i=v+n+65535)-65536*(n=Math.floor(i/65536)),b=(i=b+n+65535)-65536*(n=Math.floor(i/65536)),o+=n-1+37*(n-1),t[0]=o,t[1]=s,t[2]=a,t[3]=h,t[4]=u,t[5]=l,t[6]=c,t[7]=f,t[8]=d,t[9]=p,t[10]=m,t[11]=g,t[12]=w,t[13]=y,t[14]=v,t[15]=b}function $(t,e){P(t,e,e)}function j(t,r){var i,n=e();for(i=0;i<16;i++)n[i]=r[i];for(i=253;i>=0;i--)$(n,n),2!==i&&4!==i&&P(n,n,r);for(i=0;i<16;i++)t[i]=n[i]}function q(t,r){var i,n=e();for(i=0;i<16;i++)n[i]=r[i];for(i=250;i>=0;i--)$(n,n),1!==i&&P(n,n,r);for(i=0;i<16;i++)t[i]=n[i]}function K(t,r,i){var n,o,s=new Uint8Array(32),a=new Float64Array(80),u=e(),l=e(),c=e(),f=e(),d=e(),p=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,k(a,i),o=0;o<16;o++)l[o]=a[o],f[o]=u[o]=c[o]=0;for(u[0]=f[0]=1,o=254;o>=0;--o)T(u,l,n=s[o>>>3]>>>(7&o)&1),T(c,f,n),O(d,u,c),L(u,u,c),O(c,l,f),L(l,l,f),$(f,d),$(p,u),P(u,c,u),P(c,l,d),O(d,u,c),L(u,u,c),$(l,u),L(c,f,p),P(u,c,h),O(u,u,f),P(c,c,u),P(u,f,p),P(f,l,a),$(l,d),T(u,l,n),T(c,f,n);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=c[o],a[o+48]=l[o],a[o+64]=f[o];var m=a.subarray(32),g=a.subarray(16);return j(m,m),P(g,g,m),N(t,g),0}function H(t,e){return K(t,e,n)}function G(t,e){return r(e,32),H(t,e)}function W(t,e,r){var n=new Uint8Array(32);return K(n,r,e),v(t,i,n,b)}F.prototype.blocks=function(t,e,r){for(var i,n,o,s,a,h,u,l,c,f,d,p,m,g,w,y,v,b,C,E=this.fin?0:2048,A=this.h[0],B=this.h[1],F=this.h[2],M=this.h[3],D=this.h[4],_=this.h[5],S=this.h[6],I=this.h[7],x=this.h[8],T=this.h[9],N=this.r[0],R=this.r[1],U=this.r[2],k=this.r[3],O=this.r[4],L=this.r[5],P=this.r[6],$=this.r[7],j=this.r[8],q=this.r[9];r>=16;)f=c=0,f+=(A+=8191&(i=255&t[e+0]|(255&t[e+1])<<8))*N,f+=(B+=8191&(i>>>13|(n=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*q),f+=(F+=8191&(n>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*j),f+=(M+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*$),c=(f+=(D+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*P))>>>13,f&=8191,f+=(_+=a>>>1&8191)*(5*L),f+=(S+=8191&(a>>>14|(h=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*O),f+=(I+=8191&(h>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*k),f+=(x+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*U),d=c+=(f+=(T+=l>>>5|E)*(5*R))>>>13,d+=A*R,d+=B*N,d+=F*(5*q),d+=M*(5*j),c=(d+=D*(5*$))>>>13,d&=8191,d+=_*(5*P),d+=S*(5*L),d+=I*(5*O),d+=x*(5*k),c+=(d+=T*(5*U))>>>13,d&=8191,p=c,p+=A*U,p+=B*R,p+=F*N,p+=M*(5*q),c=(p+=D*(5*j))>>>13,p&=8191,p+=_*(5*$),p+=S*(5*P),p+=I*(5*L),p+=x*(5*O),m=c+=(p+=T*(5*k))>>>13,m+=A*k,m+=B*U,m+=F*R,m+=M*N,c=(m+=D*(5*q))>>>13,m&=8191,m+=_*(5*j),m+=S*(5*$),m+=I*(5*P),m+=x*(5*L),g=c+=(m+=T*(5*O))>>>13,g+=A*O,g+=B*k,g+=F*U,g+=M*R,c=(g+=D*N)>>>13,g&=8191,g+=_*(5*q),g+=S*(5*j),g+=I*(5*$),g+=x*(5*P),w=c+=(g+=T*(5*L))>>>13,w+=A*L,w+=B*O,w+=F*k,w+=M*U,c=(w+=D*R)>>>13,w&=8191,w+=_*N,w+=S*(5*q),w+=I*(5*j),w+=x*(5*$),y=c+=(w+=T*(5*P))>>>13,y+=A*P,y+=B*L,y+=F*O,y+=M*k,c=(y+=D*U)>>>13,y&=8191,y+=_*R,y+=S*N,y+=I*(5*q),y+=x*(5*j),v=c+=(y+=T*(5*$))>>>13,v+=A*$,v+=B*P,v+=F*L,v+=M*O,c=(v+=D*k)>>>13,v&=8191,v+=_*U,v+=S*R,v+=I*N,v+=x*(5*q),b=c+=(v+=T*(5*j))>>>13,b+=A*j,b+=B*$,b+=F*P,b+=M*L,c=(b+=D*O)>>>13,b&=8191,b+=_*k,b+=S*U,b+=I*R,b+=x*N,C=c+=(b+=T*(5*q))>>>13,C+=A*q,C+=B*j,C+=F*$,C+=M*P,c=(C+=D*L)>>>13,C&=8191,C+=_*O,C+=S*k,C+=I*U,C+=x*R,A=f=8191&(c=(c=((c+=(C+=T*N)>>>13)<<2)+c|0)+(f&=8191)|0),B=d+=c>>>=13,F=p&=8191,M=m&=8191,D=g&=8191,_=w&=8191,S=y&=8191,I=v&=8191,x=b&=8191,T=C&=8191,e+=16,r-=16;this.h[0]=A,this.h[1]=B,this.h[2]=F,this.h[3]=M,this.h[4]=D,this.h[5]=_,this.h[6]=S,this.h[7]=I,this.h[8]=x,this.h[9]=T},F.prototype.finish=function(t,e){var r,i,n,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,i=(1^r)-1,o=0;o<10;o++)s[o]&=i;for(i=~i,o=0;o<10;o++)this.h[o]=this.h[o]&i|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),n=this.h[0]+this.pad[0],this.h[0]=65535&n,o=1;o<8;o++)n=(this.h[o]+this.pad[o]|0)+(n>>>16)|0,this.h[o]=65535&n;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},F.prototype.update=function(t,e,r){var i,n;if(this.leftover){for((n=16-this.leftover)>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=t[e+i];if(r-=n,e+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(t,e,n),e+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=t[e+i];this.leftover+=r}};var z=_,Z=S;var V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,r,i){for(var n,o,s,a,h,u,l,c,f,d,p,m,g,w,y,v,b,C,E,A,B,F,M,D,_,S,I=new Int32Array(16),x=new Int32Array(16),T=t[0],N=t[1],R=t[2],U=t[3],k=t[4],O=t[5],L=t[6],P=t[7],$=e[0],j=e[1],q=e[2],K=e[3],H=e[4],G=e[5],W=e[6],z=e[7],Z=0;i>=128;){for(E=0;E<16;E++)A=8*E+Z,I[E]=r[A+0]<<24|r[A+1]<<16|r[A+2]<<8|r[A+3],x[E]=r[A+4]<<24|r[A+5]<<16|r[A+6]<<8|r[A+7];for(E=0;E<80;E++)if(n=T,o=N,s=R,a=U,h=k,u=O,l=L,P,f=$,d=j,p=q,m=K,g=H,w=G,y=W,z,M=65535&(F=z),D=F>>>16,_=65535&(B=P),S=B>>>16,M+=65535&(F=(H>>>14|k<<18)^(H>>>18|k<<14)^(k>>>9|H<<23)),D+=F>>>16,_+=65535&(B=(k>>>14|H<<18)^(k>>>18|H<<14)^(H>>>9|k<<23)),S+=B>>>16,M+=65535&(F=H&G^~H&W),D+=F>>>16,_+=65535&(B=k&O^~k&L),S+=B>>>16,M+=65535&(F=V[2*E+1]),D+=F>>>16,_+=65535&(B=V[2*E]),S+=B>>>16,B=I[E%16],D+=(F=x[E%16])>>>16,_+=65535&B,S+=B>>>16,_+=(D+=(M+=65535&F)>>>16)>>>16,M=65535&(F=C=65535&M|D<<16),D=F>>>16,_=65535&(B=b=65535&_|(S+=_>>>16)<<16),S=B>>>16,M+=65535&(F=($>>>28|T<<4)^(T>>>2|$<<30)^(T>>>7|$<<25)),D+=F>>>16,_+=65535&(B=(T>>>28|$<<4)^($>>>2|T<<30)^($>>>7|T<<25)),S+=B>>>16,D+=(F=$&j^$&q^j&q)>>>16,_+=65535&(B=T&N^T&R^N&R),S+=B>>>16,c=65535&(_+=(D+=(M+=65535&F)>>>16)>>>16)|(S+=_>>>16)<<16,v=65535&M|D<<16,M=65535&(F=m),D=F>>>16,_=65535&(B=a),S=B>>>16,D+=(F=C)>>>16,_+=65535&(B=b),S+=B>>>16,N=n,R=o,U=s,k=a=65535&(_+=(D+=(M+=65535&F)>>>16)>>>16)|(S+=_>>>16)<<16,O=h,L=u,P=l,T=c,j=f,q=d,K=p,H=m=65535&M|D<<16,G=g,W=w,z=y,$=v,E%16==15)for(A=0;A<16;A++)B=I[A],M=65535&(F=x[A]),D=F>>>16,_=65535&B,S=B>>>16,B=I[(A+9)%16],M+=65535&(F=x[(A+9)%16]),D+=F>>>16,_+=65535&B,S+=B>>>16,b=I[(A+1)%16],M+=65535&(F=((C=x[(A+1)%16])>>>1|b<<31)^(C>>>8|b<<24)^(C>>>7|b<<25)),D+=F>>>16,_+=65535&(B=(b>>>1|C<<31)^(b>>>8|C<<24)^b>>>7),S+=B>>>16,b=I[(A+14)%16],D+=(F=((C=x[(A+14)%16])>>>19|b<<13)^(b>>>29|C<<3)^(C>>>6|b<<26))>>>16,_+=65535&(B=(b>>>19|C<<13)^(C>>>29|b<<3)^b>>>6),S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,I[A]=65535&_|S<<16,x[A]=65535&M|D<<16;M=65535&(F=$),D=F>>>16,_=65535&(B=T),S=B>>>16,B=t[0],D+=(F=e[0])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[0]=T=65535&_|S<<16,e[0]=$=65535&M|D<<16,M=65535&(F=j),D=F>>>16,_=65535&(B=N),S=B>>>16,B=t[1],D+=(F=e[1])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[1]=N=65535&_|S<<16,e[1]=j=65535&M|D<<16,M=65535&(F=q),D=F>>>16,_=65535&(B=R),S=B>>>16,B=t[2],D+=(F=e[2])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[2]=R=65535&_|S<<16,e[2]=q=65535&M|D<<16,M=65535&(F=K),D=F>>>16,_=65535&(B=U),S=B>>>16,B=t[3],D+=(F=e[3])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[3]=U=65535&_|S<<16,e[3]=K=65535&M|D<<16,M=65535&(F=H),D=F>>>16,_=65535&(B=k),S=B>>>16,B=t[4],D+=(F=e[4])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[4]=k=65535&_|S<<16,e[4]=H=65535&M|D<<16,M=65535&(F=G),D=F>>>16,_=65535&(B=O),S=B>>>16,B=t[5],D+=(F=e[5])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[5]=O=65535&_|S<<16,e[5]=G=65535&M|D<<16,M=65535&(F=W),D=F>>>16,_=65535&(B=L),S=B>>>16,B=t[6],D+=(F=e[6])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[6]=L=65535&_|S<<16,e[6]=W=65535&M|D<<16,M=65535&(F=z),D=F>>>16,_=65535&(B=P),S=B>>>16,B=t[7],D+=(F=e[7])>>>16,_+=65535&B,S+=B>>>16,S+=(_+=(D+=(M+=65535&F)>>>16)>>>16)>>>16,t[7]=P=65535&_|S<<16,e[7]=z=65535&M|D<<16,Z+=128,i-=128}return i}function X(t,e,r){var i,n=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(n[0]=1779033703,n[1]=3144134277,n[2]=1013904242,n[3]=2773480762,n[4]=1359893119,n[5]=2600822924,n[6]=528734635,n[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(n,o,e,r),r%=128,i=0;i<r;i++)s[i]=e[a-r+i];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),Y(n,o,s,r),i=0;i<8;i++)p(t,8*i,n[i],o[i]);return 0}function Q(t,r){var i=e(),n=e(),o=e(),s=e(),a=e(),h=e(),u=e(),c=e(),f=e();L(i,t[1],t[0]),L(f,r[1],r[0]),P(i,i,f),O(n,t[0],t[1]),O(f,r[0],r[1]),P(n,n,f),P(o,t[3],r[3]),P(o,o,l),P(s,t[2],r[2]),O(s,s,s),L(a,n,i),L(h,s,o),O(u,s,o),O(c,n,i),P(t[0],a,h),P(t[1],c,u),P(t[2],u,h),P(t[3],a,c)}function J(t,e,r){var i;for(i=0;i<4;i++)T(t[i],e[i],r)}function tt(t,r){var i=e(),n=e(),o=e();j(o,r[2]),P(i,r[0],o),P(n,r[1],o),N(t,n),t[31]^=U(i)<<7}function et(t,e,r){var i,n;for(I(t[0],o),I(t[1],s),I(t[2],s),I(t[3],o),n=255;n>=0;--n)J(t,e,i=r[n/8|0]>>(7&n)&1),Q(e,t),Q(t,t),J(t,e,i)}function rt(t,r){var i=[e(),e(),e(),e()];I(i[0],c),I(i[1],f),I(i[2],s),P(i[3],c,f),et(t,i,r)}function it(t,i,n){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(n||r(i,32),X(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64,rt(a,s),tt(t,a),o=0;o<32;o++)i[o+32]=t[o];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,i,n,o;for(i=63;i>=32;--i){for(r=0,n=i-32,o=i-12;n<o;++n)e[n]+=r-16*e[i]*nt[n-(i-32)],r=Math.floor((e[n]+128)/256),e[n]-=256*r;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;n++)e[n]+=r-(e[31]>>4)*nt[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=r*nt[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=255&e[i]}function st(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,r,i,n){var o,s,a=new Uint8Array(64),h=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),c=[e(),e(),e(),e()];X(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=i+64;for(o=0;o<i;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(X(u,t.subarray(32),i+32),st(u),rt(c,u),tt(t,c),o=32;o<64;o++)t[o]=n[o];for(X(h,t,i+64),st(h),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=h[o]*a[s];return ot(t.subarray(32),l),f}function ht(t,r,i,n){var a,h=new Uint8Array(32),l=new Uint8Array(64),c=[e(),e(),e(),e()],f=[e(),e(),e(),e()];if(i<64)return-1;if(function(t,r){var i=e(),n=e(),a=e(),h=e(),l=e(),c=e(),f=e();return I(t[2],s),k(t[1],r),$(a,t[1]),P(h,a,u),L(a,a,t[2]),O(h,t[2],h),$(l,h),$(c,l),P(f,c,l),P(i,f,a),P(i,i,h),q(i,i),P(i,i,a),P(i,i,h),P(i,i,h),P(t[0],i,h),$(n,t[0]),P(n,n,h),R(n,a)&&P(t[0],t[0],d),$(n,t[0]),P(n,n,h),R(n,a)?-1:(U(t[0])===r[31]>>7&&L(t[0],o,t[0]),P(t[3],t[0],t[1]),0)}(f,n))return-1;for(a=0;a<i;a++)t[a]=r[a];for(a=0;a<32;a++)t[a+32]=n[a];if(X(l,t,i),st(l),et(c,f,l),rt(f,r.subarray(32)),Q(c,f),tt(h,c),i-=64,w(r,0,h,0)){for(a=0;a<i;a++)t[a]=0;return-1}for(a=0;a<i;a++)t[a]=r[a+64];return i}var ut=16,lt=64,ct=32,ft=64;function dt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function pt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:B,crypto_stream:A,crypto_stream_salsa20_xor:C,crypto_stream_salsa20:E,crypto_onetimeauth:M,crypto_onetimeauth_verify:D,crypto_verify_16:g,crypto_verify_32:w,crypto_secretbox:_,crypto_secretbox_open:S,crypto_scalarmult:K,crypto_scalarmult_base:H,crypto_box_beforenm:W,crypto_box_afternm:z,crypto_box:function(t,e,r,i,n,o){var s=new Uint8Array(32);return W(s,n,o),z(t,e,r,i,s)},crypto_box_open:function(t,e,r,i,n,o){var s=new Uint8Array(32);return W(s,n,o),Z(t,e,r,i,s)},crypto_box_keypair:G,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:it,crypto_sign_open:ht,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ut,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:lt,crypto_sign_PUBLICKEYBYTES:ct,crypto_sign_SECRETKEYBYTES:ft,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:nt,pack25519:N,unpack25519:k,M:P,A:O,S:$,Z:L,pow2523:q,add:Q,set25519:I,modL:ot,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,r){pt(t,e,r),dt(r,e);for(var i=new Uint8Array(32+t.length),n=new Uint8Array(i.length),o=0;o<t.length;o++)i[o+32]=t[o];return _(n,i,i.length,e,r),n.subarray(ut)},t.secretbox.open=function(t,e,r){pt(t,e,r),dt(r,e);for(var i=new Uint8Array(ut+t.length),n=new Uint8Array(i.length),o=0;o<t.length;o++)i[o+ut]=t[o];return i.length<32||0!==S(n,i,i.length,e,r)?null:n.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ut,t.scalarMult=function(t,e){if(pt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,t,e),r},t.scalarMult.base=function(t){if(pt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return H(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,i,n){var o=t.box.before(i,n);return t.secretbox(e,r,o)},t.box.before=function(t,e){pt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return W(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,i,n){var o=t.box.before(i,n);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return G(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(pt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return H(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(pt(t,e),e.length!==ft)throw new Error("bad secret key size");var r=new Uint8Array(lt+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(pt(t,e),e.length!==ct)throw new Error("bad public key size");var r=new Uint8Array(t.length),i=ht(r,t,t.length,e);if(i<0)return null;for(var n=new Uint8Array(i),o=0;o<n.length;o++)n[o]=r[o];return n},t.sign.detached=function(e,r){for(var i=t.sign(e,r),n=new Uint8Array(lt),o=0;o<n.length;o++)n[o]=i[o];return n},t.sign.detached.verify=function(t,e,r){if(pt(t,e,r),e.length!==lt)throw new Error("bad signature size");if(r.length!==ct)throw new Error("bad public key size");var i,n=new Uint8Array(lt+t.length),o=new Uint8Array(lt+t.length);for(i=0;i<lt;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+lt]=t[i];return ht(o,n,n.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ct),e=new Uint8Array(ft);return it(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(pt(t),t.length!==ft)throw new Error("bad secret key size");for(var e=new Uint8Array(ct),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(pt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ct),r=new Uint8Array(ft),i=0;i<32;i++)r[i]=t[i];return it(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=ct,t.sign.secretKeyLength=ft,t.sign.seedLength=32,t.sign.signatureLength=lt,t.hash=function(t){pt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return pt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===m(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,r){var i,n=new Uint8Array(r);for(i=0;i<r;i+=65536)e.getRandomValues(n.subarray(i,i+Math.min(r-i,65536)));for(i=0;i<r;i++)t[i]=n[i];mt(n)}))}else(e=a("5Io6y"))&&e.randomBytes&&t.setPRNG((function(t,r){var i,n=e.randomBytes(r);for(i=0;i<r;i++)t[i]=n[i];mt(n)}))}()}(p||(self.nacl=self.nacl||{}));var m,g,w,y={},v=a("iwkA7"),b=a("dQ123");w=function(t){if("string"!=typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)},g=function(t){return"string"!=typeof t?t:w(t)?t.slice(2):t},m=function(t){if("string"==typeof t||"number"==typeof t){var e=new b(1),r=String(t).toLowerCase().trim(),i="0x"===r.substr(0,2)||"-0x"===r.substr(0,3),n=g(r);if("-"===n.substr(0,1)&&(n=g(n.slice(1)),e=new b(-1,10)),!(n=""===n?"0":n).match(/^-?[0-9]+$/)&&n.match(/^[0-9A-Fa-f]+$/)||n.match(/^[a-fA-F]+$/)||!0===i&&n.match(/^[0-9A-Fa-f]+$/))return new b(n,16).mul(e);if((n.match(/^-?[0-9]+$/)||""===n)&&!1===i)return new b(n,10).mul(e)}else if("object"==typeof t&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new b(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")};var C=new v(0),E=new v(-1),A={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function B(t){var e=t?t.toLowerCase():"ether",r=A[e];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(A,null,2));return new v(r,10)}function F(t){if("string"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}if("number"==typeof t)return String(t);if("object"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}y={unitMap:A,numberToString:F,getValueOfUnit:B,fromWei:function(t,e,r){var i=m(t),n=i.lt(C),o=B(e),s=A[e].length-1||1,a=r||{};n&&(i=i.mul(E));for(var h=i.mod(o).toString(10);h.length<s;)h="0"+h;a.pad||(h=h.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var u=i.div(o).toString(10);a.commify&&(u=u.replace(/\B(?=(\d{3})+(?!\d))/g,","));var l=u+("0"==h?"":"."+h);return n&&(l="-"+l),l},toWei:function(t,e){var r=F(t),i=B(e),n=A[e].length-1||1,o="-"===r.substring(0,1);if(o&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var s=r.split(".");if(s.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var a=s[0],h=s[1];if(a||(a="0"),h||(h="0"),h.length>n)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;h.length<n;)h+="0";a=new v(a),h=new v(h);var u=a.mul(i).add(h);return o&&(u=u.mul(E)),new v(u.toString(10),10)}};const M="undefined"!=typeof self&&self.crypto&&self.crypto.subtle;let D=null;M||(D=a("5DdIg"));const _=[],S={};for(let t=0;t<=255;t++){let e=t.toString(16);e.length<2&&(e="0"+e),_.push(e),S[e]=t}const I=(()=>{const t=[],e="A".charCodeAt(0),r="a".charCodeAt(0),i="0".charCodeAt(0);for(let r=0;r<26;++r)t.push(String.fromCharCode(e+r));for(let e=0;e<26;++e)t.push(String.fromCharCode(r+e));for(let e=0;e<10;++e)t.push(String.fromCharCode(i+e));return t.push("+"),t.push("/"),t})();function x(t){return"undefined"==typeof self?f.from(t,"base64").toString("binary"):atob(t)}var T,N=(h={BN:d,nacl:p,sha256:function(t){return M?crypto.subtle.digest("SHA-256",t):D.subtle.digest({name:"SHA-256"},t)},fromNano:function(t){if(!d.isBN(t)&&"string"!=typeof t)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return y.fromWei(t,"gwei")},toNano:function(t){if(!d.isBN(t)&&"string"!=typeof t)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return y.toWei(t,"gwei")},bytesToHex:function(t){const e=[];for(let r=0;r<t.byteLength;r++)e.push(_[t[r]]);return e.join("")},hexToBytes:function(t){const e=(t=t.toLowerCase()).length;if(e%2!=0)throw"hex string must have length a multiple of 2";const r=e/2,i=new Uint8Array(r);for(let e=0;e<r;e++){const r=2*e,n=t.substring(r,r+2);if(!S.hasOwnProperty(n))throw new Error("invalid hex character "+n);i[e]=S[n]}return i},stringToBytes:function(t,e=1){let r,i;1===e&&(r=new ArrayBuffer(t.length),i=new Uint8Array(r)),2===e&&(r=new ArrayBuffer(2*t.length),i=new Uint16Array(r)),4===e&&(r=new ArrayBuffer(4*t.length),i=new Uint32Array(r));for(let e=0,r=t.length;e<r;e++)i[e]=t.charCodeAt(e);return new Uint8Array(i.buffer)},crc32c:function(t){const e=function(t,e){const r=2197175160;t^=4294967295;for(let i=0;i<e.length;i++)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t^=e[i])?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1)?t>>>1^r:t>>>1;return 4294967295^t}(0,t),r=new ArrayBuffer(4);return new DataView(r).setUint32(0,e,!1),new Uint8Array(r).reverse()},crc16:function(t){let e=0;const r=new Uint8Array(t.length+2);r.set(t);for(let t of r){let r=128;for(;r>0;)e<<=1,t&r&&(e+=1),r>>=1,e>65535&&(e&=65535,e^=4129)}return new Uint8Array([Math.floor(e/256),e%256])},concatBytes:function(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r},bytesToBase64:function(t){let e,r="";const i=t.length;for(e=2;e<i;e+=3)r+=I[t[e-2]>>2],r+=I[(3&t[e-2])<<4|t[e-1]>>4],r+=I[(15&t[e-1])<<2|t[e]>>6],r+=I[63&t[e]];return e===i+1&&(r+=I[t[e-2]>>2],r+=I[(3&t[e-2])<<4],r+="=="),e===i&&(r+=I[t[e-2]>>2],r+=I[(3&t[e-2])<<4|t[e-1]>>4],r+=I[(15&t[e-1])<<2],r+="="),r},base64ToBytes:function(t){const e=x(t),r=e.length,i=new Uint8Array(r);for(let t=0;t<r;t++)i[t]=e.charCodeAt(t);return i},base64toString:x,stringToBase64:function(t){return"undefined"==typeof self?f.from(t,"binary").toString("base64"):btoa(t)},compareBytes:function(t,e){return t.toString()===e.toString()},readNBytesUIntFromArray:function(t,e){let r=0;for(let i=0;i<t;i++)r*=256,r+=e[i];return r},keyPairFromSeed:function(t){return p.sign.keyPair.fromSeed(t)},newKeyPair:function(){return p.sign.keyPair()},newSeed:function(){return p.sign.keyPair().secretKey.slice(0,32)}}).BN,R=h.nacl,U=h.sha256,k=h.fromNano,O=h.toNano,L=h.bytesToHex,P=h.hexToBytes,$=h.stringToBytes,j=h.crc32c,q=h.crc16,K=h.concatBytes,H=h.bytesToBase64,G=h.base64ToBytes,W=h.base64toString,z=h.stringToBase64,Z=h.compareBytes,V=h.readNBytesUIntFromArray,Y=h.keyPairFromSeed,X=h.newKeyPair,Q=h.newSeed;t({},"default",(function(){return T}),(function(t){return T=t}));var J=h.crc16,tt=h.hexToBytes,et=h.bytesToHex,rt=h.stringToBytes,it=h.base64toString,nt=h.stringToBase64;class ot{static isValid(t){try{return new ot(t),!0}catch(t){return!1}}toString(t,e,r,i){if(void 0===t&&(t=this.isUserFriendly),void 0===e&&(e=this.isUrlSafe),void 0===r&&(r=this.isBounceable),void 0===i&&(i=this.isTestOnly),t){let t=r?17:81;i&&(t|=128);const n=new Int8Array(34);n[0]=t,n[1]=this.wc,n.set(this.hashPart,2);const o=new Uint8Array(36);o.set(n),o.set(J(n),34);let s=nt(String.fromCharCode.apply(null,new Uint8Array(o)));return e&&(s=s.replace(/\+/g,"-").replace(/\//g,"_")),s}return this.wc+":"+et(this.hashPart)}constructor(t){if(null==t)throw"Invalid address";if(t instanceof ot)return this.wc=t.wc,this.hashPart=t.hashPart,this.isTestOnly=t.isTestOnly,this.isUserFriendly=t.isUserFriendly,this.isBounceable=t.isBounceable,void(this.isUrlSafe=t.isUrlSafe);if(t.search(/\-/)>0||t.search(/_/)>0?(this.isUrlSafe=!0,t=t.replace(/\-/g,"+").replace(/_/g,"/")):this.isUrlSafe=!1,t.indexOf(":")>-1){const e=t.split(":");if(2!==e.length)throw new Error("Invalid address "+t);const r=parseInt(e[0]);if(0!==r&&-1!==r)throw new Error("Invalid address wc "+t);const i=e[1];if(64!==i.length)throw new Error("Invalid address hex "+t);this.isUserFriendly=!1,this.wc=r,this.hashPart=tt(i),this.isTestOnly=!1,this.isBounceable=!1}else{this.isUserFriendly=!0;const e=function(t){if(48!==t.length)throw new Error("User-friendly address should contain strictly 48 characters");const e=rt(it(t));if(36!==e.length)throw"Unknown address type: byte length is not equal to 36";const r=e.slice(0,34),i=e.slice(34,36),n=J(r);if(n[0]!==i[0]||n[1]!==i[1])throw"Wrong crc16 hashsum";let o=r[0],s=!1,a=!1;if(128&o&&(s=!0,o^=128),17!==o&&81!==o)throw"Unknown address tag";a=17===o;let h=null;if(h=255===r[1]?-1:r[1],0!==h&&-1!==h)throw new Error("Invalid address wc "+h);return{isTestOnly:s,isBounceable:a,workchain:h,hashPart:r.slice(2,34)}}(t);this.wc=e.workchain,this.hashPart=e.hashPart,this.isTestOnly=e.isTestOnly,this.isBounceable=e.isBounceable}}}var st=T=ot;const at=(l={Address:st,BN:N,nacl:R,sha256:U,fromNano:k,toNano:O,bytesToHex:L,hexToBytes:P,stringToBytes:$,crc32c:j,crc16:q,concatBytes:K,bytesToBase64:H,base64ToBytes:G,base64toString:W,stringToBase64:z,compareBytes:Z,readNBytesUIntFromArray:V,parseTransferUrl:function(t){const e="ton://transfer/";if(!t.startsWith(e))throw new Error("must starts with "+e);const r=t.substring(e.length).split("?");if(r.length>2)throw new Error('multiple "?"');const i=r[0];if(!st.isValid(i))throw new Error("invalid address format "+i);const n={address:i},o=r[1];if(o&&o.length){const t=o.split("&").map((t=>t.split("=")));for(const e of t){if(2!==e.length)throw new Error("invalid url pair");const t=e[0],r=e[1];if("amount"===t){if(n.amount)throw new Error("amount already set");if(new N(r).isNeg())throw new Error("negative amount");n.amount=r}else{if("text"!==t)throw new Error("unknown url var "+t);if(n.text)throw new Error("text already set");n.text=decodeURIComponent(r)}}}return n},formatTransferUrl:function(t,e,r){let i="ton://transfer/"+t;const n=[];return e&&n.push("amount="+e),r&&n.push("text="+encodeURIComponent(r)),0===n.length?i:i+"?"+n.join("&")},keyPairFromSeed:Y,newKeyPair:X,newSeed:Q}).Address;var ht,ut,lt=l.BN,ct=l.bytesToHex;class ft{getFreeBits(){return this.length-this.cursor}getUsedBits(){return this.cursor}getUsedBytes(){return Math.ceil(this.cursor/8)}get(t){return(this.array[t/8|0]&1<<7-t%8)>0}checkRange(t){if(t>this.length)throw Error("BitString overflow")}on(t){this.checkRange(t),this.array[t/8|0]|=1<<7-t%8}off(t){this.checkRange(t),this.array[t/8|0]&=~(1<<7-t%8)}toggle(t){this.checkRange(t),this.array[t/8|0]^=1<<7-t%8}forEach(t){const e=this.cursor;for(let r=0;r<e;r++)t(this.get(r))}writeBit(t){t&&t>0?this.on(this.cursor):this.off(this.cursor),this.cursor=this.cursor+1}writeBitArray(t){for(let e=0;e<t.length;e++)this.writeBit(t[e])}writeUint(t,e){if(t=new lt(t),0==e||t.toString(2).length>e){if(0==t)return;throw Error("bitLength is too small for number, got number="+t+",bitLength="+e)}const r=t.toString(2,e);for(let t=0;t<e;t++)this.writeBit(1==r[t])}writeInt(t,e){if(t=new lt(t),1==e){if(-1==t)return void this.writeBit(!0);if(0==t)return void this.writeBit(!1);throw Error("Bitlength is too small for number")}if(t.isNeg()){this.writeBit(!0);const r=new lt(2).pow(new lt(e-1));this.writeUint(r.add(t),e-1)}else this.writeBit(!1),this.writeUint(t,e-1)}writeUint8(t){this.writeUint(t,8)}writeBytes(t){for(let e=0;e<t.length;e++)this.writeUint8(t[e])}writeString(t){this.writeBytes((new TextEncoder).encode(t))}writeGrams(t){if(0==t)this.writeUint(0,4);else{t=new lt(t);const e=Math.ceil(t.toString(16).length/2);this.writeUint(e,4),this.writeUint(t,8*e)}}writeCoins(t){this.writeGrams(t)}writeAddress(t){null==t?this.writeUint(0,2):(this.writeUint(2,2),this.writeUint(0,1),this.writeInt(t.wc,8),this.writeBytes(t.hashPart))}writeBitString(t){t.forEach((t=>{this.writeBit(t)}))}clone(){const t=new ft(0);return t.array=this.array.slice(0),t.length=this.length,t.cursor=this.cursor,t}toString(){return this.toHex()}getTopUppedArray(){const t=this.clone();let e=8*Math.ceil(t.cursor/8)-t.cursor;if(e>0)for(e-=1,t.writeBit(!0);e>0;)e-=1,t.writeBit(!1);return t.array=t.array.slice(0,Math.ceil(t.cursor/8)),t.array}toHex(){if(this.cursor%4==0){const t=ct(this.array.slice(0,Math.ceil(this.cursor/8))).toUpperCase();return this.cursor%8==0?t:t.substr(0,t.length-1)}{const t=this.clone();for(t.writeBit(1);t.cursor%4!=0;)t.writeBit(0);return t.toHex().toUpperCase()+"_"}}setTopUppedArray(t,e=!0){if(this.length=8*t.length,this.array=t,this.cursor=this.length,!e&&this.length){let r=!1;for(let t=0;t<7;t++)if(this.cursor-=1,this.get(this.cursor)){r=!0,this.off(this.cursor);break}if(!r)throw console.log(t,e),new Error("Incorrect TopUppedArray")}}constructor(t){this.array=Uint8Array.from({length:Math.ceil(t/8)},(()=>0)),this.cursor=0,this.length=t}}var dt=(ut={BitString:ft}).BitString,pt=ut.BitString,mt=(l.bytesToBase64,l.compareBytes),gt=l.concatBytes,wt=l.crc32c,yt=l.hexToBytes,vt=l.readNBytesUIntFromArray,bt=l.sha256;l.bytesToHex;const Ct=yt("B5EE9C72"),Et=yt("68ff65f3"),At=yt("acc3a728");class Bt{static fromBoc(t){return _t(t)}static oneFromBoc(t){const e=_t(t);if(1!==e.length)throw new Error("expected 1 root cell but have "+e.length);return e[0]}writeCell(t){this.bits.writeBitString(t.bits),this.refs=this.refs.concat(t.refs)}getMaxLevel(){let t=0;for(let e in this.refs){const r=this.refs[e];r.getMaxLevel()>t&&(t=r.getMaxLevel())}return t}isExplicitlyStoredHashes(){return 0}getMaxDepth(){let t=0;if(this.refs.length>0){for(let e in this.refs){const r=this.refs[e];r.getMaxDepth()>t&&(t=r.getMaxDepth())}t+=1}return t}getMaxDepthAsArray(){const t=this.getMaxDepth(),e=Uint8Array.from({length:2},(()=>0));return e[1]=t%256,e[0]=Math.floor(t/256),e}getRefsDescriptor(){const t=Uint8Array.from({length:1},(()=>0));return t[0]=this.refs.length+8*this.isExotic+32*this.getMaxLevel(),t}getBitsDescriptor(){const t=Uint8Array.from({length:1},(()=>0));return t[0]=Math.ceil(this.bits.cursor/8)+Math.floor(this.bits.cursor/8),t}getDataWithDescriptors(){const t=this.getRefsDescriptor(),e=this.getBitsDescriptor(),r=this.bits.getTopUppedArray();return gt(gt(t,e),r)}async getRepr(){const t=[];t.push(this.getDataWithDescriptors());for(let e in this.refs){const r=this.refs[e];t.push(r.getMaxDepthAsArray())}for(let e in this.refs){const r=this.refs[e];t.push(await r.hash())}let e=new Uint8Array;for(let r in t){const i=t[r];e=gt(e,i)}return e}async hash(){return new Uint8Array(await bt(await this.getRepr()))}print(t){let e=(t=t||"")+"x{"+this.bits.toHex()+"}\n";for(let r in this.refs){e+=this.refs[r].print(t+" ")}return e}async toBoc(t=!0,e=!0,r=!1,i=0){const n=await this.treeWalk(),o=n[0],s=n[1],a=o.length,h=a.toString(2).length,u=Math.min(Math.ceil(h/8),1);let l=0,c=[];for(let t of o)c.push(l),l+=await t[1].bocSerializationSize(s,u);const f=l.toString(2).length,d=Math.max(Math.ceil(f/8),1),p=new pt(1247*o.length);p.writeBytes(Ct),p.writeBitArray([t,e,r]),p.writeUint(i,2),p.writeUint(u,3),p.writeUint8(d),p.writeUint(a,8*u),p.writeUint(1,8*u),p.writeUint(0,8*u),p.writeUint(l,8*d),p.writeUint(0,8*u),t&&o.forEach(((t,e)=>p.writeUint(c[e],8*d)));for(let t of o){const e=await t[1].serializeForBoc(s,u);p.writeBytes(e)}let m=p.getTopUppedArray();return e&&(m=gt(m,wt(m))),m}async serializeForBoc(t,e){const r=[];if(r.push(this.getDataWithDescriptors()),this.isExplicitlyStoredHashes())throw new Error("Cell hashes explicit storing is not implemented");for(let e in this.refs){const i=this.refs[e];let n=t[await i.hash()].toString(16);n.length%2&&(n="0"+n);const o=yt(n);r.push(o)}let i=new Uint8Array;for(let t in r){const e=r[t];i=gt(i,e)}return i}async bocSerializationSize(t,e){return(await this.serializeForBoc(t,e)).length}async treeWalk(){return Mt(this,[],{})}constructor(){this.bits=new pt(1023),this.refs=[],this.isExotic=!1}}async function Ft(t,e,r){const i=t[r];for(let e in t)t[e]>i&&(t[e]=t[e]-1);t[r]=e.length-1;const n=e.splice(i,1)[0];e.push(n);for(let r of n[1].refs)await Ft(t,e,await r.hash())}async function Mt(t,e,r,i=null){const n=await t.hash();if(n in r)return i&&r[i]>r[n]&&await Ft(r,e,n),[e,r];r[n]=e.length,e.push([n,t]);for(let i of t.refs){const t=await Mt(i,e,r,n);e=t[0],r=t[1]}return[e,r]}function Dt(t,e){if(t.length<2)throw"Not enough bytes to encode cell descriptors";const r=t[0],i=t[1];t=t.slice(2);Math.floor(r/32);const n=8&r,o=r%8,s=Math.ceil(i/2),a=!(i%2);let h=new Bt;if(h.isExotic=n,t.length<s+e*o)throw"Not enough bytes to encode cell data";h.bits.setTopUppedArray(t.slice(0,s),a),t=t.slice(s);for(let r=0;r<o;r++)h.refs.push(vt(e,t)),t=t.slice(e);return{cell:h,residue:t}}function _t(t){"string"==typeof t&&(t=yt(t));const e=function(t){if(t.length<5)throw"Not enough bytes for magic prefix";const e=t,r=t.slice(0,4);let i,n,o,s,a;if(t=t.slice(4),mt(r,Ct)){const e=t[0];i=128&e,n=64&e,o=32&e,s=2*(16&e)+(8&e),a=e%8}if(mt(r,Et)&&(i=1,n=0,o=0,s=0,a=t[0]),mt(r,At)&&(i=1,n=1,o=0,s=0,a=t[0]),(t=t.slice(1)).length<1+5*a)throw"Not enough bytes for encoding cells counters";const h=t[0];t=t.slice(1);const u=vt(a,t);t=t.slice(a);const l=vt(a,t);t=t.slice(a);const c=vt(a,t);t=t.slice(a);const f=vt(h,t);if((t=t.slice(h)).length<l*a)throw"Not enough bytes for encoding root cells hashes";let d=[];for(let e=0;e<l;e++)d.push(vt(a,t)),t=t.slice(a);let p=!1;if(i){if(p=[],t.length<h*u)throw"Not enough bytes for index encoding";for(let e=0;e<u;e++)p.push(vt(h,t)),t=t.slice(h)}if(t.length<f)throw"Not enough bytes for cells data";const m=t.slice(0,f);if(t=t.slice(f),n){if(t.length<4)throw"Not enough bytes for crc32c hashsum";const r=e.length;if(!mt(wt(e.slice(0,r-4)),t.slice(0,4)))throw"Crc32c hashsum mismatch";t=t.slice(4)}if(t.length)throw"Too much bytes in BoC serialization";return{has_idx:i,hash_crc32:n,has_cache_bits:o,flags:s,size_bytes:a,off_bytes:h,cells_num:u,roots_num:l,absent_num:c,tot_cells_size:f,root_list:d,index:p,cells_data:m}}(t);let r=e.cells_data,i=[];for(let t=0;t<e.cells_num;t++){let t=Dt(r,e.size_bytes);r=t.residue,i.push(t.cell)}for(let t=e.cells_num-1;t>=0;t--){let e=i[t];for(let r=0;r<e.refs.length;r++){const n=e.refs[r];if(n<t)throw"Topological order is broken";e.refs[r]=i[n]}}let n=[];for(let t of e.root_list)n.push(i[t]);return n}ht={BitString:dt,Cell:{Cell:Bt}.Cell};var St,It,xt=a("ihoyg").Buffer,Tt=ht.Cell,Nt=l.Address,Rt=(l.BN,l.bytesToHex),Ut=ht.Cell,kt=l.Address,Ot=l.bytesToBase64,Lt=l.bytesToHex;class Pt{async getAddress(){return this.address||(this.address=(await this.createStateInit()).address),this.address}createCodeCell(){if(!this.options.code)throw new Error("Contract: options.code is not defined");return this.options.code}createDataCell(){return new Ut}async createStateInit(){const t=this.createCodeCell(),e=this.createDataCell(),r=Pt.createStateInit(t,e),i=await r.hash();return{stateInit:r,address:new kt(this.options.wc+":"+Lt(i)),code:t,data:e}}static createStateInit(t,e,r=null,i=null,n=null){if(r)throw"Library in state init is not implemented";if(i)throw"Split depth in state init is not implemented";if(n)throw"Ticktock in state init is not implemented";const o=new Ut;return o.bits.writeBitArray([Boolean(i),Boolean(n),Boolean(t),Boolean(e),Boolean(r)]),t&&o.refs.push(t),e&&o.refs.push(e),r&&o.refs.push(r),o}static createInternalMessageHeader(t,e=0,r=!0,i=null,n=!1,o=null,s=null,a=0,h=0,u=0,l=0){const c=new Ut;if(c.bits.writeBit(!1),c.bits.writeBit(r),null!==i?c.bits.writeBit(i):c.bits.writeBit(new kt(t).isBounceable),c.bits.writeBit(n),c.bits.writeAddress(o?new kt(o):null),c.bits.writeAddress(new kt(t)),c.bits.writeGrams(e),s)throw"Currency collections are not implemented yet";return c.bits.writeBit(Boolean(s)),c.bits.writeGrams(a),c.bits.writeGrams(h),c.bits.writeUint(u,64),c.bits.writeUint(l,32),c}static createExternalMessageHeader(t,e=null,r=0){const i=new Ut;return i.bits.writeUint(2,2),i.bits.writeAddress(e?new kt(e):null),i.bits.writeAddress(new kt(t)),i.bits.writeGrams(r),i}static createCommonMsgInfo(t,e=null,r=null){const i=new Ut;return i.writeCell(t),e?(i.bits.writeBit(!0),i.bits.getFreeBits()-1>=e.bits.getUsedBits()?(i.bits.writeBit(!1),i.writeCell(e)):(i.bits.writeBit(!0),i.refs.push(e))):i.bits.writeBit(!1),r?i.bits.getFreeBits()>=r.bits.getUsedBits()?(i.bits.writeBit(!1),i.writeCell(r)):(i.bits.writeBit(!0),i.refs.push(r)):i.bits.writeBit(!1),i}static createMethod(t,e){return{getQuery:async()=>(await e).message,send:async()=>{const r=await e,i=Ot(await r.message.toBoc(!1));return t.sendBoc(i)},estimateFee:async()=>{const r=await e,i=r.code?{address:r.address.toString(!0,!0,!1),body:Ot(await r.body.toBoc(!1)),init_code:Ot(await r.code.toBoc(!1)),init_data:Ot(await r.data.toBoc(!1))}:{address:r.address.toString(!0,!0,!0),body:Ot(await r.body.toBoc(!1))};return t.getEstimateFee(i)}}}constructor(t,e){this.provider=t,this.options=e,this.address=e.address?new kt(e.address):null,e.wc||(e.wc=this.address?this.address.wc:0),this.methods={}}}var $t=(It={Contract:Pt}).Contract;St=class{async getAppConfiguration(){const t=await this.transport.send(224,1,0,0);return{version:t[0]+"."+t[1]+"."+t[2]}}async getPublicKey(t,e){const r=xt.alloc(4);r.writeInt32BE(t);const i=await this.transport.send(224,2,e?1:0,0,r),n=i[0];return{publicKey:new Uint8Array(i.slice(1,1+n))}}async getAddress(t,e,r){const i=xt.alloc(4);i.writeInt32BE(t);const n=await this.transport.send(224,5,e?1:0,r,i),o=n[0],s=new Uint8Array(n.slice(1,1+o));return{address:new Nt("0:"+Rt(s))}}async sign(t,e){const r=xt.alloc(4);r.writeInt32BE(t);const i=xt.concat([r,xt.from(e)]),n=await this.transport.send(224,3,0,0,i),o=n[0];return{signature:n.slice(1,1+o)}}async transfer(t,e,r,i,n,o){const s=await e.createTransferMessage(null,r,i,n,null,3,!0),a=xt.alloc(4);a.writeInt32BE(t);const h=xt.concat([a,xt.from(await s.signingMessage.toBoc())]),u=await this.transport.send(224,4,o,0,h),l=u[0],c=u.slice(1,1+l),f=new Uint8Array(c),d=new Tt;d.bits.writeBytes(f),d.writeCell(s.signingMessage);let p=null,m=null,g=null;if(0===n){const t=await e.createStateInit();p=t.stateInit,m=t.code,g=t.data}const w=await e.getAddress(),y=$t.createExternalMessageHeader(w),v=$t.createCommonMsgInfo(y,p,d),b=new Promise((t=>{t({address:w,message:v,body:d,signature:f,signingMessage:s.signingMessage,stateInit:p,code:m,data:g})}));return $t.createMethod(this.ton.provider,b)}constructor(t,e){this.transport=t,this.ton=e,this.ADDRESS_FORMAT_HEX=0,this.ADDRESS_FORMAT_USER_FRIENDLY=1,this.ADDRESS_FORMAT_URL_SAFE=2,this.ADDRESS_FORMAT_BOUNCEABLE=4,this.ADDRESS_FORMAT_TEST_ONLY=8}};var jt;t({},"default",(function(){return jt}),(function(t){return jt=t}));var qt;t({},"default",(function(){return qt}),(function(t){return qt=t}));var Kt=l.BN,Ht=l.base64ToBytes,Gt=ht.Cell;class Wt{static parseObject(t){const e=t["@type"];switch(e){case"tvm.list":case"tvm.tuple":return t.elements.map(Wt.parseObject);case"tvm.cell":return Gt.oneFromBoc(Ht(t.bytes));case"tvm.stackEntryCell":return Wt.parseObject(t.cell);case"tvm.stackEntryTuple":return Wt.parseObject(t.tuple);case"tvm.stackEntryNumber":return Wt.parseObject(t.number);case"tvm.numberDecimal":return new Kt(t.number,10);default:throw new Error("unknown type "+e)}}static parseResponseStack(t){const e=t[0],r=t[1];switch(e){case"num":return new Kt(r.replace(/0x/,""),16);case"list":case"tuple":return Wt.parseObject(r);case"cell":const t=Ht(r.bytes);return Gt.oneFromBoc(t);default:throw new Error("unknown type "+e)}}static parseResponse(t){if(0!==t.exit_code){const e=new Error("http provider parse response error");throw e.result=t,e}const e=t.stack.map(Wt.parseResponseStack);return 1===e.length?e[0]:e}static makeArg(t){if(t instanceof Kt||t instanceof Number)return["num",t];throw new Error("unknown arg type "+t)}static makeArgs(t){return t.map(this.makeArg)}}var zt=qt=Wt;"undefined"==typeof fetch&&(fetch=a("5Io6y"));class Zt{sendImpl(t,e){const r={"Content-Type":"application/json"};return this.options.apiKey&&(r["X-API-Key"]=this.options.apiKey),fetch(t,{method:"POST",headers:r,body:JSON.stringify(e)}).then((t=>t.json())).then((({result:t,error:e})=>t||Promise.reject(e)))}send(t,e){return this.sendImpl(this.host,{id:1,jsonrpc:"2.0",method:t,params:e})}async getAddressInfo(t){return this.send("getAddressInformation",{address:t})}async getExtendedAddressInfo(t){return this.send("getExtendedAddressInformation",{address:t})}async getWalletInfo(t){return this.send("getWalletInformation",{address:t})}async getTransactions(t,e=20,r,i,n,o){return this.send("getTransactions",{address:t,limit:e,lt:r,hash:i,to_lt:n,archival:o})}async getBalance(t){return this.send("getAddressBalance",{address:t})}async sendBoc(t){return this.send("sendBoc",{boc:t})}async sendQuery(t){return this.send("sendQuerySimple",t)}async getEstimateFee(t){return this.send("estimateFee",t)}async call(t,e,r=[]){return this.send("runGetMethod",{address:t,method:e,stack:r})}async call2(t,e,r=[]){const i=await this.send("runGetMethod",{address:t,method:e,stack:r});return zt.parseResponse(i)}async getMasterchainInfo(){return this.send("getMasterchainInfo",{})}async getBlockShards(t){return this.send("shards",{seqno:t})}async getBlockTransactions(t,e,r){return this.send("getBlockTransactions",{workchain:t,shard:e,seqno:r})}async getMasterchainBlockTransactions(t){return this.getBlockTransactions(-1,"-9223372036854775808",t)}async getBlockHeader(t,e,r){return this.send("getBlockHeader",{workchain:t,shard:e,seqno:r})}async getMasterchainBlockHeader(t){return this.getBlockHeader(-1,"-9223372036854775808",t)}constructor(t,e){this.host=t||"https://toncenter.com/api/v2/jsonRPC",this.options=e||{}}}Zt.SHARD_ID_ALL="-9223372036854775808";var Vt,Yt=jt=Zt,Xt=It.Contract;t({},"default",(function(){return Vt}),(function(t){return Vt=t}));l.Address,l.BN,l.toNano,l.bytesToHex,l.hexToBytes,l.nacl,l.stringToBytes,l.bytesToBase64;var Qt,Jt,te=ht.Cell,ee=It.Contract,re=ht.Cell,ie=l.nacl,ne=(l.stringToBytes,l.Address),oe=l.BN;var se=(Jt={WalletContract:class extends ee{getName(){throw new Error("override me")}createDataCell(){const t=new re;return t.bits.writeUint(0,32),t.bits.writeBytes(this.options.publicKey),t}createSigningMessage(t){t=t||0;const e=new re;return e.bits.writeUint(t,32),e}async createInitExternalMessage(t){if(!this.options.publicKey){const e=ie.sign.keyPair.fromSecretKey(t);this.options.publicKey=e.publicKey}const{stateInit:e,address:r,code:i,data:n}=await this.createStateInit(),o=this.createSigningMessage(),s=ie.sign.detached(await o.hash(),t),a=new re;a.bits.writeBytes(s),a.writeCell(o);const h=ee.createExternalMessageHeader(r);return{address:r,message:ee.createCommonMsgInfo(h,e,a),body:a,signingMessage:o,stateInit:e,code:i,data:n}}async createExternalMessage(t,e,r,i=!1){const n=i?new Uint8Array(64):ie.sign.detached(await t.hash(),e),o=new re;o.bits.writeBytes(n),o.writeCell(t);let s=null,a=null,h=null;if(0===r){if(!this.options.publicKey){const t=ie.sign.keyPair.fromSecretKey(e);this.options.publicKey=t.publicKey}const t=await this.createStateInit();s=t.stateInit,a=t.code,h=t.data}const u=await this.getAddress(),l=ee.createExternalMessageHeader(u);return{address:u,message:ee.createCommonMsgInfo(l,s,o),body:o,signature:n,signingMessage:t,stateInit:s,code:a,data:h}}async createTransferMessage(t,e,r,i,n="",o=3,s=!1,a=null){let h=new re;n&&(n.refs?h=n:"string"==typeof n?n.length>0&&(h.bits.writeUint(0,32),h.bits.writeString(n)):h.bits.writeBytes(n));const u=ee.createInternalMessageHeader(new ne(e),new oe(r)),l=ee.createCommonMsgInfo(u,a,h),c=this.createSigningMessage(i);return c.bits.writeUint8(o),c.refs.push(l),this.createExternalMessage(c,t,i,s)}constructor(t,e){if(!e.publicKey&&!e.address)throw new Error("WalletContract required publicKey or address in options");super(t,e),this.methods={transfer:e=>ee.createMethod(t,this.createTransferMessage(e.secretKey,e.toAddress,e.amount,e.seqno,e.payload,e.sendMode,!Boolean(e.secretKey),e.stateInit)),seqno:()=>({call:async()=>{const e=await this.getAddress();let r=null;try{r=(await t.call2(e.toString(),"seqno")).toNumber()}catch(t){}return r}})},this.deploy=e=>ee.createMethod(t,this.createInitExternalMessage(e))}}}).WalletContract;var ae,he=(Qt={SimpleWalletContractR1:class extends se{getName(){return"simpleR1"}constructor(t,e){e.code=te.oneFromBoc("B5EE9C72410101010044000084FF0020DDA4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED5441FDF089"),super(t,e)}},SimpleWalletContractR2:class extends se{getName(){return"simpleR2"}constructor(t,e){e.code=te.oneFromBoc("B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F"),super(t,e)}},SimpleWalletContractR3:class extends se{getName(){return"simpleR3"}constructor(t,e){e.code=te.oneFromBoc("B5EE9C7241010101005F0000BAFF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54B5B86E42"),super(t,e)}}}).SimpleWalletContractR1,ue=Qt.SimpleWalletContractR2,le=Qt.SimpleWalletContractR3,ce=ht.Cell,fe=Jt.WalletContract;class de extends fe{createSigningMessage(t){t=t||0;const e=new ce;if(e.bits.writeUint(t,32),0===t)for(let t=0;t<32;t++)e.bits.writeBit(1);else{const t=new Date,r=Math.floor(t.getTime()/1e3);e.bits.writeUint(r+60,32)}return e}}var pe,me=(ae={WalletV2ContractR1:class extends de{getName(){return"v2R1"}constructor(t,e){e.code=ce.oneFromBoc("B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6"),super(t,e)}},WalletV2ContractR2:class extends de{getName(){return"v2R2"}constructor(t,e){e.code=ce.oneFromBoc("B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1"),super(t,e)}}}).WalletV2ContractR1,ge=ae.WalletV2ContractR2,we=ht.Cell,ye=Jt.WalletContract;class ve extends ye{createSigningMessage(t){t=t||0;const e=new we;if(e.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)e.bits.writeBit(1);else{const t=new Date,r=Math.floor(t.getTime()/1e3);e.bits.writeUint(r+60,32)}return e.bits.writeUint(t,32),e}createDataCell(){const t=new we;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t}}var be=(pe={WalletV3ContractR1:class extends ve{getName(){return"v3R1"}constructor(t,e){e.code=we.oneFromBoc("B5EE9C724101010100620000C0FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED543FBE6EE0"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}},WalletV3ContractR2:class extends ve{getName(){return"v3R2"}constructor(t,e){e.code=we.oneFromBoc("B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}}}).WalletV3ContractR1,Ce=pe.WalletV3ContractR2,Ee=ht.Cell,Ae=(l.Address,l.bytesToHex,l.BN,Jt.WalletContract);var Be={WalletV4ContractR1:class extends Ae{getName(){return"v4R1"}createSigningMessage(t,e){t=t||0;const r=new Ee;if(r.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)r.bits.writeBit(1);else{const t=new Date,e=Math.floor(t.getTime()/1e3);r.bits.writeUint(e+60,32)}return r.bits.writeUint(t,32),e||r.bits.writeUint(0,8),r}createDataCell(){const t=new Ee;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}constructor(t,e){e.code=Ee.oneFromBoc("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this)}}}.WalletV4ContractR1,Fe=ht.Cell,Me=It.Contract,De=l.Address,_e=l.bytesToHex,Se=(l.BN,l.toNano),Ie=Jt.WalletContract;var xe={WalletV4ContractR2:class extends Ie{getName(){return"v4R2"}createSigningMessage(t,e){t=t||0;const r=new Fe;if(r.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)r.bits.writeBit(1);else{const t=new Date,e=Math.floor(t.getTime()/1e3);r.bits.writeUint(e+60,32)}return r.bits.writeUint(t,32),e||r.bits.writeUint(0,8),r}createDataCell(){const t=new Fe;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async deployAndInstallPlugin(t){const{secretKey:e,seqno:r,pluginWc:i,amount:n,stateInit:o,body:s}=t,a=this.createSigningMessage(r,!0);return a.bits.writeUint(1,8),a.bits.writeInt(i,8),a.bits.writeGrams(n),a.refs.push(o),a.refs.push(s),this.createExternalMessage(a,e,r,!1)}async _setPlugin(t,e){const{secretKey:r,seqno:i,amount:n,queryId:o}=t,s=new De(t.pluginAddress),a=this.createSigningMessage(i,!0);return a.bits.writeUint(e?2:3,8),a.bits.writeInt(s.wc,8),a.bits.writeBytes(s.hashPart),a.bits.writeGrams(n||Se("0.1")),a.bits.writeUint(o||0,64),this.createExternalMessage(a,r,i,!1)}async installPlugin(t){return this._setPlugin(t,!0)}async removePlugin(t){return this._setPlugin(t,!1)}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async isPluginInstalled(t){t=new De(t);const e="0x"+_e(t.hashPart),r=await this.getAddress();return!(await this.provider.call2(r.toString(),"is_plugin_installed",[["num",t.wc],["num",e]])).isZero()}async getPluginsList(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_plugin_list")).map((t=>t[0].toNumber()+":"+t[1].toString(16)))}constructor(t,e){e.code=Fe.oneFromBoc("B5EE9C72410214010002D4000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF264ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1011121302E6D001D0D3032171B0925F04E022D749C120925F04E002D31F218210706C7567BD22821064737472BDB0925F05E003FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F07E005D33FC8258210706C7567BA923830E30D03821064737472BA925F06E30D06070201200809007801FA00F40430F8276F2230500AA121BEF2E0508210706C7567831EB17080185004CB0526CF1658FA0219F400CB6917CB1F5260CB3F20C98040FB0006008A5004810108F45930ED44D0810140D720C801CF16F400C9ED540172B08E23821064737472831EB17080185005CB055003CF1623FA0213CB6ACB1FCB3FC98040FB00925F03E20201200A0B0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580C0D0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200E0F0019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC973FB00C84014810108F451F2A7020070810108D718FA00D33FC8542047810108F451F2A782106E6F746570748018C8CB05CB025006CF165004FA0214CB6A12CB1FCB3FC973FB0002006C810108D718FA00D33F305224810108F459F2A782106473747270748018C8CB05CB025005CF165003FA0213CB6ACB1F12CB3FC973FB00000AF400C9ED54696225E5"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.deployAndInstallPlugin=e=>Me.createMethod(t,this.deployAndInstallPlugin(e)),this.methods.installPlugin=e=>Me.createMethod(t,this.installPlugin(e)),this.methods.removePlugin=e=>Me.createMethod(t,this.removePlugin(e)),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.isPluginInstalled=this.isPluginInstalled.bind(this),this.methods.getPluginsList=this.getPluginsList.bind(this)}}}.WalletV4ContractR2;const Te={simpleR1:he,simpleR2:ue,simpleR3:le,v2R1:me,v2R2:ge,v3R1:be,v3R2:Ce,v4R1:Be,v4R2:xe},Ne=[he,ue,le,me,ge,be,Ce,Be,xe];class Re{create(t){return new this.default(this.provider,t)}constructor(t){this.provider=t,this.all=Te,this.list=Ne,this.defaultVersion="v3R1",this.default=this.all[this.defaultVersion]}}Re.all=Te,Re.list=Ne;var Ue,ke=Vt=Re;t({},"default",(function(){return Ue}),(function(t){return Ue=t}));var Oe=ht.Cell,Le=(l.Address,l.BN,l.toNano,l.bytesToHex,l.hexToBytes,l.nacl,l.stringToBytes,l.bytesToBase64,l.base64ToBytes),Pe=Jt.WalletContract;class $e extends Pe{getName(){return"lockup-0.1"}createSigningMessage(t,e){t=t||0;const r=new Oe;if(r.bits.writeUint(this.options.walletId,32),0===t)for(let t=0;t<32;t++)r.bits.writeBit(1);else{const t=new Date,e=Math.floor(t.getTime()/1e3);r.bits.writeUint(e+60,32)}return r.bits.writeUint(t,32),r}createDataCell(){const t=new Oe;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeBytes(Le(this.options.config.config_public_key)),this.options.config.allowed_destinations?(t.bits.writeUint(1,1),t.refs.push(Oe.oneFromBoc(Le(this.options.config.allowed_destinations)))):t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async getLiquidBalance(){const t=await this.getBalances();return t[0]-t[1]-t[2]}async getNominalRestrictedBalance(){return await this.getBalances()[1]}async getNominalLockedBalance(){return await this.getBalances()[2]}async getBalances(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_balances")}constructor(t,e){e.code=Oe.oneFromBoc("B5EE9C7241021E01000261000114FF00F4A413F4BCF2C80B010201200203020148040501F2F28308D71820D31FD31FD31F802403F823BB13F2F2F003802251A9BA1AF2F4802351B7BA1BF2F4801F0BF9015410C5F9101AF2F4F8005057F823F0065098F823F0062071289320D74A8E8BD30731D4511BDB3C12B001E8309229A0DF72FB02069320D74A96D307D402FB00E8D103A4476814154330F004ED541D0202CD0607020120131402012008090201200F100201200A0B002D5ED44D0D31FD31FD3FFD3FFF404FA00F404FA00F404D1803F7007434C0C05C6C2497C0F83E900C0871C02497C0F80074C7C87040A497C1383C00D46D3C00608420BABE7114AC2F6C2497C338200A208420BABE7106EE86BCBD20084AE0840EE6B2802FBCBD01E0C235C62008087E4055040DBE4404BCBD34C7E00A60840DCEAA7D04EE84BCBD34C034C7CC0078C3C412040DD78CA00C0D0E00130875D27D2A1BE95B0C60000C1039480AF00500161037410AF0050810575056001010244300F004ED540201201112004548E1E228020F4966FA520933023BB9131E2209835FA00D113A14013926C21E2B3E6308003502323287C5F287C572FFC4F2FFFD00007E80BD00007E80BD00326000431448A814C4E0083D039BE865BE803444E800A44C38B21400FE809004E0083D10C06002012015160015BDE9F780188242F847800C02012017180201481B1C002DB5187E006D88868A82609E00C6207E00C63F04EDE20B30020158191A0017ADCE76A268699F98EB85FFC00017AC78F6A268698F98EB858FC00011B325FB513435C2C7E00017B1D1BE08E0804230FB50F620002801D0D3030178B0925B7FE0FA4031FA403001F001A80EDAA4"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.getLiquidBalance=this.getLiquidBalance.bind(this),this.methods.getNominalRestrictedBalance=this.getNominalRestrictedBalance.bind(this),this.methods.getNominalLockedBalance=this.getNominalLockedBalance.bind(this)}}var je,qe=Ue={LockupWalletV1:$e,all:{"lockup-0.1":$e},list:[$e]};t({},"default",(function(){return je}),(function(t){return je=t}));var Ke,He=It.Contract,Ge=ht.Cell,We=(l.Address,l.bytesToBase64),ze=(l.base64ToBytes,l.Address),Ze=ht.Cell;const Ve=t=>(new TextEncoder).encode(encodeURI(t)),Ye=t=>(new TextDecoder).decode(t),Xe=(t,e,r)=>{let i=BigInt(0);for(let n=0;n<r;n++)i*=BigInt(2),i+=BigInt(t.get(e+n));return i},Qe=t=>{let e=Xe(t.bits,3,8);e>BigInt(127)&&(e-=BigInt(256));const r=Xe(t.bits,11,256);if(e.toString(10)+":"+r.toString(16)=="0:0")return null;const i=e.toString(10)+":"+r.toString(16).padStart(64,"0");return new ze(i)};var Je=(Ke={SNAKE_DATA_PREFIX:0,CHUNK_DATA_PREFIX:1,ONCHAIN_CONTENT_PREFIX:0,OFFCHAIN_CONTENT_PREFIX:1,parseAddress:Qe,serializeUri:Ve,parseUri:Ye,createOffchainUriCell:t=>{const e=new Ze;return e.bits.writeUint(1,8),e.bits.writeBytes(Ve(t)),e},parseOffchainUriCell:t=>{let e=0,r=t;for(;r;)e+=r.bits.array.length,r=r.refs[0];const i=new Uint8Array(e);for(e=0,r=t;r;)i.set(r.bits.array,e),e+=r.bits.array.length,r=r.refs[0];return Ye(i.slice(1))},getRoyaltyParams:async(t,e)=>{const r=await t.call2(e,"royalty_params"),i=r[0].toNumber(),n=r[1].toNumber();return{royalty:i/n,royaltyBase:n,royaltyFactor:i,royaltyAddress:Qe(r[2])}}}).parseAddress,tr=Ke.createOffchainUriCell,er=Ke.serializeUri,rr=Ke.parseOffchainUriCell,ir=Ke.getRoyaltyParams;var nr={NftCollection:class extends He{createContentCell(t){const e=tr(t.collectionContentUri),r=new Ge;r.bits.writeBytes(er(t.nftItemContentBaseUri));const i=new Ge;return i.refs[0]=e,i.refs[1]=r,i}createRoyaltyCell(t){const e=new Ge;return e.bits.writeUint(t.royaltyFactor,16),e.bits.writeUint(t.royaltyBase,16),e.bits.writeAddress(t.royaltyAddress),e}createDataCell(){const t=new Ge;return t.bits.writeAddress(this.options.ownerAddress),t.bits.writeUint(0,64),t.refs[0]=this.createContentCell(this.options),t.refs[1]=Ge.oneFromBoc(this.options.nftItemCodeHex),t.refs[2]=this.createRoyaltyCell(this.options),t}createMintBody(t){const e=new Ge;e.bits.writeUint(1,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeUint(t.itemIndex,64),e.bits.writeCoins(t.amount);const r=new Ge;r.bits.writeAddress(t.itemOwnerAddress);const i=new Ge;return i.bits.writeBytes(er(t.itemContentUri)),r.refs[0]=i,e.refs[0]=r,e}createGetRoyaltyParamsBody(t){const e=new Ge;return e.bits.writeUint(1765620048,32),e.bits.writeUint(t.queryId||0,64),e}createChangeOwnerBody(t){if(void 0===t.newOwnerAddress)throw new Error("Specify newOwnerAddress");const e=new Ge;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e}createEditContentBody(t){if(t.royalty>1)throw new Error("royalty > 1");t.royaltyBase=1e3,t.royaltyFactor=Math.floor(t.royalty*t.royaltyBase);const e=new Ge;return e.bits.writeUint(4,32),e.bits.writeUint(t.queryId||0,64),e.refs[0]=this.createContentCell(t),e.refs[1]=this.createRoyaltyCell(t),e}async getCollectionData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_collection_data"),r=e[0].toNumber(),i=rr(e[1]);return{nextItemIndex:r,ownerAddress:Je(e[2]),collectionContentUri:i}}async getNftItemContent(t){const e=await this.getAddress(),r=await t.getData();if(r.isInitialized){const t=await this.provider.call2(e.toString(),"get_nft_content",[["num",r.index],["tvm.Cell",We(await r.contentCell.toBoc(!1))]]);r.contentUri=rr(t),delete r.contentCell}return r}async getNftItemAddressByIndex(t){const e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_nft_address_by_index",[["num",t]]);return Je(r)}async getRoyaltyParams(){const t=await this.getAddress();return ir(this.provider,t.toString())}constructor(t,e){if(e.wc=0,e.code=e.code||Ge.oneFromBoc("B5EE9C724102140100021F000114FF00F4A413F4BCF2C80B0102016202030202CD04050201200E0F04E7D10638048ADF000E8698180B8D848ADF07D201800E98FE99FF6A2687D20699FEA6A6A184108349E9CA829405D47141BAF8280E8410854658056B84008646582A802E78B127D010A65B509E58FE59F80E78B64C0207D80701B28B9E382F970C892E000F18112E001718112E001F181181981E0024060708090201200A0B00603502D33F5313BBF2E1925313BA01FA00D43028103459F0068E1201A44343C85005CF1613CB3FCCCCCCC9ED54925F05E200A6357003D4308E378040F4966FA5208E2906A4208100FABE93F2C18FDE81019321A05325BBF2F402FA00D43022544B30F00623BA9302A402DE04926C21E2B3E6303250444313C85005CF1613CB3FCCCCCCC9ED54002C323401FA40304144C85005CF1613CB3FCCCCCCC9ED54003C8E15D4D43010344130C85005CF1613CB3FCCCCCCC9ED54E05F04840FF2F00201200C0D003D45AF0047021F005778018C8CB0558CF165004FA0213CB6B12CCCCC971FB008002D007232CFFE0A33C5B25C083232C044FD003D0032C03260001B3E401D3232C084B281F2FFF2742002012010110025BC82DF6A2687D20699FEA6A6A182DE86A182C40043B8B5D31ED44D0FA40D33FD4D4D43010245F04D0D431D430D071C8CB0701CF16CCC980201201213002FB5DAFDA89A1F481A67FA9A9A860D883A1A61FA61FF480610002DB4F47DA89A1F481A67FA9A9A86028BE09E008E003E00B01A500C6E"),e.royalty>1)throw new Error("royalty > 1");e.royaltyBase=1e3,e.royaltyFactor=Math.floor(e.royalty*e.royaltyBase),super(t,e),this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.getRoyaltyParams=this.getRoyaltyParams.bind(this)}}}.NftCollection,or=It.Contract,sr=ht.Cell,ar=(l.Address,l.BN),hr=Ke.parseAddress,ur=Ke.getRoyaltyParams,lr=Ke.parseOffchainUriCell;const cr="B5EE9C7241020D010001D0000114FF00F4A413F4BCF2C80B0102016202030202CE04050009A11F9FE00502012006070201200B0C02D70C8871C02497C0F83434C0C05C6C2497C0F83E903E900C7E800C5C75C87E800C7E800C3C00812CE3850C1B088D148CB1C17CB865407E90350C0408FC00F801B4C7F4CFE08417F30F45148C2EA3A1CC840DD78C9004F80C0D0D0D4D60840BF2C9A884AEB8C097C12103FCBC20080900113E910C1C2EBCB8536001F65135C705F2E191FA4021F001FA40D20031FA00820AFAF0801BA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C85009CF16500BCF16712449145446A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00104794102A375BE20A00727082108B77173505C8CBFF5004CF1610248040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB000082028E3526F0018210D53276DB103744006D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB0093303234E25502F003003B3B513434CFFE900835D27080269FC07E90350C04090408F80C1C165B5B60001D00F232CFD633C58073C5B3327B5520BF75041B";class fr extends or{createDataCell(){const t=new sr;return t.bits.writeUint(this.options.index,64),t.bits.writeAddress(this.options.collectionAddress),t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_nft_data"),r=-1===e[0].toNumber(),i=e[1].toNumber(),n=hr(e[2]),o=r?hr(e[3]):null,s=e[4];return{isInitialized:r,index:i,collectionAddress:n,ownerAddress:o,contentCell:s,contentUri:r&&null===n?lr(s):null}}async createTransferBody(t){const e=new sr;return e.bits.writeUint(1607220500,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new ar(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}createGetStaticDataBody(t){const e=new sr;return e.bits.writeUint(801842850,32),e.bits.writeUint(t.queryId||0,64),e}async getRoyaltyParams(){const t=await this.getAddress();return ur(this.provider,t.toString())}constructor(t,e){e.wc=0,e.code=e.code||sr.oneFromBoc(cr),super(t,e),this.methods.getData=this.getData.bind(this)}}fr.codeHex=cr;var dr={NftItem:fr}.NftItem,pr=It.Contract,mr=ht.Cell;l.Address;var gr={NftMarketplace:class extends pr{createDataCell(){const t=new mr;return t.bits.writeAddress(this.options.ownerAddress),t}constructor(t,e){e.wc=0,e.code=e.code||mr.oneFromBoc("B5EE9C7241010401006D000114FF00F4A413F4BCF2C80B01020120020300AAD23221C700915BE0D0D3030171B0915BE0FA40ED44D0FA403012C705F2E19101D31F01C0018E2BFA003001D4D43021F90070C8CA07CBFFC9D077748018C8CB05CB0258CF165004FA0213CB6BCCCCC971FB00915BE20004F2308EF7CCE7"),super(t,e)}}}.NftMarketplace,wr=It.Contract,yr=ht.Cell,vr=Ke.parseAddress;l.BN;const br="B5EE9C7241020A010001B4000114FF00F4A413F4BCF2C80B01020120020302014804050004F2300202CD0607002FA03859DA89A1F481F481F481F401A861A1F401F481F4006101F7D00E8698180B8D8492F82707D201876A2687D207D207D207D006A18116BA4E10159C71D991B1B2990E382C92F837028916382F970FA01698FC1080289C6C8895D7970FAE99F98FD2018201A642802E78B2801E78B00E78B00FD016664F6AA701363804C9B081B2299823878027003698FE99F9810E000C92F857010C0801F5D41081DCD650029285029185F7970E101E87D007D207D0018384008646582A804E78B28B9D090D0A85AD08A500AFD010AE5B564B8FD80384008646582AC678B2803FD010B65B564B8FD80384008646582A802E78B00FD0109E5B564B8FD80381041082FE61E8A10C00C646582A802E78B117D010A65B509E58F8A40900C8C0029A3110471036454012F004E032363704C0038E4782103B9ACA0015BEF2E1C95312C70559C705B1F2E1CA702082105FCC3D14218010C8CB055006CF1622FA0215CB6A14CB1F14CB3F21CF1601CF16CA0021FA02CA00C98100A0FB00E05F06840FF2F0002ACB3F22CF1658CF16CA0021FA02CA00C98100A0FB00AECABAD1";class Cr extends wr{createDataCell(){const t=new yr;t.bits.writeAddress(this.options.marketplaceAddress),t.bits.writeAddress(this.options.nftAddress),t.bits.writeAddress(null),t.bits.writeCoins(this.options.fullPrice);const e=new yr;return e.bits.writeCoins(this.options.marketplaceFee),e.bits.writeAddress(this.options.royaltyAddress),e.bits.writeCoins(this.options.royaltyAmount),t.refs[0]=e,t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_sale_data");return{marketplaceAddress:vr(e[0]),nftAddress:vr(e[1]),nftOwnerAddress:vr(e[2]),fullPrice:e[3],marketplaceFee:e[4],royaltyAddress:vr(e[5]),royaltyAmount:e[6]}}async createCancelBody(t){const e=new yr;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e}constructor(t,e){e.wc=0,e.code=e.code||yr.oneFromBoc(br),super(t,e),this.methods.getData=this.getData.bind(this)}}Cr.codeHex=br;var Er,Ar=je={NftCollection:nr,NftItem:dr,NftMarketplace:gr,NftSale:{NftSale:Cr}.NftSale};t({},"default",(function(){return Er}),(function(t){return Er=t}));var Br=It.Contract,Fr=ht.Cell,Mr=Ke.createOffchainUriCell,Dr=Ke.parseOffchainUriCell,_r=Ke.parseAddress,Sr=(l.Address,l.BN),Ir=l.bytesToBase64;var xr={JettonMinter:class extends Br{createDataCell(){const t=new Fr;return t.bits.writeCoins(0),t.bits.writeAddress(this.options.adminAddress),t.refs[0]=Mr(this.options.jettonContentUri),t.refs[1]=Fr.oneFromBoc(this.options.jettonWalletCodeHex),t}createMintBody(t){const e=new Fr;e.bits.writeUint(21,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.destination),e.bits.writeCoins(t.amount);const r=new Fr;return r.bits.writeUint(395134233,32),r.bits.writeUint(t.queryId||0,64),r.bits.writeCoins(t.jettonAmount),r.bits.writeAddress(null),r.bits.writeAddress(null),r.bits.writeCoins(new Sr(0)),r.bits.writeBit(!1),e.refs[0]=r,e}createChangeAdminBody(t){if(void 0===t.newAdminAddress)throw new Error("Specify newAdminAddress");const e=new Fr;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newAdminAddress),e}createEditContentBody(t){const e=new Fr;return e.bits.writeUint(4,32),e.bits.writeUint(t.queryId||0,64),e.refs[0]=Mr(t.jettonContentUri),e}async getJettonData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_jetton_data");return{totalSupply:e[0],isMutable:-1===e[1].toNumber(),adminAddress:_r(e[2]),jettonContentUri:Dr(e[3]),jettonWalletCode:e[4]}}async getJettonWalletAddress(t){const e=await this.getAddress(),r=new Fr;r.bits.writeAddress(t);const i=await this.provider.call2(e.toString(),"get_wallet_address",[["tvm.Slice",Ir(await r.toBoc(!1))]]);return _r(i)}constructor(t,e){e.wc=0,e.code=e.code||Fr.oneFromBoc("B5EE9C7241020B010001ED000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60090A03EFD9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF29385D71811A92E001F1811802600271812F82C207F97840607080093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FE3603FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE200303515C705F2E049FA403059C85004FA0258CF16CCCCC9ED54002E5143C705F2E049D43001C85004FA0258CF16CCCCC9ED54007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA904051007F09"),super(t,e)}}}.JettonMinter,Tr=It.Contract,Nr=ht.Cell,Rr=Ke.parseAddress,Ur=l.BN;const kr="B5EE9C7241021201000328000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C511100FC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B020120101101F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C03F73B51343E803E903E90350C0234CFFE80145468017E903E9014D6F1C1551CDB5C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140371C1472C7CB8B0C2BE80146A2860822625A020822625A004AD822860822625A028062849F8C3C975C2C070C008E00D0E0F009ACB3F5007FA0222CF165006CF1625FA025003CF16C95005CC2391729171E25008A813A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED5400705279A018A182107362D09CC8CB1F5230CB3F58FA025007CF165007CF16C9718018C8CB0524CF165006FA0215CB6A14CCC971FB0010241023000E10491038375F040076C200B08E218210D53276DB708010C8CB055008CF165004FA0216CB6A12CB1F12CB3FC972FB0093356C21E203C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60063232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55205ECCF23D";class Or extends Tr{async createTransferBody(t){const e=new Nr;return e.bits.writeUint(260734629,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.toAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new Ur(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}async createBurnBody(t){const e=new Nr;return e.bits.writeUint(1499400124,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.responseAddress),e}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_wallet_data");return{balance:e[0],ownerAddress:Rr(e[1]),jettonMinterAddress:Rr(e[2]),jettonWalletCode:e[3]}}constructor(t,e){e.wc=0,e.code=e.code||Nr.oneFromBoc(kr),super(t,e)}}Or.codeHex=kr;var Lr,Pr=Er={JettonMinter:xr,JettonWallet:{JettonWallet:Or}.JettonWallet};const $r=t=>({workchain:t.workchain,shardId:t.shard,shardBlockNumber:t.seqno});var jr={BlockSubscription:class{async start(){if(this.stop(),!this.startMcBlockNumber&&(this.startMcBlockNumber=(await this.provider.getMasterchainInfo()).last.seqno,!this.startMcBlockNumber))throw new Error("Cannot get start mc block number from provider");const t=await this.provider.getMasterchainBlockHeader(this.startMcBlockNumber);if(this.startLT=t.end_lt,!this.startLT)throw new Error("Cannot get startLT from provider");let e=!1;const r=async()=>{if(!e){e=!0;try{const t=await this.storage.getLastMasterchainBlockNumber()||this.startMcBlockNumber;if(!t)throw new Error("no init masterchain block in storage");const e=(await this.provider.getMasterchainInfo()).last.seqno;if(!e)throw new Error("invalid last masterchain block from provider");for(let r=t+1;r<e;r++){const t=await this.provider.getBlockShards(r),e=await this.provider.getMasterchainBlockHeader(r);await this.onBlock(e,t),await this.storage.insertBlocks(r,t.shards.map($r))}}catch(t){console.error(t)}e=!1}};this.mcIntervalId=setInterval((()=>r()),this.mcInterval),r();let i=!1;const n=async()=>{if(!i){i=!0;try{const t=await this.storage.getUnprocessedShardBlock();if(t){const{workchain:e,shardId:r,shardBlockNumber:i}=t,n=await this.provider.getBlockHeader(e,r,i);if(n.end_lt<this.startLT)await this.storage.setBlockProcessed(e,r,i,[]);else{await this.onBlock(n);const t=n.prev_blocks.map($r);await this.storage.setBlockProcessed(e,r,i,t)}}}catch(t){console.log(t)}i=!1}};this.shardsIntervalId=setInterval((()=>n()),this.shardsInterval)}stop(){clearInterval(this.mcIntervalId),clearInterval(this.shardsIntervalId)}constructor(t,e,r,i){this.provider=t,this.storage=e,this.onBlock=r,this.startMcBlockNumber=i?i.startMcBlockNumber:void 0,this.mcInterval=(i?i.mcInterval:void 0)||1e4,this.shardsInterval=(i?i.shardsInterval:void 0)||1e3}}}.BlockSubscription;var qr=(Lr={BlockSubscription:jr,InMemoryBlockStorage:{InMemoryBlockStorage:class{async insertShardBlocks(t){for(const{workchain:e,shardId:r,shardBlockNumber:i}of t)void 0===this.shardchainBlocks[e+"_"+r+"_"+i]&&(this.logFunction&&this.logFunction("insert shard "+e+" "+r+" "+i),this.shardchainBlocks[e+"_"+r+"_"+i]=!1)}async insertBlocks(t,e){if(this.logFunction&&this.logFunction("mc processed "+t),void 0!==this.masterchainBlocks[t])throw new Error("mc already exists "+t);this.masterchainBlocks[t]=!0,await this.insertShardBlocks(e)}async getLastMasterchainBlockNumber(){return Object.keys(this.masterchainBlocks).map((t=>Number(t))).sort(((t,e)=>e-t))[0]}async setBlockProcessed(t,e,r,i){if(this.logFunction&&this.logFunction("shard processed "+t+" "+e+" "+r),void 0===this.shardchainBlocks[t+"_"+e+"_"+r])throw new Error("shard not exists "+t+"_"+e+"_"+r);this.shardchainBlocks[t+"_"+e+"_"+r]=!0,await this.insertShardBlocks(i)}async getUnprocessedShardBlock(){for(let t in this.shardchainBlocks)if(!1===this.shardchainBlocks[t]){const e=t.split("_");return{workchain:Number(e[0]),shardId:e[1],shardBlockNumber:Number(e[2])}}}constructor(t){this.masterchainBlocks={},this.shardchainBlocks={},this.logFunction=t}}}.InMemoryBlockStorage}).BlockSubscription,Kr=Lr.InMemoryBlockStorage,Hr=It.Contract,Gr=ht.Cell,Wr=(l.hexToBytes,l.BN);l.nacl,l.bytesToBase64;var zr,Zr={SubscriptionContract:class extends Hr{createDataCell(){const t=new Gr;return t.bits.writeAddress(this.options.wallet),t.bits.writeAddress(this.options.beneficiary),t.bits.writeGrams(this.options.amount),t.bits.writeUint(this.options.period,32),t.bits.writeUint(this.options.startAt,32),t.bits.writeUint(this.options.timeout,32),t.bits.writeUint(0,32),t.bits.writeUint(0,32),t.bits.writeUint(0,8),t.bits.writeUint(this.options.subscriptionId,32),t}createBody(){const t=new Gr;return t.bits.writeUint(new Wr(1886156135).add(new Wr(2147483648)),32),t}createSelfDestructBody(){const t=new Gr;return t.bits.writeUint(1685288050,32),t}async getSubscriptionData(){const t=t=>t[0].toNumber()+":"+t[1].toString(16),e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_subscription_data");return{wallet:t(r[0]),beneficiary:t(r[1]),amount:r[2],period:r[3].toNumber(),startAt:r[4].toNumber(),timeout:r[5].toNumber(),lastPayment:r[6].toNumber(),lastRequest:r[7].toNumber(),failedAttempts:r[8].toNumber(),subscriptionId:r[9].toNumber()}}async createPayExternalMessage(){const t=await this.getAddress(),e=Hr.createExternalMessageHeader(t),r=Hr.createCommonMsgInfo(e,null,null),i=new Gr;return i.bits.writeUint(Math.floor(Date.now()/1e3),64),{address:t,message:r,body:i}}constructor(t,e){e.code=Gr.oneFromBoc("B5EE9C7241020F01000262000114FF00F4A413F4BCF2C80B0102012002030201480405036AF230DB3C5335A127A904F82327A128A90401BC5135A0F823B913B0F29EF800725210BE945387F0078E855386DB3CA4E2F82302DB3C0B0C0D0202CD06070121A0D0C9B67813F488DE0411F488DE0410130B048FD6D9E05E8698198FD201829846382C74E2F841999E98F9841083239BA395D497803F018B841083AB735BBED9E702984E382D9C74688462F863841083AB735BBED9E70156BA4E09040B0A0A080269F10FD22184093886D9E7C12C1083239BA39384008646582A803678B2801FD010A65B5658F89659FE4B9FD803FC1083239BA396D9E40E0A04F08E8D108C5F0C708210756E6B77DB3CE00AD31F308210706C7567831EB15210BA8F48305324A126A904F82326A127A904BEF27109FA4430A619F833D078D721D70B3F5260A11BBE8E923036F82370708210737562732759DB3C5077DE106910581047103645135042DB3CE0395F076C2232821064737472BA0A0A0D09011A8E897F821064737472DB3CE0300A006821B39982100400000072FB02DE70F8276F118010C8CB055005CF1621FA0214F40013CB6912CB1F830602948100A032DEC901FB000030ED44D0FA40FA40FA00D31FD31FD31FD31FD31FD307D31F30018021FA443020813A98DB3C01A619F833D078D721D70B3FA070F8258210706C7567228018C8CB055007CF165004FA0215CB6A12CB1F13CB3F01FA02CB00C973FB000E0040C8500ACF165008CF165006FA0214CB1F12CB1FCB1FCB1FCB1FCB07CB1FC9ED54005801A615F833D020D70B078100D1BA95810088D721DED307218100DDBA028100DEBA12B1F2E047D33F30A8AB0FE5855AB4"),super(t,e),this.methods.pay=()=>Hr.createMethod(t,this.createPayExternalMessage()),this.methods.getSubscriptionData=this.getSubscriptionData.bind(this)}}}.SubscriptionContract,Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r;return t};var Yr,Xr=It.Contract,Qr=ht.Cell,Jr=l.nacl,ti=l.hexToBytes,ei=l.BN,ri=Ke.parseAddress,ii=ht.Cell;const ni=(t,e)=>{if(64!==e.length)throw new Error("invalid signature length");t.bits.writeBytes(e)},oi=t=>{const e=new ii;return ni(e,t),e},si=(t,e)=>{if(e){if(t.bits.writeBit(1),t.refs.length>=4)throw new Error("refs overflow");t.refs.push(e)}else t.bits.writeBit(0)},ai=si;var hi=(Yr={writePublicKey:(t,e)=>{if(32!==e.length)throw new Error("invalid publicKey length");t.bits.writeBytes(e)},writeSignature:ni,createSignatureCell:oi,tag_init:1768843636,tag_cooperative_close:1131179891,tag_cooperative_commit:1128492404,tag_start_uncooperative_close:1433289580,tag_challenge_state:1130915665,tag_settle_conditionals:1131168622,tag_state:1130910580,op_top_up_balance:1741148801,op_init_channel:235282626,op_cooperative_close:1433884798,op_cooperative_commit:2040604399,op_start_uncooperative_close:521476815,op_challenge_quarantined_state:143567410,op_settle_conditionals:1727459433,op_finish_uncooperative_close:625158801,op_channel_closed:-572749638,createTopUpBalance:t=>{const e=new ii;return e.bits.writeUint(1741148801,32),e.bits.writeCoins(t.coinsA),e.bits.writeCoins(t.coinsB),e},createInitChannelBody:t=>{const e=new ii;return e.bits.writeUint(1768843636,32),e.bits.writeUint(t.channelId,128),e.bits.writeCoins(t.balanceA),e.bits.writeCoins(t.balanceB),e},createCooperativeCloseChannelBody:t=>{const e=new ii;return e.bits.writeUint(1131179891,32),e.bits.writeUint(t.channelId,128),e.bits.writeCoins(t.balanceA),e.bits.writeCoins(t.balanceB),e.bits.writeUint(t.seqnoA,64),e.bits.writeUint(t.seqnoB,64),e},createCooperativeCommitBody:t=>{const e=new ii;return e.bits.writeUint(1128492404,32),e.bits.writeUint(t.channelId,128),e.bits.writeUint(t.seqnoA,64),e.bits.writeUint(t.seqnoB,64),e},createConditionalPayment:t=>{const e=new ii;return e.bits.writeCoins(t.amount),e.writeCell(t.condition),e},createSemiChannelBody:t=>{const e=new ii;return e.bits.writeUint(t.seqno,64),e.bits.writeCoins(t.sentCoins),ai(e,t.conditionals),e},createSemiChannelState:t=>{const e=new ii;return e.bits.writeUint(1130910580,32),e.bits.writeUint(t.channelId,128),e.writeCell(t.semiChannelBody),si(e,t.counterpartySemiChannelBody),e},createSignedSemiChannelState:t=>{const e=new ii;return ni(e,t.signature),e.writeCell(t.state),e},createStartUncooperativeCloseBody:t=>{const e=new ii;return e.bits.writeUint(1433289580,32),e.bits.writeUint(t.channelId,128),e.refs[0]=t.signedSemiChannelStateA,e.refs[1]=t.signedSemiChannelStateB,e},createChallengeQuarantinedStateBody:t=>{const e=new ii;return e.bits.writeUint(1130915665,32),e.bits.writeUint(t.channelId,128),e.refs[0]=t.signedSemiChannelStateA,e.refs[1]=t.signedSemiChannelStateB,e},createSettleConditionalsBody:t=>{const e=new ii;return e.bits.writeUint(1131168622,32),e.bits.writeUint(t.channelId,128),ai(e,t.conditionalsToSettle),e},createFinishUncooperativeClose:()=>{const t=new ii;return t.bits.writeUint(625158801,32),t},createOneSignature:t=>{const e=new ii;return e.bits.writeUint(t.op,32),e.bits.writeBit(t.isA),ni(e,t.signature),e.writeCell(t.cell),e},createTwoSignature:t=>{const e=new ii;return e.bits.writeUint(t.op,32),e.refs[0]=oi(t.signatureA),e.refs[1]=oi(t.signatureB),e.writeCell(t.cell),e}}).writePublicKey,ui=Yr.op_init_channel,li=Yr.op_cooperative_close,ci=Yr.op_cooperative_commit,fi=Yr.op_start_uncooperative_close,di=Yr.op_challenge_quarantined_state,pi=Yr.op_settle_conditionals,mi=Yr.createTopUpBalance,gi=Yr.createInitChannelBody,wi=Yr.createCooperativeCloseChannelBody,yi=Yr.createCooperativeCommitBody,vi=Yr.createSemiChannelBody,bi=Yr.createSemiChannelState,Ci=Yr.createSignedSemiChannelState,Ei=Yr.createStartUncooperativeCloseBody,Ai=Yr.createChallengeQuarantinedStateBody,Bi=Yr.createSettleConditionalsBody,Fi=Yr.createFinishUncooperativeClose,Mi=Yr.createOneSignature,Di=Yr.createTwoSignature;const _i="B5EE9C72410230010007FB000114FF00F4A413F4BCF2C80B0102012002030201480405000AF26C21F0190202CB06070201202E2F020120080902012016170201200A0B0201200C0D0009D3610F80CC001D6B5007434C7FE8034C7CC1BC0FE19E0201580E0F0201201011002D3E11DBC4BE11DBC43232C7FE11DBC47E80B2C7F2407320008B083E1B7B51343480007E187E80007E18BE80007E18F4FFC07E1934FFC07E1974DFC07E19BC01887080A7F4C7C07E1A34C7C07E1A7D01007E1AB7807080E535007E1AF7BE1B2002012012130201201415008D3E13723E11BE117E113E10540132803E10BE80BE10FE8084F2FFC4B2FFF2DFFC02887080A7FE12BE127E121400F2C7C4B2C7FD0037807080E53E12C073253E1333C5B8B27B5520004D1C3C02FE106CFCB8193E803E800C3E1096283E18BE10C0683E18FE10BE10E8006EFCB819BC032000CF1D3C02FE106CFCB819348020C235C6083E4040E4BE1124BE117890CC3E443CB81974C7C060841A5B9A5D2EBCB81A3E118074DFD66EBCB81CBE803E800C3E1094882FBE10D4882FAC3CB819807E18BE18FE12F43E800C3E10BE10E80068006E7CB8199FFE187C0320004120843777222E9C20043232C15401B3C594013E808532DA84B2C7F2DFF2407EC02002012018190201D42B2C0201201A1B0201201E1F0201201C1D00E5473F00BD401D001D401D021F90102D31F01821043436D74BAF2E068F84601D37F59BAF2E072F844544355F910F8454330F910B0F2E065D33FD33F30F84822B9F84922B9B0F2E06C21F86820F869F84A6E915B8E19F84AD0D33FFA003171D721D33F305033BC02BCB1936DF86ADEE2F800F00C8006F3E12F43E800C7E903E900C3E09DBC41CBE10D62F24CC20C1B7BE10FE11963C03FE10BE11A04020BC03DC3E185C3E189C3E18DB7E1ABC032000B51D3C02F5007400750074087E4040B4C7C0608410DB1BDCEEBCB81A3E118074DFD66EBCB81CBE111510D57E443E1150CC3E442C3CB8197E80007E18BE80007E18F4CFF4CFCC3E1208AE7E1248AE6C3CB81B007E1A3E1A7E003C042001C1573F00BF84A6EF2E06AD2008308D71820F9012392F84492F845E24130F910F2E065D31F018210556E436CBAF2E068F84601D37F59BAF2E072D401D08308D71820F901F8444130F910F2E06501D430D08308D71820F901F8454130F910F2E06501820020120222301FED31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE23032F8485280BEF8495250BEB0524BBE1AB0527ABE19210064B05215BE14B05248BE17B0F2E06970F82305C8CB3F5004FA0215F40015CB3F5004FA0212F400CB1F12CA00CA00C9F86AF00C01C31CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DA19D46EBCB81A3E118074DFD66EBCB81CB5007420C235C6083E407E11104C3E443CB81940750C3420C235C6083E407E11504C3E443CB81940602403F71CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DB10DBAEBCB81A3E118074DFD66EBCB81CBD010C3E12B434CFFE803D0134CFFE803D0134C7FE11DBC4148828083E08EE7CB81BBE11DBC4A83E08EF3CB81C34800C151D5A64D6D4C8F7A2B98E82A49B08B8C3816028292A01FCD31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE230325339BE5381BEB0F8495250BEB0F8485290BEB02502FE5237BE16B05262BEB0F2E06927C20097F84918BEF2E0699137E222C20097F84813BEF2E0699132E2F84AD0D33FFA00F404D33FFA00F404D31FF8476F105220A0F823BCF2E06FD200D20030B3F2E073209C3537373A5274BC5263BC12B18E11323939395250BC5299BC18B14650134440E25319BAB3F2E06D9130E30D7F05C82627002496F8476F1114A098F8476F1117A00603E203003ECB3F5004FA0215F40012CB3F5004FA0213F400CB1F12CA00CA00C9F86AF00C00620A8020F4966FA5208E213050038020F4666FA1208E1001FA00ED1E15DA119450C3A00B9133E2923430E202926C21E2B31B000C3535075063140038C8CB3F5004FA0212F400CB3F5003FA0213F400CB1FCA00C9F86AF00C00D51D3C02FE129BACFCB81AFE12B434CFFE803D010C74CFFE803D010C74C7CC3E11DBC4283E11DBC4A83E08EE7CB81C7E003E10886808E87E18BE10D400E816287E18FE10F04026BE10BE10E83E189C3E18F7BE10B04026BE10FE10A83E18DC3E18F780693E1A293E1A7C042001F53B7EF4C7C8608419F1F4A06EA4CC7C037808608403818830AEA54C7C03B6CC780C882084155DD61FAEA54C3C0476CC780820841E6849BBEEA54C3C04B6CC7808208407C546B3EEA54C3C0576CC780820840223AA8CAEA54C3C05B6CC7808208419BDBC1A6EA54C3C05F6CC780C60840950CAA46EA53C0636CC78202D0008840FF2F00075BC7FE3A7805FC25E87D007D207D20184100D0CAF6A1EC7C217C21B7817C227C22B7817C237C23FC247C24B7817C2524C3B7818823881B22A021984008DBD0CABA7805FC20C8B870FC253748B8F07C256840206B90FD0018C020EB90FD0018B8EB90E98F987C23B7882908507C11DE491839707C23B788507C23B789507C11DE48B9F03A4331C4966";class Si extends Xr{createDataCell(){var t,e,r;const i=new Qr;i.bits.writeBit(0),i.bits.writeCoins(0),i.bits.writeCoins(0),hi(i,this.options.publicKeyA),hi(i,this.options.publicKeyB),i.bits.writeUint(this.options.channelId,128);const n=new Qr;n.bits.writeUint((null===(t=this.options.closingConfig)||void 0===t?void 0:t.quarantineDuration)||0,32),n.bits.writeCoins((null===(e=this.options.closingConfig)||void 0===e?void 0:e.misbehaviorFine)||new ei(0)),n.bits.writeUint((null===(r=this.options.closingConfig)||void 0===r?void 0:r.conditionalCloseDuration)||0,32),i.refs[0]=n,i.bits.writeUint(0,32),i.bits.writeUint(0,32),i.bits.writeBit(!1);const o=new Qr;return o.bits.writeCoins(this.options.excessFee||new ei(0)),o.bits.writeAddress(this.options.addressA),o.bits.writeAddress(this.options.addressB),i.refs[1]=o,i}async createOneSignature(t,e){const r=Jr.sign.detached(await e.hash(),this.options.myKeyPair.secretKey);return{cell:Mi({op:t,isA:this.options.isA,signature:r,cell:e}),signature:r}}async createTwoSignature(t,e,r){const i=Jr.sign.detached(await r.hash(),this.options.myKeyPair.secretKey),n=this.options.isA?i:e,o=this.options.isA?e:i;return{cell:Di({op:t,signatureA:n,signatureB:o,cell:r}),signature:i}}async createTopUpBalance(t){return mi(t)}async createInitChannel(t){return this.createOneSignature(ui,gi({...t,channelId:this.options.channelId}))}async createCooperativeCloseChannel(t){return t.hisSignature||(t.hisSignature=new Uint8Array(64)),this.createTwoSignature(li,t.hisSignature,wi({...t,channelId:this.options.channelId}))}async createCooperativeCommit(t){return t.hisSignature||(t.hisSignature=new Uint8Array(64)),this.createTwoSignature(ci,t.hisSignature,yi({...t,channelId:this.options.channelId}))}async createSignedSemiChannelState(t){const e=bi({channelId:this.options.channelId,semiChannelBody:vi({seqno:t.mySeqno,sentCoins:t.mySentCoins,conditionals:null}),counterpartySemiChannelBody:void 0===t.hisSeqno?null:vi({seqno:t.hisSeqno,sentCoins:t.hisSentCoins,conditionals:null})}),r=Jr.sign.detached(await e.hash(),this.options.myKeyPair.secretKey);return{cell:Ci({signature:r,state:e}),signature:r}}async signState(t){const e=this.options.isA?t.seqnoA:t.seqnoB,r=this.options.isA?t.seqnoB:t.seqnoA,i=this.options.initBalanceA.gt(t.balanceA)?this.options.initBalanceA.sub(t.balanceA):new ei(0),n=this.options.initBalanceB.gt(t.balanceB)?this.options.initBalanceB.sub(t.balanceB):new ei(0),o=this.options.isA?i:n,s=this.options.isA?n:i,{cell:a,signature:h}=await this.createSignedSemiChannelState({mySeqno:e,mySentCoins:o,hisSeqno:r,hisSentCoins:s});return h}async verifyState(t,e){const r=this.options.isA?t.seqnoB:t.seqnoA,i=this.options.isA?t.seqnoA:t.seqnoB,n=this.options.initBalanceA.gt(t.balanceA)?this.options.initBalanceA.sub(t.balanceA):new ei(0),o=this.options.initBalanceB.gt(t.balanceB)?this.options.initBalanceB.sub(t.balanceB):new ei(0),s=this.options.isA?o:n,a=this.options.isA?n:o,h=bi({channelId:this.options.channelId,semiChannelBody:vi({seqno:r,sentCoins:s,conditionals:null}),counterpartySemiChannelBody:void 0===i?null:vi({seqno:i,sentCoins:a,conditionals:null})}),u=await h.hash();return Jr.sign.detached.verify(u,e,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async signClose(t){const{cell:e,signature:r}=await this.createCooperativeCloseChannel(t);return r}async verifyClose(t,e){const r=await wi({...t,channelId:this.options.channelId}),i=await r.hash();return Jr.sign.detached.verify(i,e,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async createStartUncooperativeClose(t){return this.createOneSignature(fi,Ei({...t,channelId:this.options.channelId}))}async createChallengeQuarantinedState(t){return this.createOneSignature(di,Ai({...t,channelId:this.options.channelId}))}async createSettleConditionals(t){return this.createOneSignature(pi,Bi({...t,channelId:this.options.channelId}))}async createFinishUncooperativeClose(){return Fi()}async getChannelState(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_channel_state",[])).toNumber()}async getData(){const t=t=>{let e=t.toString(16);return e.length%2!=0&&(e="0"+e),ti(e)},e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_channel_data",[]);return{state:r[0].toNumber(),balanceA:r[1][0],balanceB:r[1][1],publicKeyA:t(r[2][0]),publicKeyB:t(r[2][1]),channelId:r[3],quarantineDuration:r[4][0].toNumber(),misbehaviorFine:r[4][1],conditionalCloseDuration:r[4][2].toNumber(),seqnoA:r[5][0],seqnoB:r[5][1],quarantine:r[6],excessFee:r[7][0],addressA:ri(r[7][1]),addressB:ri(r[7][2])}}fromWallet(t){const{wallet:e,secretKey:r}=t,i=(t,i)=>{const n=async n=>{const o=i?(await this.createStateInit()).stateInit:null,s=await this.getAddress(),a=await e.methods.seqno().call()||0,h=await t;return e.methods.transfer({secretKey:r,toAddress:s.toString(!0,!0,!0),amount:n,seqno:a,payload:h,stateInit:o,sendMode:3})};return{send:t=>n(t).then((t=>t.send())),estimateFee:t=>n(t).then((t=>t.estimateFee()))}};return{deploy:()=>i(null,!0),init:t=>i(this.createInitChannel(t).then((t=>t.cell))),topUp:t=>i(this.createTopUpBalance(t)),close:t=>i(this.createCooperativeCloseChannel(t).then((t=>t.cell))),commit:t=>i(this.createCooperativeCommit(t).then((t=>t.cell))),startUncooperativeClose:t=>i(this.createStartUncooperativeClose(t).then((t=>t.cell))),challengeQuarantinedState:t=>i(this.createChallengeQuarantinedState(t).then((t=>t.cell))),settleConditionals:t=>i(this.createSettleConditionals(t).then((t=>t.cell))),finishUncooperativeClose:()=>i(this.createFinishUncooperativeClose())}}constructor(t,e){e.publicKeyA=e.isA?e.myKeyPair.publicKey:e.hisPublicKey,e.publicKeyB=e.isA?e.hisPublicKey:e.myKeyPair.publicKey,e.wc=e.wc||0,e.code=e.code||Qr.oneFromBoc(_i),super(t,e)}}r(Vr)(Si,"STATE_UNINITED",0),r(Vr)(Si,"STATE_OPEN",1),r(Vr)(Si,"STATE_CLOSURE_STARTED",2),r(Vr)(Si,"STATE_SETTLING_CONDITIONALS",3),r(Vr)(Si,"STATE_AWAITING_FINALIZATION",4),Si.codeHex=_i;var Ii={PaymentChannel:Si}.PaymentChannel;var xi,Ti=(zr={Payments:class{createChannel(t){return new Ii(this.provider,t)}constructor(t){this.provider=t}},PaymentChannel:Ii}).Payments,Ni=zr.PaymentChannel,Ri={},Ui="object"==typeof Reflect?Reflect:null,ki=Ui&&"function"==typeof Ui.apply?Ui.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};xi=Ui&&"function"==typeof Ui.ownKeys?Ui.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var Oi=Number.isNaN||function(t){return t!=t};function Li(){Li.init.call(this)}(Ri=Li).once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,o),i(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}Zi(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&Zi(t,"error",e,r)}(t,n,{once:!0})}))},Li.EventEmitter=Li,Li.prototype._events=void 0,Li.prototype._eventsCount=0,Li.prototype._maxListeners=void 0;var Pi=10;function $i(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function ji(t){return void 0===t._maxListeners?Li.defaultMaxListeners:t._maxListeners}function qi(t,e,r,i){var n,o,s,a;if($i(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=ji(t))>0&&s.length>n&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=s.length,a=h,console&&console.warn&&console.warn(a)}return t}function Ki(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Hi(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Ki.bind(i);return n.listener=r,i.wrapFn=n,n}function Gi(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):zi(n,n.length)}function Wi(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function zi(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function Zi(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(o){i.once&&t.removeEventListener(e,n),r(o)}))}}Object.defineProperty(Li,"defaultMaxListeners",{enumerable:!0,get:function(){return Pi},set:function(t){if("number"!=typeof t||t<0||Oi(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Pi=t}}),Li.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Li.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||Oi(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Li.prototype.getMaxListeners=function(){return ji(this)},Li.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=n[t];if(void 0===a)return!1;if("function"==typeof a)ki(a,this,e);else{var h=a.length,u=zi(a,h);for(r=0;r<h;++r)ki(u[r],this,e)}return!0},Li.prototype.addListener=function(t,e){return qi(this,t,e,!1)},Li.prototype.on=Li.prototype.addListener,Li.prototype.prependListener=function(t,e){return qi(this,t,e,!0)},Li.prototype.once=function(t,e){return $i(e),this.on(t,Hi(this,t,e)),this},Li.prototype.prependOnceListener=function(t,e){return $i(e),this.prependListener(t,Hi(this,t,e)),this},Li.prototype.removeListener=function(t,e){var r,i,n,o,s;if($i(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},Li.prototype.off=Li.prototype.removeListener,Li.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},Li.prototype.listeners=function(t){return Gi(this,t,!0)},Li.prototype.rawListeners=function(t){return Gi(this,t,!1)},Li.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Wi.call(t,e)},Li.prototype.listenerCount=Wi,Li.prototype.eventNames=function(){return this._eventsCount>0?xi(this._events):[]};var Vi={},Yi={},Xi=function(t,e){Yi[t]=e},Qi=function(t){var e=function(e,r){Object.assign(this,r),this.name=t,this.message=e||t,this.stack=(new Error).stack};return e.prototype=new Error,Vi[t]=e,e};Qi("AccountNameRequired"),Qi("AccountNotSupported"),Qi("AmountRequired"),Qi("BluetoothRequired"),Qi("BtcUnmatchedApp"),Qi("CantOpenDevice"),Qi("CashAddrNotSupported"),Qi("CurrencyNotSupported"),Qi("DeviceAppVerifyNotSupported"),Qi("DeviceGenuineSocketEarlyClose"),Qi("DeviceNotGenuine"),Qi("DeviceOnDashboardExpected"),Qi("DeviceOnDashboardUnexpected"),Qi("DeviceInOSUExpected"),Qi("DeviceHalted"),Qi("DeviceNameInvalid"),Qi("DeviceSocketFail"),Qi("DeviceSocketNoBulkStatus");var Ji=Qi("DisconnectedDevice"),tn=Qi("DisconnectedDeviceDuringOperation"),en=(Qi("EnpointConfig"),Qi("EthAppPleaseEnableContractData"),Qi("FeeEstimationFailed"),Qi("FirmwareNotRecognized"),Qi("HardResetFail"),Qi("InvalidXRPTag"),Qi("InvalidAddress"),Qi("InvalidAddressBecauseDestinationIsAlsoSource"),Qi("LatestMCUInstalledError"),Qi("UnknownMCU"),Qi("LedgerAPIError"),Qi("LedgerAPIErrorWithMessage"),Qi("LedgerAPINotAvailable"),Qi("ManagerAppAlreadyInstalled"),Qi("ManagerAppRelyOnBTC"),Qi("ManagerAppDepInstallRequired"),Qi("ManagerAppDepUninstallRequired"),Qi("ManagerDeviceLocked"),Qi("ManagerFirmwareNotEnoughSpace"),Qi("ManagerNotEnoughSpace"),Qi("ManagerUninstallBTCDep"),Qi("NetworkDown"),Qi("NoAddressesFound"),Qi("NotEnoughBalance"),Qi("NotEnoughBalanceToDelegate"),Qi("NotEnoughBalanceInParentAccount"),Qi("NotEnoughSpendableBalance"),Qi("NotEnoughBalanceBecauseDestinationNotCreated"),Qi("NoAccessToCamera"),Qi("NotEnoughGas"),Qi("NotSupportedLegacyAddress"),Qi("GasLessThanEstimate"),Qi("PasswordsDontMatch"),Qi("PasswordIncorrect"),Qi("RecommendSubAccountsToEmpty"),Qi("RecommendUndelegation"),Qi("TimeoutTagged"),Qi("UnexpectedBootloader"),Qi("MCUNotGenuineToDashboard"),Qi("RecipientRequired"),Qi("UnavailableTezosOriginatedAccountReceive"),Qi("UnavailableTezosOriginatedAccountSend"),Qi("UpdateFetchFileFail"),Qi("UpdateIncorrectHash"),Qi("UpdateIncorrectSig"),Qi("UpdateYourApp"),Qi("UserRefusedDeviceNameChange"),Qi("UserRefusedAddress"),Qi("UserRefusedFirmwareUpdate"),Qi("UserRefusedAllowManager"),Qi("UserRefusedOnDevice"),Qi("TransportOpenUserCancelled")),rn=Qi("TransportInterfaceNotAvailable"),nn=Qi("TransportRaceCondition"),on=Qi("TransportWebUSBGestureRequired");Qi("DeviceShouldStayInApp"),Qi("WebsocketConnectionError"),Qi("WebsocketConnectionFailed"),Qi("WrongDeviceForAccount"),Qi("WrongAppForCurrency"),Qi("ETHAddressNonEIP"),Qi("CantScanQRCode"),Qi("FeeNotLoaded"),Qi("FeeRequired"),Qi("FeeTooHigh"),Qi("SyncError"),Qi("PairingFailed"),Qi("GenuineCheckFailed"),Qi("LedgerAPI4xx"),Qi("LedgerAPI5xx"),Qi("FirmwareOrAppUpdateRequired"),Qi("NoDBPathGiven"),Qi("DBWrongPassword"),Qi("DBNotReset");function sn(t,e){this.name="TransportError",this.message=t,this.stack=(new Error).stack,this.id=e}sn.prototype=new Error,Xi("TransportError",(function(t){return new sn(t.message,t.id)}));var an={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function hn(t){this.name="TransportStatusError";var e=Object.keys(an).find((function(e){return an[e]===t}))||"UNKNOWN_ERROR",r=function(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=t&&t<=28671)return"Internal error, please report"}(t)||e,i=t.toString(16);this.message="Ledger device: "+r+" (0x"+i+")",this.stack=(new Error).stack,this.statusCode=t,this.statusText=e}hn.prototype=new Error,Xi("TransportStatusError",(function(t){return new hn(t.statusCode)}));var un=a("ihoyg").Buffer;class ln{exchange(t){throw new Error("exchange not implemented")}setScrambleKey(t){}close(){return Promise.resolve()}on(t,e){this._events.on(t,e)}off(t,e){this._events.removeListener(t,e)}emit(t,...e){this._events.emit(t,...e)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(t){this.exchangeTimeout=t}setExchangeUnresponsiveTimeout(t){this.unresponsiveTimeout=t}static create(t=3e3,e){return new Promise(((r,i)=>{let n=!1;const o=this.listen({next:e=>{n=!0,o&&o.unsubscribe(),s&&clearTimeout(s),this.open(e.descriptor,t).then(r,i)},error:t=>{s&&clearTimeout(s),i(t)},complete:()=>{s&&clearTimeout(s),n||i(new sn(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),s=e?setTimeout((()=>{o.unsubscribe(),i(new sn(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),e):null}))}decorateAppAPIMethods(t,e,r){for(let i of e)t[i]=this.decorateAppAPIMethod(i,t[i],t,r)}decorateAppAPIMethod(t,e,r,i){return async(...n)=>{const{_appAPIlock:o}=this;if(o)return Promise.reject(new sn("Ledger Device is busy (lock "+o+")","TransportLocked"));try{return this._appAPIlock=t,this.setScrambleKey(i),await e.apply(r,n)}finally{this._appAPIlock=null}}}constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(r(Ri)),this.send=async(t,e,r,i,n=un.alloc(0),o=[an.OK])=>{if(n.length>=256)throw new sn("data.length exceed 256 bytes limit. Got: "+n.length,"DataLengthTooBig");const s=await this.exchange(un.concat([un.from([t,e,r,i]),un.from([n.length]),n])),a=s.readUInt16BE(s.length-2);if(!o.some((t=>t===a)))throw new hn(a);return s},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async t=>{if(this.exchangeBusyPromise)throw new nn("An action was already pending on the Ledger device. Please deny or reconnect.");let e;const r=new Promise((t=>{e=t}));this.exchangeBusyPromise=r;let i=!1;const n=setTimeout((()=>{i=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const r=await t();return i&&this.emit("responsive"),r}finally{clearTimeout(n),e&&e(),this.exchangeBusyPromise=null}},this._appAPIlock=null}}ln.isSupported=void 0,ln.list=void 0,ln.listen=void 0,ln.open=void 0,ln.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",ln.ErrorMessage_NoDeviceFound="No Ledger device found";var cn={},fn=a("ihoyg").Buffer;Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=void 0;function dn(t){const e=fn.alloc(2);return e.writeUInt16BE(t,0),e}const pn={data:fn.alloc(0),dataLength:0,sequence:0};var mn=(t,e)=>({makeBlocks(r){let i=fn.concat([dn(r.length),r]);const n=e-5,o=Math.ceil(i.length/n);i=fn.concat([i,fn.alloc(o*n-i.length+1).fill(0)]);const s=[];for(let e=0;e<o;e++){const r=fn.alloc(5);r.writeUInt16BE(t,0),r.writeUInt8(5,2),r.writeUInt16BE(e,3);const o=i.slice(e*n,(e+1)*n);s.push(fn.concat([r,o]))}return s},reduceResponse(e,r){let{data:i,dataLength:n,sequence:o}=e||pn;if(r.readUInt16BE(0)!==t)throw new sn("Invalid channel","InvalidChannel");if(5!==r.readUInt8(2))throw new sn("Invalid tag","InvalidTag");if(r.readUInt16BE(3)!==o)throw new sn("Invalid sequence","InvalidSequence");e||(n=r.readUInt16BE(5)),o++;const s=r.slice(e?5:7);return i=fn.concat([i,s]),i.length>n&&(i=i.slice(0,n)),{data:i,dataLength:n,sequence:o}},getReducedResult(t){if(t&&t.dataLength===t.data.length)return t.data}});cn.default=mn;var gn,wn=a("gOdpI");gn={re:wn.re,src:wn.src,tokens:wn.t,SEMVER_SPEC_VERSION:a("grQHD").SEMVER_SPEC_VERSION,SemVer:a("cHOkf"),compareIdentifiers:a("4SW5w").compareIdentifiers,rcompareIdentifiers:a("4SW5w").rcompareIdentifiers,parse:a("cTWCh"),valid:a("frJiQ"),clean:a("c6P8M"),inc:a("itrWX"),diff:a("jBuva"),major:a("eZA5e"),minor:a("gPGhd"),patch:a("btaYs"),prerelease:a("1Tf8D"),compare:a("cFM6E"),rcompare:a("49P7k"),compareLoose:a("hHTvo"),compareBuild:a("bjtHu"),sort:a("hUt70"),rsort:a("lIPk4"),gt:a("ldDtu"),lt:a("7mqzg"),eq:a("itC7D"),neq:a("kf0XZ"),gte:a("fxxMD"),lte:a("uNzNG"),cmp:a("5ZjGu"),coerce:a("a3wbz"),Comparator:a("bevt6"),Range:a("4e4kl"),satisfies:a("jKGPR"),toComparators:a("1YO0c"),maxSatisfying:a("kLp6O"),minSatisfying:a("jB7fi"),minVersion:a("3l7Kz"),validRange:a("dLxLt"),outside:a("81svG"),gtr:a("klFoa"),ltr:a("5F6YS"),intersects:a("5FELf"),simplifyRange:a("kN9p7"),subset:a("14wps")};const yn={blue:{id:"blue",productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096,getBlockSize:t=>4096},nanoS:{id:"nanoS",productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096,getBlockSize:t=>r(gn).lt(r(gn).coerce(t),"2.0.0")?4096:2048},nanoX:{id:"nanoX",productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,getBlockSize:t=>4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},vn=Object.values(yn),bn=t=>{const e=vn.find((e=>e.legacyUsbProductId===t));if(e)return e;const r=t>>8;return vn.find((t=>t.productIdMM===r))},Cn=[],En={};for(let t in yn){const e=yn[t],{bluetoothSpec:r}=e;if(r)for(let t=0;t<r.length;t++){const i=r[t];Cn.push(i.serviceUuid),En[i.serviceUuid]=En[i.serviceUuid.replace(/-/g,"")]={deviceModel:e,...i}}}let An=0;const Bn=[],Fn=(t,e,r)=>{const i={type:t,id:String(++An),date:new Date};e&&(i.message=e),r&&(i.data=r),function(t){for(let e=0;e<Bn.length;e++)try{Bn[e](t)}catch(t){console.error(t)}}(i)};"undefined"!=typeof window&&(window.__ledgerLogsListen=t=>(Bn.push(t),()=>{const e=Bn.indexOf(t);-1!==e&&(Bn[e]=Bn[Bn.length-1],Bn.pop())}));const Mn=[{vendorId:11415}];async function Dn(){return await navigator.usb.requestDevice({filters:Mn})}async function _n(){return(await navigator.usb.getDevices()).filter((t=>11415===t.vendorId))}async function Sn(){const t=await _n();return t.length>0?t[0]:Dn()}var In=a("ihoyg").Buffer;class xn extends ln{static async request(){const t=await Dn();return xn.open(t)}static async openConnected(){const t=await _n();return 0===t.length?null:xn.open(t[0])}static async open(t){await t.open(),null===t.configuration&&await t.selectConfiguration(1),await Tn(t);const e=t.configurations[0].interfaces.find((({alternates:t})=>t.some((t=>255===t.interfaceClass))));if(!e)throw new rn("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const r=e.interfaceNumber;try{await t.claimInterface(r)}catch(e){throw await t.close(),new rn(e.message)}const i=new xn(t,r),n=e=>{t===e.device&&(navigator.usb.removeEventListener("disconnect",n),i._emitDisconnect(new Ji))};return navigator.usb.addEventListener("disconnect",n),i}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await Tn(this.device),await this.device.close()}setScrambleKey(){}constructor(t,e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=t=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",t))},this.exchange=t=>this.exchangeAtomicImpl((async()=>{const{channel:e,packetSize:i}=this;Fn("apdu","=> "+t.toString("hex"));const n=r(cn)(e,i),o=n.makeBlocks(t);for(let t=0;t<o.length;t++)await this.device.transferOut(3,o[t]);let s,a;for(;!(s=n.getReducedResult(a));){const t=await this.device.transferIn(3,i),e=In.from(t.data.buffer);a=n.reduceResponse(a,e)}return Fn("apdu","<= "+s.toString("hex")),s})).catch((t=>{if(t&&t.message&&t.message.includes("disconnected"))throw this._emitDisconnect(t),new tn(t.message);throw t})),this.device=t,this.interfaceNumber=e,this.deviceModel=bn(t.productId)}}async function Tn(t){try{await t.reset()}catch(t){console.warn(t)}}xn.isSupported=()=>Promise.resolve(!!navigator&&!!navigator.usb&&"function"==typeof navigator.usb.getDevices),xn.list=_n,xn.listen=t=>{let e=!1;return Sn().then((r=>{if(!e){const e=bn(r.productId);t.next({type:"add",descriptor:r,deviceModel:e}),t.complete()}}),(e=>{window.DOMException&&e instanceof window.DOMException&&18===e.code?t.error(new on(e.message)):t.error(new en(e.message))})),{unsubscribe:function(){e=!0}}};var Nn=xn,Rn=a("ihoyg").Buffer;const Un=[{vendorId:11415}],kn=()=>{const{hid:t}=navigator;if(!t)throw new sn("navigator.hid is not supported","HIDNotSupported");return t};async function On(){const t=await kn().requestDevice({filters:Un});return Array.isArray(t)?t:[t]}async function Ln(){return(await kn().getDevices()).filter((t=>11415===t.vendorId))}class Pn extends ln{static async request(){const[t]=await On();return Pn.open(t)}static async openConnected(){const t=await Ln();return 0===t.length?null:Pn.open(t[0])}static async open(t){await t.open();const e=new Pn(t),r=i=>{t===i.device&&(kn().removeEventListener("disconnect",r),e._emitDisconnect(new Ji))};return kn().addEventListener("disconnect",r),e}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}constructor(t){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise((t=>{this.inputCallback=t})),this.onInputReport=t=>{const e=Rn.from(t.data.buffer);this.inputCallback?(this.inputCallback(e),this.inputCallback=null):this.inputs.push(e)},this._disconnectEmitted=!1,this._emitDisconnect=t=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",t))},this.exchange=t=>this.exchangeAtomicImpl((async()=>{const{channel:e,packetSize:i}=this;Fn("apdu","=> "+t.toString("hex"));const n=r(cn)(e,i),o=n.makeBlocks(t);for(let t=0;t<o.length;t++)await this.device.sendReport(0,o[t]);let s,a;for(;!(s=n.getReducedResult(a));){const t=await this.read();a=n.reduceResponse(a,t)}return Fn("apdu","<= "+s.toString("hex")),s})).catch((t=>{if(t&&t.message&&t.message.includes("write"))throw this._emitDisconnect(t),new tn(t.message);throw t})),this.device=t,this.deviceModel=bn(t.productId),t.addEventListener("inputreport",this.onInputReport)}}Pn.isSupported=()=>Promise.resolve(!(!n.navigator||!n.navigator.hid)),Pn.list=Ln,Pn.listen=t=>{let e=!1;return async function(){const t=await Ln();return t.length>0?t[0]:(await On())[0]}().then((r=>{if(r){if(!e){const e=bn(r.productId);t.next({type:"add",descriptor:r,deviceModel:e}),t.complete()}}else t.error(new en("Access denied to use Ledger device"))}),(e=>{t.error(new en(e.message))})),{unsubscribe:function(){e=!0}}};var $n=Pn,jn={},qn=a("ihoyg").Buffer;Object.defineProperty(jn,"__esModule",{value:!0}),jn.sendAPDU=void 0;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kn=function(t,e){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Hn(t,e){function r(){this.constructor=t}Kn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Gn(t){return"function"==typeof t}var Wn=!1,zn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Wn=t},get useDeprecatedSynchronousErrorHandling(){return Wn}};function Zn(t){setTimeout((function(){throw t}),0)}var Vn={closed:!0,next:function(t){},error:function(t){if(zn.useDeprecatedSynchronousErrorHandling)throw t;Zn(t)},complete:function(){}},Yn=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function Xn(t){return null!==t&&"object"==typeof t}var Qn=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),Jn=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,i=r._parentOrParents,n=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var a=0;a<i.length;++a){i[a].remove(this)}if(Gn(o)){n&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof Qn?to(t.errors):[t]}}if(Yn(s)){a=-1;for(var h=s.length;++a<h;){var u=s[a];if(Xn(u))try{u.unsubscribe()}catch(t){e=e||[],t instanceof Qn?e=e.concat(to(t.errors)):e.push(t)}}}if(e)throw new Qn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var i=r;(r=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof t){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function to(t){return t.reduce((function(t,e){return t.concat(e instanceof Qn?e.errors:e)}),[])}var eo=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ro=function(t){function e(r,i,n){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Vn;break;case 1:if(!r){o.destination=Vn;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new io(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new io(o,r,i,n)}return o}return Hn(e,t),e.prototype[eo]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Jn),io=function(t){function e(e,r,i,n){var o,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return Gn(r)?o=r:r&&(o=r.next,i=r.error,n=r.complete,r!==Vn&&(Gn((a=Object.create(r)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=i,s._complete=n,s}return Hn(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;zn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=zn.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Zn(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Zn(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};zn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),zn.useDeprecatedSynchronousErrorHandling)throw t;Zn(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!zn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return zn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Zn(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(ro);function no(t){for(;t;){var e=t,r=e.closed,i=e.destination,n=e.isStopped;if(r||n)return!1;t=i&&i instanceof ro?i:null}return!0}function oo(t,e,r){if(t){if(t instanceof ro)return t;if(t[eo])return t[eo]()}return t||e||r?new ro(t,e,r):new ro(Vn)}var so=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function ao(t){return t}function ho(t){return 0===t.length?ao:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var uo=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var i=this.operator,n=oo(t,e,r);if(i?n.add(i.call(n,this.source)):n.add(this.source||zn.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),zn.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){zn.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),no(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=lo(e))((function(e,i){var n;n=r.subscribe((function(e){try{t(e)}catch(t){i(t),n&&n.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[so]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:ho(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=lo(t))((function(t,r){var i;e.subscribe((function(t){return i=t}),(function(t){return r(t)}),(function(){return t(i)}))}))},t.create=function(e){return new t(e)},t}();function lo(t){if(t||(t=zn.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var co=function(t){return function(e){for(var r=0,i=t.length;r<i&&!e.closed;r++)e.next(t[r]);e.complete()}};function fo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var po=fo(),mo=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function go(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var wo=function(t){if(t&&"function"==typeof t[so])return i=t,function(t){var e=i[so]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(mo(t))return co(t);if(go(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Zn),t};if(t&&"function"==typeof t[po])return e=t,function(t){for(var r=e[po]();;){var i=void 0;try{i=r.next()}catch(e){return t.error(e),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,i,n=Xn(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function yo(t,e){return new uo((function(r){var i=new Jn;return i.add(e.schedule((function(){var n=t[so]();i.add(n.subscribe({next:function(t){i.add(e.schedule((function(){return r.next(t)})))},error:function(t){i.add(e.schedule((function(){return r.error(t)})))},complete:function(){i.add(e.schedule((function(){return r.complete()})))}}))}))),i}))}function vo(t,e){return new uo((function(r){var i=new Jn;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){r.next(t),i.add(e.schedule((function(){return r.complete()})))})))}),(function(t){i.add(e.schedule((function(){return r.error(t)})))}))}))),i}))}function bo(t,e){return new uo((function(r){var i=new Jn,n=0;return i.add(e.schedule((function(){n!==t.length?(r.next(t[n++]),r.closed||i.add(this.schedule())):r.complete()}))),i}))}function Co(t,e){if(!t)throw new Error("Iterable cannot be null");return new uo((function(r){var i,n=new Jn;return n.add((function(){i&&"function"==typeof i.return&&i.return()})),n.add(e.schedule((function(){i=t[po](),n.add(e.schedule((function(){if(!r.closed){var t,e;try{var n=i.next();t=n.value,e=n.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),n}))}function Eo(t){return t&&"function"==typeof t[so]}function Ao(t){return t&&"function"==typeof t[po]}function Bo(t,e){if(null!=t){if(Eo(t))return yo(t,e);if(go(t))return vo(t,e);if(mo(t))return bo(t,e);if(Ao(t)||"string"==typeof t)return Co(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Fo(t,e){return e?Bo(t,e):t instanceof uo?t:new uo(wo(t))}var Mo=new uo((function(t){return t.complete()}));function Do(t){return t?function(t){return new uo((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Mo}function _o(t){return t&&"function"==typeof t.schedule}function So(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Io(t,e))}}var Io=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new xo(t,this.project,this.thisArg))},t}(),xo=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.project=r,n.count=0,n.thisArg=i||n,n}return Hn(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(ro),To=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return Hn(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ro),No=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hn(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ro);function Ro(t,e){if(!e.closed){if(t instanceof uo)return t.subscribe(e);var r;try{r=wo(t)(e)}catch(t){e.error(t)}return r}}function Uo(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(Uo((function(r,i){return Fo(t(r,i)).pipe(So((function(t,n){return e(r,t,i,n)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new ko(t,r))})}var ko=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Oo(t,this.project,this.concurrent))},t}(),Oo=function(t){function e(e,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var n=t.call(this,e)||this;return n.project=r,n.concurrent=i,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return Hn(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new To(this),r=this.destination;r.add(e);var i=Ro(t,e);i!==e&&r.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(No);function Lo(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Uo(ao,t)}function Po(t,e){return e?bo(t,e):new uo(co(t))}function $o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return _o(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof n&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof uo?t[0]:Lo(r)(Po(t,i))}jn.sendAPDU=(t,e,r)=>{const i=function(t,e){const r=[];for(let i=0,n=e(0);i<t.length;i+=n,n=e(i))r.push(t.slice(i,i+n));return r}(e,(t=>r-(0===t?5:3))).map(((t,r)=>{const i=qn.alloc(0===r?5:3);return i.writeUInt8(5,0),i.writeUInt16BE(r,1),0===r&&i.writeUInt16BE(e.length,3),qn.concat([i,t])}));return uo.create((e=>{let r=!1;(async function(){for(const e of i){if(r)return;await t(e)}})().then((()=>{r=!0,e.complete()}),(t=>{r=!0,Fn("ble-error","sendAPDU failure "+String(t)),e.error(t)}));return()=>{r||(Fn("ble-verbose","sendAPDU interruption"),r=!0)}}))};var jo={},qo=a("ihoyg").Buffer;Object.defineProperty(jo,"__esModule",{value:!0}),jo.receiveAPDU=void 0;jo.receiveAPDU=t=>uo.create((e=>{let r=0,i=0,n=qo.alloc(0);const o=t.subscribe({complete:()=>{e.error(new Ji),o.unsubscribe()},error:t=>{Fn("ble-error","in receiveAPDU "+String(t)),e.error(t),o.unsubscribe()},next:t=>{const s=t.readUInt8(0),a=t.readUInt16BE(1);let h=t.slice(3);5===s?r===a?(0===a&&(i=h.readUInt16BE(0),h=h.slice(2)),r++,n=qo.concat([n,h]),n.length>i?e.error(new sn("BLE: received too much data. discontinued chunk. Received "+n.length+" but expected "+i,"BLETooMuchData")):n.length===i&&(e.next(n),e.complete(),o.unsubscribe())):e.error(new sn("BLE: Invalid sequence number. discontinued chunk. Received "+a+" but expected "+r,"InvalidSequence")):e.error(new sn("Invalid tag "+s.toString(16),"InvalidTag"))}});return()=>{o.unsubscribe()}}));var Ko=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function Ho(t,e){return function(r){return r.lift(new Go(t,e))}}var Go=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Wo(t,this.predicate,this.thisArg))},t}(),Wo=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.thisArg=i,n.count=0,n}return Hn(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(ro),zo=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Zo(t){return function(e){return 0===t?Do():e.lift(new Vo(t))}}var Vo=function(){function t(t){if(this.total=t,this.total<0)throw new zo}return t.prototype.call=function(t,e){return e.subscribe(new Yo(t,this.total))},t}(),Yo=function(t){function e(e,r){var i=t.call(this,e)||this;return i.total=r,i.count=0,i}return Hn(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(ro);function Xo(t){return void 0===t&&(t=null),function(e){return e.lift(new Qo(t))}}var Qo=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Jo(t,this.defaultValue))},t}(),Jo=function(t){function e(e,r){var i=t.call(this,e)||this;return i.defaultValue=r,i.isEmpty=!0,i}return Hn(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ro);function ts(t){return void 0===t&&(t=is),function(e){return e.lift(new es(t))}}var es=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new rs(t,this.errorFactory))},t}(),rs=function(t){function e(e,r){var i=t.call(this,e)||this;return i.errorFactory=r,i.hasValue=!1,i}return Hn(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(ro);function is(){return new Ko}function ns(t,e){var r=arguments.length>=2;return function(i){return i.pipe(t?Ho((function(e,r){return t(e,r,i)})):ao,Zo(1),r?Xo(e):ts((function(){return new Ko})))}}var os=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ss(t))},t}(),ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hn(e,t),e.prototype._next=function(t){},e}(ro),as=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),hs=function(t){function e(e,r){var i=t.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return Hn(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(Jn),us=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return Hn(e,t),e}(ro),ls=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Hn(e,t),e.prototype[eo]=function(){return new us(this)},e.prototype.lift=function(t){var e=new cs(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new as;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new as;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new as;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;i<e;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new as;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new as;return this.hasError?(t.error(this.thrownError),Jn.EMPTY):this.isStopped?(t.complete(),Jn.EMPTY):(this.observers.push(t),new hs(this,t))},e.prototype.asObservable=function(){var t=new uo;return t.source=this,t},e.create=function(t,e){return new cs(t,e)},e}(uo),cs=function(t){function e(e,r){var i=t.call(this)||this;return i.destination=e,i.source=r,i}return Hn(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Jn.EMPTY},e}(ls);function fs(){return function(t){return t.lift(new ds(t))}}var ds=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new ps(t,r),n=e.subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),ps=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return Hn(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()}}else this.connection=null},e}(ro),ms=function(t){function e(e,r){var i=t.call(this)||this;return i.source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return Hn(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new Jn).add(this.source.subscribe(new ws(this.getSubject(),this))),t.closed&&(this._connection=null,t=Jn.EMPTY)),t},e.prototype.refCount=function(){return fs()(this)},e}(uo),gs=function(){var t=ms.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),ws=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return Hn(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(us);var ys=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,i=this.subjectFactory(),n=r(i).subscribe(t);return n.add(e.subscribe(i)),n},t}();function vs(){return new ls}function bs(){return function(t){return fs()((e=vs,function(t){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof r)return t.lift(new ys(i,r));var n=Object.create(t,gs);return n.source=t,n.subjectFactory=i,n})(t));var e,r}}function Cs(){}var Es=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new As(t,this.nextOrObserver,this.error,this.complete))},t}(),As=function(t){function e(e,r,i,n){var o=t.call(this,e)||this;return o._tapNext=Cs,o._tapError=Cs,o._tapComplete=Cs,o._tapError=i||Cs,o._tapComplete=n||Cs,Gn(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||Cs,o._tapError=r.error||Cs,o._tapComplete=r.complete||Cs),o}return Hn(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(ro),Bs=a("ihoyg").Buffer;var Fs=a("ihoyg").Buffer;const Ms=()=>{const{bluetooth:t}=navigator;if(void 0===t)throw new Error("web bluetooth not supported");return t},Ds=()=>uo.create((t=>{const e=Ms(),r=e=>{t.next(e.value)};e.addEventListener("availabilitychanged",r);let i=!1;return e.getAvailability().then((e=>{i||t.next(e)})),()=>{i=!0,e.removeEventListener("availabilitychanged",r)}})),_s={},Ss=()=>({filters:Cn.map((t=>({services:[t]})))}),Is=async t=>{if(!t.gatt)throw new Error("bluetooth gatt not found");const[e]=await t.gatt.getPrimaryServices();if(!e)throw new Error("bluetooth service not found");const r=(i=e.uuid,En[i.toLowerCase()]);var i;if(!r)throw new Error("bluetooth service infos not found");return[e,r]};async function xs(t,e){let r;if("string"==typeof t){if(_s[t])return Fn("ble-verbose","Transport in cache, using that."),_s[t];const e=Ms();r=await e.requestDevice(Ss())}else r=t;r.gatt.connected||(Fn("ble-verbose","not connected. connecting..."),await r.gatt.connect());const[i,n]=await Is(r),{deviceModel:o,writeUuid:s,notifyUuid:a}=n,[h,u]=await Promise.all([i.getCharacteristic(s),i.getCharacteristic(a)]),l=(p=u,uo.create((t=>{function e(e){const r=e.target;r.value&&t.next(Bs.from(r.value.buffer))}return Fn("ble-verbose","start monitor "+p.uuid),p.startNotifications().then((()=>{p.addEventListener("characteristicvaluechanged",e)})),()=>{Fn("ble-verbose","end monitor "+p.uuid),p.stopNotifications()}}))).pipe((c=t=>{Fn("ble-frame","<= "+t.toString("hex"))},function(t){return t.lift(new Es(c,f,d))}),bs());var c,f,d,p;const m=l.subscribe(),g=new Ts(r,h,l,o);if(!r.gatt.connected)throw new Ji;_s[g.id]=g;const w=t=>{console.log("onDisconnect!",t),delete _s[g.id],g.notYetDisconnected=!1,m.unsubscribe(),r.removeEventListener("gattserverdisconnected",w),Fn("ble-verbose",`BleTransport(${g.id}) disconnected`),g.emit("disconnect",t)};r.addEventListener("gattserverdisconnected",w);let y=Date.now();try{await g.inferMTU()}finally{Date.now()-y<1e3&&(e=!1),e&&(await r.gatt.disconnect(),await new Promise((t=>setTimeout(t,4e3))))}return e?xs(r,!1):g}class Ts extends ln{static listen(t){let e;Fn("ble-verbose","listen...");return Ms().requestDevice(Ss()).then((async r=>{e||(t.next({type:"add",descriptor:r}),t.complete())}),(e=>{t.error(new en(e.message))})),{unsubscribe:function(){e=!0}}}static async open(t){return xs(t,!0)}async inferMTU(){let t=23;if(await this.exchangeAtomicImpl((async()=>{try{t=await $o(this.notifyObservable.pipe(ns((t=>8===t.readUInt8(0))),So((t=>t.readUInt8(5)))),(e=()=>Fo(this.write(Fs.from([8,0,0,0,0]))),new uo((function(t){var r;try{r=e()}catch(e){return void t.error(e)}return(r?Fo(r):Do()).subscribe(t)}))).pipe((function(t){return t.lift(new os)}))).toPromise()+3}catch(t){throw Fn("ble-error","inferMTU got "+String(t)),this.device.gatt.disconnect(),t}var e})),t>23){const e=t-3;Fn("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(e)}`),this.mtuSize=e}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}constructor(t,e,r,i){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=t=>this.exchangeAtomicImpl((async()=>{try{const e=t.toString("hex");Fn("apdu",`=> ${e}`);const r=await $o(this.notifyObservable.pipe(jo.receiveAPDU),(0,jn.sendAPDU)(this.write,t,this.mtuSize)).toPromise(),i=r.toString("hex");return Fn("apdu",`<= ${i}`),r}catch(t){throw Fn("ble-error","exchange got "+String(t)),this.notYetDisconnected&&this.device.gatt.disconnect(),t}})),this.write=async t=>{Fn("ble-frame","=> "+t.toString("hex")),await this.writeCharacteristic.writeValue(t)},this.id=t.id,this.device=t,this.writeCharacteristic=e,this.notifyObservable=r,this.deviceModel=i,Fn("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}}Ts.isSupported=()=>Promise.resolve().then(Ms).then((()=>!0),(()=>!1)),Ts.observeAvailability=t=>Ds.subscribe(t),Ts.list=()=>Promise.resolve([]),Ts.disconnect=async t=>{Fn("ble-verbose",`user disconnect(${t})`);const e=_s[t];e&&e.device.gatt.disconnect()};var Ns,Rs=Ts;t({},"default",(function(){return Ns}),(function(t){return Ns=t}));var Us;t({},"default",(function(){return Us}),(function(t){return Us=t}));l.BN;var ks,Os=l.Address,Ls=Ke.parseAddress,Ps=l.BN,$s=l.sha256,js=l.bytesToHex,qs=l.bytesToBase64,Ks=ht.Cell;const Hs=async t=>{if(!t)return new Ps(0);const e=(new TextEncoder).encode(t),r=new Uint8Array(await $s(e));return new Ps(js(r),16)},Gs=(t,e,r)=>{if(t.bits.array[0]!==e||t.bits.array[1]!==r)throw new Error("Invalid dns record value prefix");return t.bits.array=t.bits.array.slice(2),Ls(t)},Ws=t=>Gs(t,159,211),zs=t=>Gs(t,186,147),Zs=async(t,e,r,i,n)=>{const o=8*r.length,s=new Ks;s.bits.writeBytes(r);const a=await Hs(i),h=await t.call2(e,"dnsresolve",[["tvm.Slice",qs(await s.toBoc(!1))],["num",a.toString()]]);if(2!==h.length)throw new Error("Invalid dnsresolve response");const u=h[0].toNumber();let l=h[1];if(l instanceof Array&&0===l.length&&(l=null),l&&!l.bits)throw new Error("Invalid dnsresolve response");if(0===u)return null;if(u%8!=0)throw new Error("domain split not at a component boundary");if(u>o)throw new Error("invalid response "+u+"/"+o);if(u===o)return"dns_next_resolver"===i?l?zs(l):null:"wallet"===i?l?Ws(l):null:"site"===i?l||null:l;if(l){const e=zs(l);return n?"dns_next_resolver"===i?e:null:await Zs(t,e.toString(),r.slice(u/8),i,!1)}return null},Vs=t=>{if(!t||!t.length)throw new Error("empty domain");if("."===t)return new Uint8Array([0]);t=t.toLowerCase();for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<=32)throw new Error("bytes in range 0..32 are not allowed in domain names");for(let e=0;e<t.length;e++){const r=t.substring(e,e+1);for(let t=127;t<=159;t++)if(r===String.fromCharCode(t))throw new Error("bytes in range 127..159 are not allowed in domain names")}const e=t.split(".");e.forEach((t=>{if(!t.length)throw new Error("domain name cannot have an empty component")}));const r="\0"+e.reverse().join("\0")+"\0";return(new TextEncoder).encode(r)};var Ys=(ks={DNS_CATEGORY_NEXT_RESOLVER:"dns_next_resolver",DNS_CATEGORY_SITE:"site",DNS_CATEGORY_WALLET:"wallet",categoryToBN:Hs,domainToBytes:Vs,createSmartContractAddressRecord:t=>{const e=new Ks;return e.bits.writeUint(40915,16),e.bits.writeAddress(t),e.bits.writeUint(0,8),e},createAdnlAddressRecord:t=>{const e=new Ks;return e.bits.writeUint(44289,16),e.bits.writeUint(t,256),e.bits.writeUint(0,8),e},createNextResolverRecord:t=>{const e=new Ks;return e.bits.writeUint(47763,16),e.bits.writeAddress(t),e},parseNextResolverRecord:zs,parseSmartContractAddressRecord:Ws,dnsResolve:async(t,e,r,i,n)=>{const o=Vs(r);return Zs(t,e,o,i,n)}}).DNS_CATEGORY_NEXT_RESOLVER,Xs=ks.DNS_CATEGORY_SITE,Qs=ks.DNS_CATEGORY_WALLET,Js=ks.createSmartContractAddressRecord,ta=ks.createAdnlAddressRecord,ea=ks.createNextResolverRecord,ra=ks.parseNextResolverRecord,ia=ks.parseSmartContractAddressRecord,na=ks.dnsResolve;class oa{async getRootDnsAddress(){return-1===this.provider.host.indexOf("testnet")?null:new Os("Ef_BimcWrQ5pmAWfRqfeVHUCNV8XgsLqeAMBivKryXrghFW3")}resolve(t,e,r){return-1===this.provider.host.indexOf("testnet")?null:na(this.provider,"Ef_BimcWrQ5pmAWfRqfeVHUCNV8XgsLqeAMBivKryXrghFW3",t,e,r)}getWalletAddress(t){return-1===this.provider.host.indexOf("testnet")?null:this.resolve(t,Qs)}constructor(t){this.provider=t}}oa.resolve=na,oa.createSmartContractAddressRecord=Js,oa.createAdnlAddressRecord=ta,oa.createNextResolverRecord=ea,oa.parseNextResolverRecord=ra,oa.parseSmartContractAddressRecord=ia,oa.DNS_CATEGORY_NEXT_RESOLVER=Ys,oa.DNS_CATEGORY_WALLET=Qs,oa.DNS_CATEGORY_SITE=Xs;var sa=Us=oa,aa=It.Contract,ha=ht.Cell,ua=(l.Address,Ke.parseAddress),la=ks.dnsResolve,ca=Ke.parseOffchainUriCell;var fa={DnsCollection:class extends aa{createDataCell(){const t=new ha;return t.refs[0]=this.options.collectionContent,t.refs[1]=ha.oneFromBoc(this.options.dnsItemCodeHex),t}async getCollectionData(){const t=await this.getAddress(),e=(await this.provider.call2(t.toString(),"get_collection_data"))[1];return{collectionContentUri:ca(e),collectionContent:e,ownerAddress:null,nextItemIndex:0}}async getNftItemContent(t){return await t.getData()}async getNftItemAddressByIndex(t){const e=await this.getAddress(),r=await this.provider.call2(e.toString(),"get_nft_address_by_index",[["num",t.toString()]]);return ua(r)}async resolve(t,e,r){const i=await this.getAddress();return la(this.provider,i.toString(),t,e,r)}constructor(t,e){if(e.wc=0,e.code=e.code||ha.oneFromBoc("B5EE9C724102170100020E000114FF00F4A413F4BCF2C80B0102016202030202CC0405020120111202012006070201D40F1002012008090201200D0E01F543221C70094840FF2F0DED0D3030171B0915BE0FA403001D31FED44D0D4D4303122C0008E5032F00320D74920C218F2E0C8208103F0BBF2E0C978A908C000F2E0CA20F004F2E0CB20F9018050F833206EB38E10D0F4043052108307F40E6FA131F2D0CC9130E2C858CF16C9C85004CF1613CCC9F009E010235F0380A0201200B0C000EC007DC840FF2F000331C27C074C1C07000082CE500A98200B784B98C4830003CB43260004F3223880875D244B5C61673C58875D2883000082CE6C070007CB83280B50C3400A44C78B98C727420007F47021D7498E355CBA20B38E2E3002D30721C02D23C200B024A6F85240B9B022C22F23C13AB0B122C26003C17B13B012B1B320B39402A60802DE13DEE66C12BA8002D501C8CBFFF828CF16C97020C8CB0113F400F400CB00C98001B3E401D3232C084B281F2FFF274200039167C01DC087C021DE0063232C15633C59C3E80B2DAF3333260103EC020020120131402012015160007B8B5D318001FBA7A3ED44D0D4D43031F0077001F00880019B905BED44D0D4D4303070016D8009DBA30C3020D74978A908C000F2E04620D70A07C00021D749C0085210B0935B786DE0209501D3073101DE21F0025122D71830F9018200BA93C8CB0F01820167A3ED43D8CF16C90191789170E212A0018467EBCAB"),super(t,e),!e.collectionContent&&!e.address)throw new Error("required collectionContent cell");this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.resolve=this.resolve.bind(this)}}}.DnsCollection,da=It.Contract,pa=ht.Cell,ma=(l.Address,l.BN),ga=Ke.parseAddress,wa=ks.dnsResolve,ya=ks.categoryToBN;const va="B5EE9C7241022C010006F8000114FF00F4A413F4BCF2C80B0102016202030202CC0405020120232402012006070201481F2002014808090201201B1C03F7007434C0C05C6C2497C1383E903E900C7E800C5C75C87E800C7E800C3C0249ECF8C094D671C1462C238CC426D7C2FE900C1C14C01B60101C20043232C15401F3C594017E808572DA84B2C7F2CFC89BACE51633C5C0644CB88072407EC0380A71C0245C254274C7D42AB8887C01FE08C86F09300038C08C4374CFC9600A0B0C00113E910C1C2EBCB8536002FC5F056C22355242C705F2E19501FA40D4306D21D08B42E746F6E8F00682F082A3537FF0DBCE7EEC35D69EDC3A189EE6F17D82F353A553F9AA96CB0BE3CE89588307F4168BA544F4E20446F6D61696E86DF00682F0C9046F7A37AD0EA7CEE73355984FA5428982F8B37C8F7BCEC91F7AC71A7CD104588307F4168922D0F0060D0E013C343A3A3B8E1636363737375135C705F2E196102510241023F823F00AE30E0F03FC6EB31FB08E5A343652DDA1820AFAF0805210A15260BC9835820AFAF08015A1923004E220C2FF8E2F77706D722951454434708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00DE0C6D0DA150CC0B04923E5BE2F82328A18209E14320BC226EB0E30282105FCC3D145210BAE302101112003A68747470733A2F2F646E732E746F6E2E6F72672F69636F6E2E706E672300C682F06105D6CC76AF400325E94D588CE511BE5BFDBB73B437DC51ECA43917D7A43E3D588307F41670C8CB07F400C981012C8050F833206EB38E14D0F4043070018307F40E6FA19431D31F309130E29130E2F82301A0F0054466F00810351034F823F00A00F0302680698064A98452A0BCF2E197820AFAF08052B0A15270BC9836820AFAF0801AA1933A0905E220C2FF8E2C70206D21105B708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00923036E27A23F823A1A120C2009313A0029130E24464F00810451024F823F00A00305B6C55F005F82381012CA04470F0081045103412F823F00A0128305383C705F2E191105A104910381027103655021303FE82102FCB26A25210BA8E3F5F0535365B7082108B77173505C8CBFF5003CF164440138040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00E082101A0B9D515210BA8E193032353537375135C705F2E19A03D4304015045033F823F00AE020C00AE3023A09C00BE3025F0B840F14151603F63603FA4021F001FA40D20031FA00820AFAF0801EA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C8500CCF16500ECF1671244C145449D0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00107A94102D3A5BE202E30F105618191A0086303739395155C705F2E19B05D3FF20D74AC20009D0D30701C000F2E19CF404300999D430D040188307F416983050078307F45B30E270C8CB07F400C91045034444F00A01DA8050F833D0F4043052508307F40E6FA18ED7D30721C0008E932510BD107A09105810471046105C4313504C1D96303B5F036C61E201C0018E2D7053006D8100A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB009130E2925F0CE2170004F2F003F83603FA4021F001FA40D20031FA00820AFAF0801EA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C8500CCF16500ECF1671244C145449D0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00107A94102D3A5BE202E30F10560118191A006A29F0018210D53276DB103A47046D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00000A10293335300010104510344033F00A000D570C8CB01C9D080201201D1E00531C3232C1C8B3C5885BACE385C0B5D24875D2682040FDEEE4B3C5A5F20073C5B2407338A49B0878B274200021081BA50C1B5C0838343E903E8034CFCC200201202122002B406C8CBFF5005CF165003CF16CCCCF400CB3FC9ED5480017321400F3C5807E80B2CFF26000513B513434FFFE900835D2708027DFC07E9035353D0134CFCC0415C415B80C1C1B5B5B5B490415C415A0020120252602012027280013BBB39F009175F07F0078000DBA559F0096C718000DB8FCFF0095F038020120292A0013B64A5E012204EBE0FA1001FBB461843AE9240F152118001E5C08DE012206EBE0FA1A60E038001E5C339E8086047AE140E68078001E5C33B80111C344180012660F003C003060FE81CDF432CF190B19E2D93C060F0DBC06105E033E04883DCB11FB64DDC4964AD1BA06B879240DC23572F37CC5CAAAB143A2FFE03060FE81CDF432CF190B19E2D93C06102B0004786DA9E7FD01";class ba extends da{createDataCell(){const t=new pa;return t.bits.writeUint(this.options.index,256),t.bits.writeAddress(this.options.collectionAddress),t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_nft_data"),r=-1===e[0].toNumber();return{isInitialized:r,index:e[1],collectionAddress:ga(e[2]),ownerAddress:r?ga(e[3]):null,contentCell:e[4]}}async createTransferBody(t){const e=new pa;return e.bits.writeUint(1607220500,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new ma(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}createGetStaticDataBody(t){const e=new pa;return e.bits.writeUint(801842850,32),e.bits.writeUint(t.queryId||0,64),e}async getDomain(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_domain");return(new TextDecoder).decode(e.bits.array.buffer)}async getAuctionInfo(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_auction_info");return{maxBidAddress:ga(e[0]),maxBidAmount:e[1],auctionEndTime:e[2].toNumber()}}async getLastFillUpTime(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_last_fill_up_time")).toNumber()}async resolve(t,e,r){const i=await this.getAddress();return wa(this.provider,i.toString(),t,e,r)}constructor(t,e){e.wc=0,e.code=e.code||pa.oneFromBoc(va),super(t,e),this.methods.getData=this.getData.bind(this),this.methods.getDomain=this.getDomain.bind(this),this.methods.getAuctionInfo=this.getAuctionInfo.bind(this),this.methods.getLastFillUpTime=this.getLastFillUpTime.bind(this),this.methods.resolve=this.resolve.bind(this)}}ba.createChangeContentEntryBody=async t=>{const e=new pa;return e.bits.writeUint(10,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeUint(await ya(t.category),256),t.value&&(e.refs[0]=t.value),e},ba.codeHex=va,Ns={Dns:sa,DnsCollection:fa,DnsItem:{DnsItem:ba}.DnsItem};const{Dns:Ca,DnsCollection:Ea,DnsItem:Aa}=Ns;class Ba{async getTransactions(t,e=20,r,i,n){return this.provider.getTransactions(t.toString(),e,r,i,n)}async getBalance(t){return this.provider.getBalance(t.toString())}async sendBoc(t){return this.provider.sendBoc(l.bytesToBase64(t))}async call(t,e,r=[]){return this.provider.call(t.toString(),e,r)}constructor(t){this.version="0.0.50",this.utils=l,this.Address=at,this.boc=ht,this.Contract=Xt,this.BlockSubscription=qr,this.InMemoryBlockStorage=Kr,this.provider=t||new Yt,this.dns=new Ca(this.provider),this.wallet=new ke(this.provider),this.payments=new Ti(this.provider),this.lockupWallet=qe}}Ba.version="0.0.50",Ba.utils=l,Ba.Address=at,Ba.boc=ht,Ba.HttpProvider=Yt,Ba.Contract=Xt,Ba.Wallets=ke,Ba.LockupWallets=qe,Ba.SubscriptionContract=Zr,Ba.BlockSubscription=qr,Ba.InMemoryBlockStorage=Kr,Ba.ledger={TransportWebUSB:Nn,TransportWebHID:$n,BluetoothTransport:Rs,AppTon:St},Ba.token={nft:Ar,ft:Pr,jetton:Pr},Ba.dns=Ca,Ba.dns.DnsCollection=Ea,Ba.dns.DnsItem=Aa,Ba.payments=Ti,Ba.payments.PaymentChannel=Ni;const Fa=(u=Ba).utils.BN,Ma=u.utils.toNano,Da={};let _a={},Sa={},Ia={},xa={};const Ta=async(t,e)=>{if(!t)throw new Error(`No transfer type: ${t} for createOffchainTransfer!`);const r=await _a.getData(),i=Da.channelStateInfo.channelState.balanceA,n=Da.channelStateInfo.channelState.balanceB;console.log("[createOffchainTransfer] globalChannelA data.balanceA.toString() = ",r.balanceA.toString()),console.log("[createOffchainTransfer] globalChannelA data.balanceB.toString() = ",r.balanceB.toString());let o=i,s=n;if(console.log("[createOffchainTransfer]  balanceAPrev: ",i),console.log("[createOffchainTransfer]  balanceBPrev: ",n),console.log("[createOffchainTransfer]  type: ",t),"userWin"===t)o=i+e,s=n-e,Da.channelStateInfo.seqnoBCounterNum+=1;else{if("userLoose"!==t)throw new Error(`[createOffchainTransfer] not such type for type ${t}`);o=i-e,s=n+e,Da.channelStateInfo.seqnoACounterNum+=1}const a={balanceA:Ma(o),balanceB:Ma(s),seqnoA:new Fa(Da.channelStateInfo.seqnoACounterNum),seqnoB:new Fa(Da.channelStateInfo.seqnoBCounterNum)};let h,u,l;Da.channelStateInfo.channelState=a,"userWin"===t?(l="B",h=Sa,u=_a,Da.channelStateInfo.type=t):"userLoose"===t&&(l="A",h=_a,u=Sa);const c=await h.signState(a);if(!await u.verifyState(a,c))throw new Error(`Invalid signature channelVerify: ${u} channelSign: ${h}`);await u.signState(a);return Da.channelStateInfo.lastSignChannel=l,!0};(()=>{let t=prompt("Enter your deposit ammount for tonrulette",1),e=0,r=5,n=0,o=[],s=[],a=[],h=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],l=[0,26,3,35,12,28,7,29,18,22,9,31,14,20,1,33,16,24,5,10,23,8,30,11,36,13,27,6,34,17,25,2,21,4,19,15,32],f=document.createElement("div");f.setAttribute("id","container"),document.body.append(f),function(){let t=document.createElement("div");t.setAttribute("class","wheel");let e=document.createElement("div");e.setAttribute("class","outerRim"),t.append(e);let r=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26];for(i=0;i<r.length;i++){let e=i+1,n=r[i]<10?"single":"double",o=document.createElement("div");o.setAttribute("id","sect"+e),o.setAttribute("class","sect");let s=document.createElement("span");s.setAttribute("class",n),s.innerText=r[i],o.append(s);let a=document.createElement("div");a.setAttribute("class","block"),o.append(a),t.append(o)}let n=document.createElement("div");n.setAttribute("class","pocketsRim"),t.append(n);let o=document.createElement("div");o.setAttribute("class","ballTrack");let s=document.createElement("div");s.setAttribute("class","ball"),o.append(s),t.append(o);let a=document.createElement("div");a.setAttribute("class","pockets"),t.append(a);let h=document.createElement("div");h.setAttribute("class","cone"),t.append(h);let u=document.createElement("div");u.setAttribute("class","turret"),t.append(u);let l=document.createElement("div");l.setAttribute("class","turretHandle");let c=document.createElement("div");c.setAttribute("class","thendOne"),l.append(c);let d=document.createElement("div");d.setAttribute("class","thendTwo"),l.append(d),t.append(l),f.append(t)}(),g(),(async t=>{const e=new u(new u.HttpProvider("https://testnet.toncenter.com/api/v2/jsonRPC",{apiKey:"7044e2f1f261ab0027eaab1d8131ef07becb5d07ccdcb1437a64c3e9e07364d5"})),r=u.utils.base64ToBytes("P9cClZKjujYHqDNCETf+hOyUYt0/9sEFqnlgxueLuEs="),i=e.utils.keyPairFromSeed(r),n=u.utils.base64ToBytes("NyFOgUIyIVX4svOFlFubOQ+SSdltOrJUdEk0hU999S4="),o=e.utils.keyPairFromSeed(n),s=e.wallet.create({publicKey:i.publicKey}),a=await s.getAddress();console.log("walletAddressA = ",a.toString(!0,!0,!0));const h=e.wallet.create({publicKey:o.publicKey}),l=await h.getAddress();console.log("walletAddressB = ",l.toString(!0,!0,!0));const c={balanceA:Ma("1"),balanceB:Ma("2"),seqnoA:new Fa(0),seqnoB:new Fa(0)};Da.channelStateInfo={seqnoACounterNum:0,seqnoBCounterNum:0,channelState:c};const f={channelId:new Fa(124),addressA:a,addressB:l,initBalanceA:c.balanceA,initBalanceB:c.balanceB},d=e.payments.createChannel({...f,isA:!0,myKeyPair:i,hisPublicKey:o.publicKey});_a=d,console.log("globalChannelA init: ",_a);const p=await d.getAddress();console.log("channelAddress=",p.toString(!0,!0,!0));const m=e.payments.createChannel({...f,isA:!1,myKeyPair:o,hisPublicKey:i.publicKey});if(_a=d,console.log("globalChannelB init: ",Sa),(await m.getAddress()).toString()!==p.toString())throw new Error("Channels address not same");const g=d.fromWallet({wallet:s,secretKey:i.secretKey}),w=m.fromWallet({wallet:h,secretKey:o.secretKey});Ia=g,xa=w,console.log("globalFromWalletA init: ",Ia),await g.deploy().send(Ma("0.05")),console.log("Channel state: ",await d.getChannelState());const y=await d.getData();console.log("balanceA = ",y.balanceA.toString()),console.log("balanceB = ",y.balanceB.toString()),await g.topUp({coinsA:c.balanceA,coinsB:new Fa(0)}).send(c.balanceA.add(Ma("0.05"))),await w.topUp({coinsA:new Fa(0),coinsB:c.balanceB}).send(c.balanceB.add(Ma("0.05"))),await g.init(c).send(Ma("0.05"))})();let d=document.getElementsByClassName("wheel")[0],p=document.getElementsByClassName("ballTrack")[0];function m(){let i=document.createElement("div");i.setAttribute("id","notification");let n=document.createElement("span");n.setAttribute("class","nSpan"),n.innerText="Bankrupt",i.append(n);let h=document.createElement("div");h.setAttribute("class","nBtn"),h.innerText="Play again",h.onclick=function(){t=1e3,e=0,r=5,o=[],s=[],a=[],document.getElementById("betting_board").remove(),document.getElementById("notification").remove(),g()},i.append(h),f.prepend(i)}function g(){let n=document.createElement("div");n.setAttribute("id","betting_board");let o=document.createElement("div");for(o.setAttribute("class","winning_lines"),(a=document.createElement("div")).setAttribute("id","wlttb_top"),a.setAttribute("class","wlttb"),i=0;i<11;i++){let t=i;(h=document.createElement("div")).setAttribute("class","ttbbetblock");let e=(m=1+3*t)+", "+(g=2+3*t)+", "+(C=3+3*t)+", "+(E=4+3*t)+", "+(5+3*t)+", "+(6+3*t);var s="double_street";h.onclick=function(){y(this,e,s,5)},h.oncontextmenu=function(t){t.preventDefault(),v(this,e,s,5)},a.append(h)}for(o.append(a),c=1;c<4;c++){let t=c;var a;for((a=document.createElement("div")).setAttribute("id","wlttb_"+c),a.setAttribute("class","wlttb"),i=0;i<12;i++){let e=i;var h;(h=document.createElement("div")).setAttribute("class","ttbbetblock"),h.onclick=function(){if(1==t||2==t)var r=2-(t-1)+3*e+", "+(3-(t-1)+3*e);else r=1+3*e+", "+(2+3*e)+", "+(3+3*e);y(this,r,3==t?"street":"split",3==t?11:17)},h.oncontextmenu=function(r){if(r.preventDefault(),1==t||2==t)var i=2-(t-1)+3*e+", "+(3-(t-1)+3*e);else i=1+3*e+", "+(2+3*e)+", "+(3+3*e);v(this,i,3==t?"street":"split",3==t?11:17)},a.append(h)}o.append(a)}for(c=1;c<12;c++){let t=c;var u=document.createElement("div");for(u.setAttribute("id","wlrtl_"+c),u.setAttribute("class","wlrtl"),i=1;i<4;i++){let e=i;var l=document.createElement("div");l.setAttribute("class","rtlbb"+i);let r=(m=3+3*(t-1)-(e-1))+", "+(g=6+3*(t-1)-(e-1));l.onclick=function(){y(this,r,"split",17)},l.oncontextmenu=function(t){t.preventDefault(),v(this,r,"split",17)},u.append(l)}o.append(u)}for(c=1;c<3;c++){var d=document.createElement("div");for(d.setAttribute("id","wlcb_"+c),d.setAttribute("class","wlcb"),i=1;i<12;i++){let t=1==c?i:i+11;var p=document.createElement("div");p.setAttribute("id","cbbb_"+t),p.setAttribute("class","cbbb");var m="2",g="3",C="5",E="6";let e=t>=1&&t<12?parseInt(m)+3*(t-1)+", "+(parseInt(g)+3*(t-1))+", "+(parseInt(C)+3*(t-1))+", "+(parseInt(E)+3*(t-1)):parseInt(m)-1+3*(t-12)+", "+(parseInt(g)-1+3*(t-12))+", "+(parseInt(C)-1+3*(t-12))+", "+(parseInt(E)-1+3*(t-12));s="corner_bet";p.onclick=function(){y(this,e,s,8)},p.oncontextmenu=function(t){t.preventDefault(),v(this,e,s,8)},d.append(p)}o.append(d)}n.append(o);let A=document.createElement("div");A.setAttribute("class","bbtop");let B=["1 to 18","19 to 36"];for(i=0;i<B.length;i++){let t=i;var F=document.createElement("div");F.setAttribute("class","bbtoptwo");let e=0==t?"1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18":"19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36";s=0==t?"outside_low":"outside_high";F.onclick=function(){y(this,e,s,1)},F.oncontextmenu=function(t){t.preventDefault(),v(this,e,s,1)},F.innerText=B[i],A.append(F)}n.append(A);let M=document.createElement("div");M.setAttribute("class","number_board");let D=document.createElement("div");D.setAttribute("class","number_0");s="zero";D.onclick=function(){y(this,"0",s,35)},D.oncontextmenu=function(t){t.preventDefault(),v(this,"0",s,35)};let _=document.createElement("div");_.setAttribute("class","nbn"),_.innerText="0",D.append(_),M.append(D);var S=[3,6,9,12,15,18,21,24,27,30,33,36,"2 to 1",2,5,8,11,14,17,20,23,26,29,32,35,"2 to 1",1,4,7,10,13,16,19,22,25,28,31,34,"2 to 1"],I=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];for(i=0;i<S.length;i++){let t=i;var x="2 to 1"==S[i]?"tt1_block":"number_block",T=I.includes(S[i])?" redNum":"number_block"==x?" blackNum":"",N=document.createElement("div");N.setAttribute("class",x+T),N.onclick=function(){"2 to 1"!=S[t]?y(this,""+S[t],"inside_whole",35):(num=12==t?"3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36":25==t?"2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35":"1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34",y(this,num,"outside_column",2))},N.oncontextmenu=function(e){e.preventDefault(),"2 to 1"!=S[t]?v(this,""+S[t],"inside_whole",35):(num=12==t?"3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36":25==t?"2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35":"1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34",v(this,num,"outside_column",2))};var R=document.createElement("div");R.setAttribute("class","nbn"),R.innerText=S[i],N.append(R),M.append(N)}n.append(M);let U=document.createElement("div");U.setAttribute("class","bo3_board");let k=["1 to 12","13 to 24","25 to 36"];for(i=0;i<k.length;i++){let t=i;var O=document.createElement("div");O.setAttribute("class","bo3_block"),O.onclick=function(){num=0==t?"1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12":1==t?"13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24":"25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36",y(this,num,"outside_dozen",2)},O.oncontextmenu=function(e){e.preventDefault(),num=0==t?"1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12":1==t?"13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24":"25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36",v(this,num,"outside_dozen",2)},O.innerText=k[i],U.append(O)}n.append(U);let L=document.createElement("div");L.setAttribute("class","oto_board");let P=["EVEN","RED","BLACK","ODD"];for(i=0;i<P.length;i++){let t=i;T="RED"==P[i]?" redNum":"BLACK"==P[i]?" blackNum":"";var $=document.createElement("div");$.setAttribute("class","oto_block"+T),$.onclick=function(){num=0==t?"2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36":1==t?"1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36":2==t?"2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35":"1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35",y(this,num,"outside_oerb",1)},$.oncontextmenu=function(e){num=0==t?"2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36":1==t?"1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36":2==t?"2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35":"1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35",e.preventDefault(),v(this,num,"outside_oerb",1)},$.innerText=P[i],L.append($)}n.append(L);let j=document.createElement("div");j.setAttribute("class","chipDeck");let q=[1,5,10,100,"clear"];for(i=0;i<q.length;i++){let n=i,o=0==i?"red":1==i?"blue cdChipActive":2==i?"orange":3==i?"gold":"clearBet",s=document.createElement("div");s.setAttribute("class","cdChip "+o),s.onclick=function(){if(4!==n){let t=document.getElementsByClassName("cdChipActive");for(i=0;i<t.length;i++)t[i].classList.remove("cdChipActive");let e=this.getAttribute("class");e.includes("cdChipActive")||this.setAttribute("class",e+" cdChipActive"),r=parseInt(s.childNodes[0].innerText)}else t+=e,e=0,document.getElementById("bankSpan").innerText=""+t.toLocaleString("en-GB"),document.getElementById("betSpan").innerText=""+e.toLocaleString("en-GB"),w(),b()};let a=document.createElement("span");a.setAttribute("class","cdChipSpan"),a.innerText=q[i],s.append(a),j.append(s)}n.append(j);let K=document.createElement("div");K.setAttribute("class","bankContainer");let H=document.createElement("div");H.setAttribute("class","bank");let G=document.createElement("span");G.setAttribute("id","bankSpan"),G.innerText=""+t.toLocaleString("en-GB"),H.append(G),K.append(H);let W=document.createElement("div");W.setAttribute("class","bet");let z=document.createElement("span");z.setAttribute("id","betSpan"),z.innerText=""+e.toLocaleString("en-GB"),W.append(z),K.append(W),n.append(K);let Z=document.createElement("div");Z.setAttribute("class","pnBlock");let V=document.createElement("div");V.setAttribute("id","pnContent"),V.onwheel=function(t){t.preventDefault(),V.scrollLeft+=t.deltaY},Z.append(V),n.append(Z),f.append(n);let Y=document.createElement("button");Y.setAttribute("class","testOffchainPayments"),Y.innerText="Test Ton Payments",Y.onclick=async function(){console.log("Starting testing payments: "),console.log("Starting 1st offchainTransfer type=userLoose amount=0.1 "),await Ta("userLoose",.1),console.log("Starting 2st offchainTransfer type=userLoose amount=0.2 "),await Ta("userLoose",.2),console.log("Starting 3st offchainTransfer type=userWin amount=1.1 "),await Ta("userWin",1.1),console.log("Closing Offchain Channel"),await(async()=>{let t,e,r;const i=Da.channelStateInfo.lastSignChannel,n=Da.channelStateInfo.channelState;if(console.log("[closeOffchainChannel] channelState: ",n),!i)throw new Error(`No lastSignChannel in closeOffchainChannel: ${i}`);"A"===i?(t=_a,e=Sa,r=xa):"B"===i&&(t=Sa,e=_a,r=Ia);const o=await t.signClose(n);if(!await e.verifyClose(n,o))throw new Error(`[closeOffchainChannel] invalid close signature channelVerify: ${e}`);try{await r.close({...n,hisSignature:o}).send(Ma("0.05")),console.log("Closed succefully!")}catch(t){throw new Error(`[closeOffchainChannel] error ${t}`)}})()},f.append(Y)}function w(){o=[],s=[]}function y(a,u,c,g){if(n=r,r=t<r?t:r,r>0){if(!f.querySelector(".spinBtn")){let a=document.createElement("div");a.setAttribute("class","spinBtn"),a.innerText="spin",a.onclick=function(){var a;this.remove(),function(t){for(i=0;i<l.length;i++)if(l[i]==t)var e=9.73*i+362;d.style.cssText="animation: wheelRotate 5s linear infinite;",p.style.cssText="animation: ballRotate 1s linear infinite;",setTimeout((function(){p.style.cssText="animation: ballRotate 2s linear infinite;",style=document.createElement("style"),style.type="text/css",style.innerText="@keyframes ballStop {from {transform: rotate(0deg);}to{transform: rotate(-"+e+"deg);}}",document.head.appendChild(style)}),2e3),setTimeout((function(){p.style.cssText="animation: ballStop 3s linear;"}),6e3),setTimeout((function(){p.style.cssText="transform: rotate(-"+e+"deg);"}),9e3),setTimeout((function(){d.style.cssText="",style.remove()}),1e4)}(a=Math.floor(36*Math.random())),setTimeout((function(){if(s.includes(a)){let e=0,r=0;for(i=0;i<o.length;i++)o[i].numbers.split(",").map(Number).includes(a)&&(t=t+o[i].odds*o[i].amt+o[i].amt,e+=o[i].odds*o[i].amt,r+=o[i].amt);!function(t,e,r){if(e>0){const i=e+r;console.log("totalWin: ",i);let n=document.createElement("div");n.setAttribute("id","notification");let o=document.createElement("div");o.setAttribute("class","nSpan");let s=document.createElement("span");s.setAttribute("class","nsnumber"),s.style.cssText=h.includes(t)?"color:red":"color:black",s.innerText=t,o.append(s);let a=document.createElement("span");a.innerText=" Win",o.append(a);let u=document.createElement("div");u.setAttribute("class","nsWin");let l=document.createElement("div");l.setAttribute("class","nsWinBlock"),l.innerText="Bet: "+r,o.append(l),u.append(l),l=document.createElement("div"),l.setAttribute("class","nsWinBlock"),l.innerText="Win: "+e,o.append(l),u.append(l),l=document.createElement("div"),l.setAttribute("class","nsWinBlock"),l.innerText="Payout: "+i,u.append(l),o.append(u),n.append(o),f.prepend(n),setTimeout((function(){n.style.cssText="opacity:0"}),3e3),setTimeout((function(){n.remove()}),4e3)}}(a,e,r)}e=0,document.getElementById("bankSpan").innerText=""+t.toLocaleString("en-GB"),document.getElementById("betSpan").innerText=""+e.toLocaleString("en-GB");let u=h.includes(a)?"pnRed":0==a?"pnGreen":"pnBlack",l=document.getElementById("pnContent"),c=document.createElement("span");c.setAttribute("class",u),c.innerText=a,l.append(c),l.scrollLeft=l.scrollWidth,o=[],s=[],b(),r=n,0==t&&0==e&&m()}),1e4)},f.append(a)}for(t-=r,e+=r,document.getElementById("bankSpan").innerText=""+t.toLocaleString("en-GB"),document.getElementById("betSpan").innerText=""+e.toLocaleString("en-GB"),i=0;i<o.length;i++)if(o[i].numbers==u&&o[i].type==c){o[i].amt=o[i].amt+r;let t=o[i].amt<5?"red":o[i].amt<10?"blue":o[i].amt<100?"orange":"gold";return a.querySelector(".chip").style.cssText="",a.querySelector(".chip").setAttribute("class","chip "+t),void(a.querySelector(".chipSpan").innerText=o[i].amt)}var w={amt:r,type:c,odds:g,numbers:u};o.push(w);let y=u.split(",").map(Number);for(i=0;i<y.length;i++)s.includes(y[i])||s.push(y[i]);if(!a.querySelector(".chip")){let t=r<5?"red":r<10?"blue":r<100?"orange":"gold",e=document.createElement("div");e.setAttribute("class","chip "+t);let i=document.createElement("span");i.setAttribute("class","chipSpan"),i.innerText=r,e.append(i),a.append(e)}}}function v(n,s,a,h){for(r=0==r?100:r,i=0;i<o.length;i++)if(o[i].numbers==s&&o[i].type==a&&0!=o[i].amt)if(r=o[i].amt>r?r:o[i].amt,o[i].amt=o[i].amt-r,t+=r,e-=r,document.getElementById("bankSpan").innerText=""+t.toLocaleString("en-GB"),document.getElementById("betSpan").innerText=""+e.toLocaleString("en-GB"),0==o[i].amt)n.querySelector(".chip").style.cssText="display:none";else{let t=o[i].amt<5?"red":o[i].amt<10?"blue":o[i].amt<100?"orange":"gold";n.querySelector(".chip").setAttribute("class","chip "+t),n.querySelector(".chipSpan").innerText=o[i].amt}0==e&&f.querySelector(".spinBtn")&&document.getElementsByClassName("spinBtn")[0].remove()}function b(){var t=document.getElementsByClassName("chip");if(t.length>0){for(i=0;i<t.length;i++)t[i].remove();b()}}})();
//# sourceMappingURL=index.3b091f3e.js.map
